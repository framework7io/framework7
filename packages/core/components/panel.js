(function framework7ComponentLoader(e,a){void 0===a&&(a=!0);document,window;var t=e.$,i=(e.Template7,e.utils),n=(e.device,e.support),s=e.Class;e.Modal,e.ConstructorMethods,e.ModalMethods;function l(e){var a=e.app;if(!e.resizableInitialized){i.extend(e,{resizable:!0,resizableWidth:null,resizableInitialized:!0});var s=t("html"),l=e.$el,o=e.$backdropEl,r=e.side,p=e.effect;if(l){var d,h,c,v,f,u,b,m,g={};0===e.$el.find(".panel-resize-handler").length&&e.$el.append('<div class="panel-resize-handler"></div>'),e.$resizeHandlerEl=e.$el.children(".panel-resize-handler"),l.addClass("panel-resizable");var w=!!n.passiveListener&&{passive:!0};e.$el.on(a.touchEvents.start,".panel-resize-handler",k,w),a.on("touchmove:active",y),a.on("touchend:passive",z),a.on("resize",B),e.on("beforeOpen",B),e.once("panelDestroy",function(){l.removeClass("panel-resizable"),e.$resizeHandlerEl.remove(),e.$el.off(a.touchEvents.start,".panel-resize-handler",k,w),a.off("touchmove:active",y),a.off("touchend:passive",z),a.off("resize",B),e.off("beforeOpen",B)})}}function C(e){if(!e)return null;if(e.indexOf("%")>=0||e.indexOf("vw")>=0)return parseInt(e,10)/100*a.width;var t=parseInt(e,10);return Number.isNaN(t)?null:t}function k(a){e.resizable&&l.hasClass("panel-resizable")&&(g.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,g.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,h=!1,d=!0,u=C(l.css("min-width")),b=C(l.css("max-width")),m=l.hasClass("panel-in-breakpoint"))}function y(i){if(d){var n="touchmove"===i.type?i.targetTouches[0].pageX:i.pageX;h||(v=l[0].offsetWidth,l.transition(0),l.addClass("panel-resizing"),s.css("cursor","col-resize"),("reveal"===p||m)&&(f=t(e.getViewEl())),"reveal"!==p||m||(o.transition(0),f.transition(0))),h=!0,i.preventDefault(),c=n-g.x;var w="left"===r?v+c:v-c;u&&!Number.isNaN(u)&&(w=Math.max(w,u)),b&&!Number.isNaN(b)&&(w=Math.min(w,b)),w=Math.min(Math.max(w,0),a.width),e.resizableWidth=w,l[0].style.width=w+"px","reveal"!==p||m?m&&f&&f.css("margin-"+r,w+"px"):(f&&f.transform("translate3d("+("left"===r?w:-w)+"px, 0, 0)"),o&&o.transform("translate3d("+("left"===r?w:-w)+"px, 0, 0)")),l.trigger("panel:resize",w),e.emit("local::resize panelResize",e,w)}}function z(){if(t("html").css("cursor",""),!d||!h)return d=!1,void(h=!1);d=!1,h=!1,s[0].style.setProperty("--f7-panel-"+r+"-width",e.resizableWidth+"px"),l[0].style.width="","reveal"!==p||m||(f.transform(""),o.transform("")),l.removeClass("panel-resizing"),i.nextFrame(function(){m||(l.transition(""),"reveal"===p&&(o.transition(""),f&&f.transition("")))})}function B(){e.opened&&e.resizableWidth&&(u=C(l.css("min-width")),b=C(l.css("max-width")),u&&!Number.isNaN(u)&&e.resizableWidth<u&&(e.resizableWidth=Math.max(e.resizableWidth,u)),b&&!Number.isNaN(b)&&e.resizableWidth>b&&(e.resizableWidth=Math.min(e.resizableWidth,b)),e.resizableWidth=Math.min(Math.max(e.resizableWidth,0),a.width),s[0].style.setProperty("--f7-panel-"+r+"-width",e.resizableWidth+"px"))}}var o=function(e){function a(a,n){void 0===n&&(n={});var s=i.extend({on:{}},a.params.panel,n);e.call(this,s,[a]);var l;if(this.params=s,this.params.el?l=t(this.params.el).eq(0):this.params.content&&(l=t(this.params.content).filter(function(e,a){return 1===a.nodeType}).eq(0)),0===l.length)return this;if(l[0].f7Panel)return l[0].f7Panel;l[0].f7Panel=this;var o,r=this.params,p=r.side,d=r.effect,h=r.resizable;return void 0===p&&(p=l.hasClass("panel-left")?"left":"right"),void 0===d&&(d=l.hasClass("panel-cover")?"cover":"reveal"),void 0===h&&(h=l.hasClass("panel-resizable")),this.params.backdrop&&this.params.backdropEl?o=t(this.params.backdropEl):this.params.backdrop&&0===(o=a.root.children(".panel-backdrop")).length&&(o=t('<div class="panel-backdrop"></div>'),a.root.prepend(o)),i.extend(this,{app:a,side:p,effect:d,resizable:h,$el:l,el:l[0],opened:!1,$backdropEl:o,backdropEl:o&&o[0]}),this.useModules(),this.init(),this}return e&&(a.__proto__=e),a.prototype=Object.create(e&&e.prototype),a.prototype.constructor=a,a.prototype.getViewEl=function(){var e=this.app;return e.root.children(".views").length>0?e.root.children(".views")[0]:e.root.children(".view")[0]},a.prototype.enableVisibleBreakpoint=function(){return this.visibleBreakpointDisabled=!1,this.setVisibleBreakpoint(),this},a.prototype.disableVisibleBreakpoint=function(){return this.visibleBreakpointDisabled=!0,this.setVisibleBreakpoint(),this},a.prototype.toggleVisibleBreakpoint=function(){return this.visibleBreakpointDisabled=!this.visibleBreakpointDisabled,this.setVisibleBreakpoint(),this},a.prototype.setVisibleBreakpoint=function(e){var a,i,n;void 0===e&&(e=!0);var s=this,l=s.app;s.visibleBreakpointResizeHandler||(s.visibleBreakpointResizeHandler=function(){s.setVisibleBreakpoint()},l.on("resize",s.visibleBreakpointResizeHandler));var o=s.side,r=s.$el,p=s.params,d=s.visibleBreakpointDisabled,h=p.visibleBreakpoint,c=t(s.getViewEl()),v=r.hasClass("panel-in-breakpoint");l.width>=h&&null!=h&&!d?v?c.css(((i={})["margin-"+o]=r.width()+"px",i)):(t("html").removeClass("with-panel-"+o+"-reveal with-panel-"+o+"-cover with-panel"),r.addClass("panel-in-breakpoint").removeClass("panel-in panel-in-collapsed"),s.onOpen(!1),s.onOpened(),c.css(((a={})["margin-"+o]=r.width()+"px",a)),l.allowPanelOpen=!0,e&&(l.emit("local::breakpoint panelBreakpoint"),s.$el.trigger("panel:breakpoint"))):v&&(r.removeClass("panel-in-breakpoint panel-in"),s.onClose(),s.onClosed(),c.css(((n={})["margin-"+o]="",n)),e&&(l.emit("local::breakpoint panelBreakpoint"),s.$el.trigger("panel:breakpoint")))},a.prototype.enableCollapsedBreakpoint=function(){return this.collapsedBreakpointDisabled=!1,this.setCollapsedBreakpoint(),this},a.prototype.disableCollapsedBreakpoint=function(){return this.collapsedBreakpointDisabled=!0,this.setCollapsedBreakpoint(),this},a.prototype.toggleCollapsedBreakpoint=function(){return this.collapsedBreakpointDisabled=!this.collapsedBreakpointDisabled,this.setCollapsedBreakpoint(),this},a.prototype.setCollapsedBreakpoint=function(e){var a=this,i=a.app;a.collapsedBreakpointResizeHandler||(a.collapsedBreakpointResizeHandler=function(){a.setCollapsedBreakpoint()},i.on("resize",a.collapsedBreakpointResizeHandler));var n=a.side,s=a.$el,l=a.params,o=a.collapsedBreakpointDisabled;if(!s.hasClass("panel-in-breakpoint")){var r=l.collapsedBreakpoint,p=s.hasClass("panel-in-collapsed");i.width>=r&&null!=r&&!o?p||(t("html").removeClass("with-panel-"+n+"-reveal with-panel-"+n+"-cover with-panel"),s.addClass("panel-in-collapsed").removeClass("panel-in"),a.collapsed=!0,i.allowPanelOpen=!0,e&&(i.emit("local::collapsedBreakpoint panelCollapsedBreakpoint"),a.$el.trigger("panel:collapsedbreakpoint"))):p&&(s.removeClass("panel-in-collapsed panel-in"),a.collapsed=!1,e&&(i.emit("local::collapsedBreakpoint panelCollapsedBreakpoint"),a.$el.trigger("panel:collapsedbreakpoint")))}},a.prototype.enableResizable=function(){return this.resizableInitialized?(this.resizable=!0,this.$el.addClass("panel-resizable")):l(this),this},a.prototype.disableResizable=function(){return this.resizable=!1,this.$el.removeClass("panel-resizable"),this},a.prototype.enableSwipe=function(){return this.swipeInitialized?this.swipeable=!0:function(e){var a=e.app;if(!e.swipeInitialized){i.extend(e,{swipeable:!0,swipeInitialized:!0});var n,s,l,o,r,p,d,h,c,v,f,u=e.params,b=e.$el,m=e.$backdropEl,g=e.side,w=e.effect,C={},k=0;a.on("touchstart:passive",y),a.on("touchmove:active",z),a.on("touchend:passive",B),e.on("panelDestroy",function(){a.off("touchstart:passive",y),a.off("touchmove:active",z),a.off("touchend:passive",B)})}function y(p){if(e.swipeable&&a.panel.allowOpen&&(u.swipe||u.swipeOnlyClose)&&!s&&!(t(".modal-in:not(.toast):not(.notification), .photo-browser-in").length>0)){var d=(n=a.panel.get("left"===g?"right":"left")||{}).opened&&n.$el&&!n.$el.hasClass("panel-in-breakpoint");if((e.opened||!d)&&(u.swipeOnlyClose||!d)&&(!p.target||"input"!==p.target.nodeName.toLowerCase()||"range"!==p.target.type)&&!(t(p.target).closest(".range-slider, .tabs-swipeable-wrap, .calendar-months, .no-swipe-panel, .card-opened").length>0)&&(C.x="touchstart"===p.type?p.targetTouches[0].pageX:p.pageX,C.y="touchstart"===p.type?p.targetTouches[0].pageY:p.pageY,!u.swipeOnlyClose||e.opened)){if(u.swipeActiveArea&&!e.opened){if("left"===g&&C.x>u.swipeActiveArea)return;if("right"===g&&C.x<a.width-u.swipeActiveArea)return}k=0,f=t(e.getViewEl()),l=!1,s=!0,o=void 0,r=i.now(),v=void 0}}}function z(t){if(s&&!((k+=1)<2))if(t.f7PreventSwipePanel||a.preventSwipePanelBySwipeBack||a.preventSwipePanel)s=!1;else{var i="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if(void 0===o&&(o=!!(o||Math.abs(n-C.y)>Math.abs(i-C.x))),o)s=!1;else{if(!v){if(v=i>C.x?"to-right":"to-left",u.swipeActiveArea>0&&!e.opened){if("left"===g&&C.x>u.swipeActiveArea)return void(s=!1);if("right"===g&&C.x<a.width-u.swipeActiveArea)return void(s=!1)}if(b.hasClass("panel-in-breakpoint"))return void(s=!1);if("left"===g&&"to-left"===v&&!b.hasClass("panel-in")||"right"===g&&"to-right"===v&&!b.hasClass("panel-in"))return void(s=!1)}var r=e.opened?0:-u.swipeThreshold;"right"===g&&(r=-r),l||(e.opened||(b.addClass("panel-in-swipe"),m.css("visibility","visible"),b.trigger("panel:swipeopen"),e.emit("local::swipeOpen panelSwipeOpen",e)),c=b[0].offsetWidth,"reveal"===w&&b.hasClass("panel-in-collapsed")&&(c-=parseFloat(f.css("margin-"+g))),b.transition(0)),l=!0,t.preventDefault(),p=i-C.x+r,"right"===g?"cover"===w?((d=p+(e.opened?0:c))<0&&(d=0),d>c&&(d=c)):((d=p-(e.opened?c:0))>0&&(d=0),d<-c&&(d=-c)):((d=p+(e.opened?c:0))<0&&(d=0),d>c&&(d=c)),"reveal"===w?(f.transform("translate3d("+d+"px,0,0)").transition(0),m.transform("translate3d("+d+"px,0,0)").transition(0),b.trigger("panel:swipe",Math.abs(d/c)),e.emit("local::swipe panelSwipe",e,Math.abs(d/c))):("left"===g&&(d-=c),b.transform("translate3d("+d+"px,0,0)").transition(0),m.transition(0),h=1-Math.abs(d/c),m.css({opacity:h}),b.trigger("panel:swipe",Math.abs(d/c)),e.emit("local::swipe panelSwipe",e,Math.abs(d/c)))}}}function B(){if(!s||!l)return s=!1,void(l=!1);s=!1,l=!1;var a,n=(new Date).getTime()-r,o=0===d||Math.abs(d)===c,h=u.swipeThreshold||0;"swap"==(a=e.opened?"cover"===w?0===d?"reset":n<300&&Math.abs(d)>0?"swap":n>=300&&Math.abs(d)<c/2?"reset":"swap":d===-c?"reset":n<300&&Math.abs(d)>=0||n>=300&&Math.abs(d)<=c/2?"left"===g&&d===c?"reset":"swap":"reset":Math.abs(p)<h?"reset":"cover"===w?0===d?"swap":n<300&&Math.abs(d)>0?"swap":n>=300&&Math.abs(d)<c/2?"swap":"reset":0===d?"reset":n<300&&Math.abs(d)>0||n>=300&&Math.abs(d)>=c/2?"swap":"reset")&&(e.opened?e.close(!o):e.open(!o));var v=!0;if("reset"===a&&!e.opened)if(o)b.removeClass("panel-in-swipe");else{v=!1;var C="reveal"===w?f:b;t("html").addClass("with-panel-closing"),C.transitionEnd(function(){b.hasClass("panel-in")||(b.removeClass("panel-in-swipe"),t("html").removeClass("with-panel-closing"))})}"reveal"===w&&i.nextFrame(function(){f.transition(""),f.transform("")}),v&&b.removeClass("panel-in-swipe"),b.transition("").transform(""),m.transform("").transition("").css({opacity:"",visibility:""})}}(this),this},a.prototype.disableSwipe=function(){return this.swipeable=!1,this},a.prototype.onOpen=function(e){void 0===e&&(e=!0);var a=this.app;this.opened=!0,a.panel.allowOpen=!1,this.$el.trigger("panel:beforeopen"),this.emit("local::beforeOpen panelBeforeOpen",this),e&&t("html").addClass("with-panel with-panel-"+this.side+"-"+this.effect),this.$el.trigger("panel:open"),this.emit("local::open panelOpen",this)},a.prototype.onOpened=function(){this.app.panel.allowOpen=!0,this.$el.trigger("panel:opened"),this.emit("local::opened panelOpened",this)},a.prototype.onClose=function(){var e=this.app;this.opened=!1,e.panel.allowOpen=!1,this.$el.trigger("panel:beforeclose"),this.emit("local::beforeClose panelBeforeClose",this),t("html").addClass("with-panel-closing"),t("html").removeClass("with-panel with-panel-"+this.side+"-"+this.effect),this.$el.trigger("panel:close"),this.emit("local::close panelClose",this)},a.prototype.onClosed=function(){this.app.panel.allowOpen=!0,t("html").removeClass("with-panel-closing"),this.$el.removeClass("panel-out"),this.$el.trigger("panel:closed"),this.emit("local::closed panelClosed",this)},a.prototype.toggle=function(e){void 0===e&&(e=!0);var a=this.params.visibleBreakpoint;return this.app.width>=a&&null!=a?this.toggleVisibleBreakpoint():(this.opened?this.close(e):this.open(e),this)},a.prototype.open=function(e){void 0===e&&(e=!0);var a=this,i=a.app;if(!i.panel.allowOpen)return!1;var n=a.effect,s=a.$el,l=a.$backdropEl,o=a.opened;if(!s||s.hasClass("panel-in"))return a;var r=s.parent(),p=s.parents(document).length>0;if(!r.is(i.root)||s.prevAll(".views, .view").length){var d=i.root.children(".panel, .views, .view").eq(0),h=i.root.children(".panel-backdrop").eq(0);d.length?s.insertBefore(d):h?s.insertBefore(h):i.root.prepend(s),l&&l.length&&(!l.parent().is(i.root)&&0===l.nextAll(".panel").length||l.parent().is(i.root)&&0===l.nextAll(".panel").length)&&l.insertBefore(s),a.once("panelClosed",function(){p?r.append(s):s.remove()})}if(o||s.hasClass("panel-in-breakpoint")||s.hasClass("panel-in"))return!1;var c=i.panel.get(".panel-in");c&&c!==a&&c.close(e),s[e?"removeClass":"addClass"]("not-animated"),s.addClass("panel-in"),l[e?"removeClass":"addClass"]("not-animated"),"cover"===a.effect&&(a._clientLeft=s[0].clientLeft);var v="reveal"===n?s.nextAll(".view, .views").eq(0):s;return e?(l&&l.removeClass("not-animated"),function e(){v.transitionEnd(function(i){t(i.target).is(v)?s.hasClass("panel-out")?a.onClosed():a.onOpened():e()})}(),s.removeClass("panel-out not-animated").addClass("panel-in"),a.onOpen()):(l&&l.addClass("not-animated"),s.removeClass("panel-out").addClass("panel-in not-animated"),a.onOpen(),a.onOpened()),!0},a.prototype.close=function(e){void 0===e&&(e=!0);var a=this,i=a.effect,n=a.$el,s=a.$backdropEl;if(!a.opened||n.hasClass("panel-in-breakpoint")||!n.hasClass("panel-in"))return a;n[e?"removeClass":"addClass"]("not-animated"),s[e?"removeClass":"addClass"]("not-animated");var l="reveal"===i?n.nextAll(".view, .views").eq(0):n;return e?(l.transitionEnd(function(){n.hasClass("panel-out")?a.onClosed():n.hasClass("panel-in")&&a.onOpened(),t("html").removeClass("with-panel-closing")}),n.removeClass("panel-in").addClass("panel-out"),a.onClose()):(n.addClass("not-animated").removeClass("panel-in").addClass("panel-out"),a.onClose(),a.onClosed()),a},a.prototype.init=function(){void 0!==this.params.visibleBreakpoint&&this.setVisibleBreakpoint(),void 0!==this.params.collapsedBreakpoint&&this.setCollapsedBreakpoint(),this.params.swipe&&this.enableSwipe(),this.resizable&&this.enableResizable()},a.prototype.destroy=function(){var e,a=this,n=a.app;if(a.$el){if(a.emit("local::beforeDestroy panelBeforeDestroy",a),a.$el.trigger("panel:beforedestroy"),a.visibleBreakpointResizeHandler&&n.off("resize",a.visibleBreakpointResizeHandler),a.collapsedBreakpointResizeHandler&&n.off("resize",a.collapsedBreakpointResizeHandler),a.$el.hasClass("panel-in-breakpoint")||a.$el.hasClass("panel-in-collapsed")){var s=t(a.getViewEl());a.$el.removeClass("panel-in-breakpoint panel-in-collapsed panel-in"),s.css(((e={})["margin-"+a.side]="",e)),n.emit("local::breakpoint panelBreakpoint"),a.$el.trigger("panel:breakpoint")}a.$el.trigger("panel:destroy"),a.emit("local::destroy panelDestroy"),a.el&&(a.el.f7Panel=null,delete a.el.f7Panel),i.deleteProps(a),a=null}},a}(s),r={name:"panel",params:{panel:{opened:void 0,side:void 0,effect:void 0,resizable:void 0,backdrop:!0,backdropEl:void 0,visibleBreakpoint:void 0,collapsedBreakpoint:void 0,swipe:!1,swipeOnlyClose:!1,swipeActiveArea:0,swipeThreshold:0,closeByBackdropClick:!0}},static:{Panel:o},instance:{panel:{allowOpen:!0}},create:function(){var e=this;i.extend(e.panel,{create:function(a){return new o(e,a)},get:function(e){if(void 0===e&&(e=".panel"),e instanceof o)return e;"left"!==e&&"right"!==e||(e=".panel-"+e);var a=t(e);return 0===a.length||a.length>1?void 0:a[0].f7Panel},destroy:function(a){void 0===a&&(a=".panel");var t=e.panel.get(a);if(t&&t.destroy)return t.destroy()},open:function(a,t){void 0===a&&(a=".panel"),"left"!==a&&"right"!==a||(a=".panel-"+a);var i=e.panel.get(a);return i&&i.open?i.open(t):i?void 0:(i=e.panel.create({el:a})).open(t)},close:function(a,t){void 0===a&&(a=".panel-in"),"left"!==a&&"right"!==a||(a=".panel-"+a);var i=e.panel.get(a);return i&&i.open?i.close(t):i?void 0:(i=e.panel.create({el:a})).close(t)},toggle:function(a,t){void 0===a&&(a=".panel"),"left"!==a&&"right"!==a||(a=".panel-"+a);var i=e.panel.get(a);return i&&i.toggle?i.toggle(t):i?void 0:(i=e.panel.create({el:a})).toggle(t)}})},on:{init:function(){var e=this;t(".panel-init").each(function(a,i){var n=Object.assign({el:i},t(i).dataset()||{});e.panel.create(n)})},pageInit:function(e){var a=this;e.$el.find(".panel-init").each(function(e,i){var n=Object.assign({el:i},t(i).dataset()||{});a.panel.create(n)})},pageBeforeRemove:function(e){var a=this;e.$el.find(".panel-init").each(function(e,t){var i=a.panel.get(t);i&&i.destroy&&i.destroy()})}},clicks:{".panel-open":function(e,a){void 0===a&&(a={});this.panel.open(a.panel,a.animate)},".panel-close":function(e,a){void 0===a&&(a={});this.panel.close(a.panel,a.animate)},".panel-toggle":function(e,a){void 0===a&&(a={});this.panel.toggle(a.panel,a.animate)},".panel-backdrop":function(){var e=t(".panel-in:not(.panel-out)");if(e.length){var a=e[0]&&e[0].f7Panel;e.trigger("panel:backdrop-click"),a&&a.emit("backdropClick",a),this.emit("panelBackdropClick",a||e[0]),this.params.panel.closeByBackdropClick&&this.panel.close()}}}};if(a){if(e.prototype.modules&&e.prototype.modules[r.name])return;e.use(r),e.instance&&(e.instance.useModuleParams(r,e.instance.params),e.instance.useModule(r))}return r}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
