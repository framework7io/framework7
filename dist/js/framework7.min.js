/*
 * Framework7 0.9.4
 * Full Featured HTML Framework For Building iOS 7 Apps
 *
 * http://www.idangero.us/framework7
 *
 * Copyright 2014, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under MIT
 *
 * Released on: July 26, 2014
*/
!function(){"use strict";window.Framework7=function(a){function c(a){var b=a.replace(/^./,function(a){return a.toUpperCase()});k["onPage"+b]=function(b,c){return k.onPage(a,b,c)}}function d(a,c,d){c=b(c);var e=c.find(a);return e.length>1&&("string"==typeof d.selector&&(e=c.find(d.selector+" "+a)),e.length>1&&(e=c.find("."+k.params.viewMainClass+" "+a))),1===e.length?e:void 0}function e(a,b,c){"to-left"===c&&(a.removeClass("page-on-center").addClass("page-from-center-to-left"),b.addClass("page-from-right-to-center")),"to-right"===c&&(a.removeClass("page-on-left").addClass("page-from-left-to-center"),b.removeClass("page-on-center").addClass("page-from-center-to-right"))}function f(a,c,d){"to-left"===d&&(c.removeClass("navbar-on-right").addClass("navbar-from-right-to-center"),c.find(".sliding").each(function(){var a=b(this);a.transform("translate3d(0px,0,0)"),k.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),a.removeClass("navbar-on-center").addClass("navbar-from-center-to-left"),a.find(".sliding").each(function(){var a=b(this);k.params.animateNavBackIcon&&(a.hasClass("center")&&c.find(".sliding.left .back .icon").length>0&&(this.f7NavbarLeftOffset+=c.find(".sliding.left .back span")[0].offsetLeft),a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===d&&(a.removeClass("navbar-on-left").addClass("navbar-from-left-to-center"),a.find(".sliding").each(function(){var a=b(this);a.transform("translate3d(0px,0,0)"),k.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),c.removeClass("navbar-on-center").addClass("navbar-from-center-to-right"),c.find(".sliding").each(function(){var a=b(this);k.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),a.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))}function g(a,c,g,h){function i(){k.allowPageChange=!0,j.removeClass("page-from-right-to-center page-on-right").addClass("page-on-center"),l.removeClass("page-from-center-to-left page-on-center").addClass("page-on-left"),r&&(p.removeClass("navbar-from-right-to-center navbar-on-right").addClass("navbar-on-center"),o.removeClass("navbar-from-center-to-left navbar-on-center").addClass("navbar-on-left")),k.pageAnimCallbacks("after",a,{pageContainer:j[0],url:c,position:"right",oldPage:l,newPage:j}),k.params.pushState&&k.pushStateClearQueue()}var j,l,m,n,o,p,q,r,s=b(a.container),t=b(a.pagesContainer);if("undefined"==typeof h&&(h=a.params.animatePages),k.pluginHook("loadPage",a,c,g),k._tempDomElement.innerHTML="",c||"string"==typeof g)k._tempDomElement.innerHTML=g;else if("length"in g&&g.length>1)for(var u=0;u<g.length;u++)b(k._tempDomElement).append(g[u]);else b(k._tempDomElement).append(g);if(j=d(".page",k._tempDomElement,a),!j)return void(k.allowPageChange=!0);if(j.addClass("page-on-right"),m=t.children(".page:not(.cached)"),m.length>1){for(n=0;n<m.length-2;n++)a.params.domCache?b(m[n]).addClass("cached"):(k.pageRemoveCallback(a,m[n],"left"),b(m[n]).remove());a.params.domCache?b(m[n]).addClass("cached"):(k.pageRemoveCallback(a,m[n],"left"),b(m[n]).remove())}if(l=t.children(".page:not(.cached)"),a.params.dynamicNavbar&&(r=!0,p=d(".navbar-inner",k._tempDomElement,a),p||(r=!1),q=s.find(".navbar"),o=q.find(".navbar-inner:not(.cached)"),o.length>0)){for(n=0;n<o.length-1;n++)a.params.domCache?b(o[n]).addClass("cached"):b(o[n]).remove();p||1!==o.length||(a.params.domCache?b(o[0]).addClass("cached"):b(o[0]).remove()),o=q.find(".navbar-inner:not(.cached)")}r&&(p.addClass("navbar-on-right"),q.append(p[0]),k.navbarInitCallback(a,j[0],q[0],p[0],c,"right")),c||(c="#content-"+a.history.length,a.params.domCache||(1===a.history.length&&(a.contentCache[a.history[0]]={nav:o,page:l}),a.contentCache[c]={nav:p,page:j})),a.url=c,a.history.push(c),t.append(j[0]),k.pageInitCallback(a,j[0],c,"right"),r&&h&&p.find(".sliding").each(function(){var a=b(this);a.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)"),k.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)")});j[0].clientLeft;k.pageAnimCallbacks("before",a,{pageContainer:j[0],url:c,position:"left",oldPage:l,newPage:j}),h?(e(l,j,"to-left",a),r&&setTimeout(function(){f(o,p,"to-left",a)},0),j.animationEnd(function(){i()})):i()}function h(a,b,c){k.pluginHook("preprocess",a,b,c),a=k.pluginProcess("preprocess",a),k.params.preprocess?(a=k.params.preprocess(a,b,c),"undefined"!=typeof a&&c(a)):c(a)}function i(){var a=this,c=a.scrollTop,d=a.scrollHeight,e=a.offsetHeight,f=a.getAttribute("data-distance");f||(f=50),"string"==typeof f&&f.indexOf("%")>=0&&(f=parseInt(f,10)/100*e),f>e&&(f=e),c+e>=d-f&&b(a).trigger("infinite")}function j(){k.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var k=this;k.version="0.9.4",k.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:!0,animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageBoxShadow:!0,ajaxLinks:void 0,externalLinks:["external"],sortable:!0,swipeout:!0,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back-blue"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:!0,searchbarHideGroups:!0,swipePanel:!1,swipePanelActiveArea:0,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,panelsVisibleZIndex:6e3,modalTemplate:'<div class="modal {{noButtons}}"><div class="modal-inner">{{if title}}<div class="modal-title">{{title}}</div>{{/if title}}<div class="modal-text">{{text}}</div>{{afterText}}</div><div class="modal-buttons">{{buttons}}</div></div>',modalActionsTemplate:'<div class="actions-modal">{{buttons}}</div>',modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",init:!0,viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,animatePages:!0};for(var l in a)k.params[l]=a[l];k.$=b,k.touchEvents={start:k.support.touch?"touchstart":"mousedown",move:k.support.touch?"touchmove":"mousemove",end:k.support.touch?"touchend":"mouseup"},k.ls=localStorage,k.rtl="rtl"===b("body").css("direction"),k.rtl&&b("html").attr("dir","rtl"),"undefined"!=typeof k.params.statusbarOverlay&&(k.params.statusbarOverlay?b("html").addClass("with-statusbar-overlay"):b("html").removeClass("with-statusbar-overlay")),k.views=[];var m=function(a,c){var d={dynamicNavbar:!1,domCache:!1,linksView:void 0,swipeBackPage:k.params.swipeBackPage,swipeBackPageBoxShadow:k.params.swipeBackPageBoxShadow,swipeBackPageActiveArea:k.params.swipeBackPageActiveArea,swipeBackPageThreshold:k.params.swipeBackPageThreshold,animatePages:k.params.animatePages};c=c||{};for(var e in d)"undefined"==typeof c[e]&&(c[e]=d[e]);var f=this;f.params=c,f.selector=a;var g=b(a);f.container=g[0];var h=document.location.href;f.history=[];var i=h,j=k.params.pushStateSeparator,l=k.params.pushStateRoot;if(k.params.pushState&&(l?i=l:i.indexOf(j)>=0&&i.indexOf(j+"#")<0&&(i=i.split(j)[0])),f.url=g.attr("data-url")||f.params.url||i,f.url&&f.history.push(f.url),f.contentCache={},g[0].f7View=f,f.pagesContainer=g.find(".pages")[0],!f.activePage){var m,n=b(f.pagesContainer).find(".page-on-center");0===n.length&&(n=b(f.pagesContainer).find(".page"),n=n.eq(n.length-1)),n.length>0&&(m=n[0].f7PageData),m&&(m.view=f,f.url&&(m.url=f.url),f.activePage=m,n[0].f7PageData=m)}f.main=g.hasClass(k.params.viewMainClass);var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=!1,D=!1,E={},F=!0;if(f.handleTouchStart=function(a){F&&f.params.swipeBackPage&&!C&&!k.swipeoutOpenedEl&&(D=!1,C=!0,o=void 0,E.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,E.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,t=(new Date).getTime(),A=f.params.dynamicNavbar&&g.find(".navbar-inner").length>1)},f.handleTouchMove=function(a){if(C){var c="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,d="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof o&&(o=!!(o||Math.abs(d-E.y)>Math.abs(c-E.x))),o||a.f7PreventSwipeBack)return void(C=!1);if(a.f7PreventPanelSwipe=!0,!D){var e=!1;r=g.width();var h=b(a.target);p=h.is(".page")?h:h.parents(".page"),p.hasClass("no-swipeback")&&(e=!0),q=g.find(".page-on-left:not(.cached)");var i=E.x-g.offset().left>f.params.swipeBackPageActiveArea;if(i=k.rtl?E.x<g.offset().left-g[0].scrollLeft+r-f.params.swipeBackPageActiveArea:E.x-g.offset().left>f.params.swipeBackPageActiveArea,i&&(e=!0),(0===q.length||0===p.length)&&(e=!0),e)return void(C=!1);A&&(u=g.find(".navbar-on-center:not(.cached)"),v=g.find(".navbar-on-left:not(.cached)"),w=u.find(".left, .center, .right"),x=v.find(".left, .center, .right"),k.params.animateNavBackIcon&&(y=u.find(".left.sliding .back .icon"),z=v.find(".left.sliding .back .icon")))}D=!0,a.preventDefault();var j=k.rtl?-1:1;s=(c-E.x-f.params.swipeBackPageThreshold)*j,0>s&&(s=0);var l=s/r,m=s*j,n=(s/5-r/5)*j;if(1===k.device.pixelRatio&&(m=Math.round(m),n=Math.round(n)),p.transform("translate3d("+m+"px,0,0)"),f.params.swipeBackPageBoxShadow&&"android"!==k.device.os&&(p[0].style.boxShadow="0px 0px 12px rgba(0,0,0,"+(.5-.5*l)+")"),q.transform("translate3d("+n+"px,0,0)"),q[0].style.opacity=.9+.1*l,A){var t;for(t=0;t<w.length;t++)if(B=b(w[t]),B[0].style.opacity=1-1.3*l,B[0].className.indexOf("sliding")>=0){var F=l*B[0].f7NavbarRightOffset;1===k.device.pixelRatio&&(F=Math.round(F)),B.transform("translate3d("+F+"px,0,0)"),k.params.animateNavBackIcon&&B[0].className.indexOf("left")>=0&&y.length>0&&y.transform("translate3d("+-F+"px,0,0)")}for(t=0;t<x.length;t++)if(B=b(x[t]),B[0].style.opacity=1.3*l-.3,B[0].className.indexOf("sliding")>=0){var G=B[0].f7NavbarLeftOffset*(1-l);1===k.device.pixelRatio&&(G=Math.round(G)),B.transform("translate3d("+G+"px,0,0)"),k.params.animateNavBackIcon&&B[0].className.indexOf("left")>=0&&z.length>0&&z.transform("translate3d("+-G+"px,0,0)")}}}},f.handleTouchEnd=function(){if(!C||!D)return C=!1,void(D=!1);if(C=!1,D=!1,0===s)return b([p[0],q[0]]).transform("").css({opacity:"",boxShadow:""}),void(A&&(w.transform("").css({opacity:""}),x.transform("").css({opacity:""}),y&&y.length>0&&y.transform(""),z&&y.length>0&&z.transform("")));var a=(new Date).getTime()-t,c=!1;if((300>a&&s>10||a>=300&&s>r/2)&&(p.removeClass("page-on-center").addClass("page-on-right"),q.removeClass("page-on-left").addClass("page-on-center"),A&&(u.removeClass("navbar-on-center").addClass("navbar-on-right"),v.removeClass("navbar-on-left").addClass("navbar-on-center")),c=!0),b([p[0],q[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),A&&(w.css({opacity:""}).each(function(){var a=c?this.f7NavbarRightOffset:0,d=b(this);d.transform("translate3d("+a+"px,0,0)"),k.params.animateNavBackIcon&&d.hasClass("left")&&y.length>0&&y.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning"),x.transform("").css({opacity:""}).each(function(){var a=c?0:this.f7NavbarLeftOffset,d=b(this);d.transform("translate3d("+a+"px,0,0)"),k.params.animateNavBackIcon&&d.hasClass("left")&&z.length>0&&z.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning")),F=!1,k.allowPageChange=!1,c){var d=f.history[f.history.length-2];f.url=d,k.pageAnimCallbacks("before",f,{pageContainer:q[0],url:d,position:"left",newPage:q,oldPage:p})}p.transitionEnd(function(){b([p[0],q[0]]).removeClass("page-transitioning"),A&&(w.removeClass("page-transitioning").css({opacity:""}),x.removeClass("page-transitioning").css({opacity:""}),y&&y.length>0&&y.removeClass("page-transitioning"),z&&z.length>0&&z.removeClass("page-transitioning")),F=!0,k.allowPageChange=!0,c&&(k.params.pushState&&history.back(),k.afterGoBack(f,p,q))})},f.attachEvents=function(a){var b=a?"off":"on";g[b](k.touchEvents.start,f.handleTouchStart),g[b](k.touchEvents.move,f.handleTouchMove),g[b](k.touchEvents.end,f.handleTouchEnd)},f.detachEvents=function(){f.attachEvents(!0)},f.params.swipeBackPage&&f.attachEvents(),k.views.push(f),f.main&&(k.mainView=f),f.loadPage=function(a,b){return k.loadPage(f,a,b)},f.loadContent=function(a,b){return k.loadContent(f,a,b)},f.goBack=function(a,b){return k.goBack(f,a,b)},f.hideNavbar=function(){return k.hideNavbar(g)},f.showNavbar=function(){return k.showNavbar(g)},f.hideToolbar=function(){return k.hideToolbar(g)},f.showToolbar=function(){return k.showToolbar(g)},k.params.pushState&&f.main){var G;l?G=h.split(k.params.pushStateRoot+j)[1]:h.indexOf(j)>=0&&h.indexOf(j+"#")<0&&(G=h.split(j)[1]);var H;k.params.pushStateNoAnimation===!0&&(H=!1),G&&k.loadPage(f,G,H,!1)}return f.destroy=function(){f.detachEvents(),f=void 0},k.pluginHook("addView",f),f};k.addView=function(a,b){return new m(a,b)},k.navbarInitCallback=function(a,c,d,e,f,g){var h={container:d,innerContainer:e},i={url:f,query:b.parseUrlQuery(f||""),container:c,name:b(c).attr("data-page"),view:a,from:g},j={navbar:h,page:i};k.pluginHook("navbarInit",h,i),b(e).trigger("navbarInit",j)},k.sizeNavbars=function(a){var c=a?b(a).find(".navbar .navbar-inner:not(.cached)"):b(".navbar .navbar-inner:not(.cached)");c.each(function(){var a,c,d=b(this),e=d.find(k.rtl?".right":".left"),f=d.find(k.rtl?".left":".right"),g=d.find(".center"),h=0===e.length,i=0===f.length,j=h?0:e.outerWidth(!0),l=i?0:f.outerWidth(!0),m=g.outerWidth(!0),n=d.width(),o=d.hasClass("navbar-on-left");i&&(a=n-m),h&&(a=0),h||i||(a=(n-l-m+j)/2);var p=(n-m)/2;n-j-l>m?(j>p&&(p=j),p+m>n-l&&(p=n-l-m),c=p-a):c=0;var q=k.rtl?-1:1,r=c;k.rtl&&h&&i&&g.length>0&&(r=-r),g.css({left:r+"px"}),g.hasClass("sliding")&&(g[0].f7NavbarLeftOffset=-(a+c)*q,g[0].f7NavbarRightOffset=(n-a-c-m)*q,o&&g.transform("translate3d("+g[0].f7NavbarLeftOffset+"px, 0, 0)")),!h&&e.hasClass("sliding")&&(k.rtl?(e[0].f7NavbarLeftOffset=-(n-e.outerWidth())/2*q,e[0].f7NavbarRightOffset=j*q):(e[0].f7NavbarLeftOffset=-j,e[0].f7NavbarRightOffset=(n-e.outerWidth())/2),o&&e.transform("translate3d("+e[0].f7NavbarLeftOffset+"px, 0, 0)")),!i&&f.hasClass("sliding")&&(k.rtl?(f[0].f7NavbarLeftOffset=-l*q,f[0].f7NavbarRightOffset=(n-f.outerWidth())/2*q):(f[0].f7NavbarLeftOffset=-(n-f.outerWidth())/2,f[0].f7NavbarRightOffset=l),o&&f.transform("translate3d("+f[0].f7NavbarLeftOffset+"px, 0, 0)"))})},k.hideNavbar=function(a){return b(a).addClass("hidden-navbar"),!0},k.showNavbar=function(a){var c=b(a);return c.addClass("hiding-navbar").removeClass("hidden-navbar").find(".navbar").transitionEnd(function(){c.removeClass("hiding-navbar")}),!0},k.hideToolbar=function(a){return b(a).addClass("hidden-toolbar"),!0},k.showToolbar=function(a){var c=b(a);c.addClass("hiding-toolbar").removeClass("hidden-toolbar").find(".toolbar").transitionEnd(function(){c.removeClass("hiding-toolbar")})},k.initSearchbar=function(a){function c(){o.val("").trigger("change"),m.removeClass("searchbar-active searchbar-not-empty"),q.length>0&&q.css(w,-v+"px"),r&&n.removeClass("searchbar-overlay-active"),k.device.ios?setTimeout(function(){o.blur()},400):o.blur()}function d(){k.device.ios?setTimeout(function(){r&&!m.hasClass("searchbar-active")&&n.addClass("searchbar-overlay-active"),m.addClass("searchbar-active"),q.length>0&&q.css(w,"0px"),r.trigger("enableSearch")},400):(r&&!m.hasClass("searchbar-active")&&n.addClass("searchbar-overlay-active"),m.addClass("searchbar-active"),q.length>0&&q.css(w,"0px"),r.trigger("disableSearch"))}function e(){o.val("").trigger("change"),r.trigger("clearSearch")}function f(){setTimeout(function(){var a=o.val().trim();0===a.length?(m.removeClass("searchbar-not-empty"),r&&m.hasClass("searchbar-active")&&n.addClass("searchbar-overlay-active")):(m.addClass("searchbar-not-empty"),r&&m.hasClass("searchbar-active")&&n.removeClass("searchbar-overlay-active")),r.length>0&&s&&j(a)},0)}function g(a){a.preventDefault()}function h(a){var b=a?"off":"on";m[b]("submit",g),q[b]("click",c),n[b]("click",c),o[b]("focus",d),o[b]("change keydown keypress keyup",f),p[b]("click",e)}function i(){h(!0)}function j(a){var c=a.trim().toLowerCase().split(" ");r.find("li").removeClass("hidden-by-searchbar");var d=[];r.find("li").each(function(a,e){e=b(e);var f=e.find(s);if(0!==f.length){var g;g=f.text().trim().toLowerCase();for(var h=0,i=0;i<c.length;i++)g.indexOf(c[i])>=0&&h++;h!==c.length?e.addClass("hidden-by-searchbar"):d.push(e[0])}}),k.params.searchbarHideDividers&&r.find(".item-divider, .list-group-title").each(function(){for(var a=b(this),c=a.nextAll("li"),d=!0,e=0;e<c.length;e++){var f=b(c[e]);if(f.hasClass("list-group-title")||f.hasClass("item-divider"))break;f.hasClass("hidden-by-searchbar")||(d=!1)}d?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")}),k.params.searchbarHideGroups&&r.find(".list-group").each(function(){var a=b(this),c=a.find("li:not(.hidden-by-searchbar)");0===c.length?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")}),r.trigger("search",{query:a,foundItems:d}),0===d.length?(u.show(),t.hide()):(u.hide(),t.show())}function l(){i(),a.off("pageBeforeRemove",l)}a=b(a);var m=a.hasClass("searchbar")?a:a.find(".searchbar");if(0!==m.length){a.hasClass("page")||(a=m.parents(".page").eq(0));var n=a.hasClass("page")?a.find(".searchbar-overlay"):b(".searchbar-overlay"),o=m.find('input[type="search"]'),p=m.find(".searchbar-clear"),q=m.find(".searchbar-cancel"),r=b(m.attr("data-search-list")),s=m.attr("data-search-in"),t=(m.attr("data-search-by"),m.attr("data-searchbar-found"));t?t=b(t):(t=a.find(".searchbar-found"),0===t.length&&(t=b(".searchbar-found")));var u=m.attr("data-searchbar-not-found");u?u=b(u):(u=a.find(".searchbar-not-found"),0===u.length&&(u=b(".searchbar-not-found")));var v,w=k.rtl?"margin-left":"margin-right";q.length>0&&(v=q.width(),q.css(w,-v+"px")),m[0].f7DestroySearchbar=i,h(),a.hasClass("page")&&a.on("pageBeforeRemove",l)}},k.destroySearchbar=function(a){a=b(a);var c=a.hasClass("searchbar")?a:a.find(".searchbar");0!==c.length&&c[0].f7DestroySearchbar&&c[0].f7DestroySearchbar()},k.initMessagebar=function(a){function c(a){a.preventDefault()}function d(){k.css({height:""});var a=k[0].offsetHeight,c=a-k[0].clientHeight,d=k[0].scrollHeight;if(d+c>a){var e=d+c,f=m+(e-n),g=b(i).parents(".view")[0].offsetHeight-88;f>g&&(f=g,e=f-m+n),k.css("height",e+"px"),i.css("height",f+"px"),l.length>0&&(l.css("padding-bottom",f+"px"),l.scrollTop(l[0].scrollHeight-l[0].offsetHeight))}else l.length>0&&(i.css({height:""}),l.css({"padding-bottom":""}))}function e(){clearTimeout(j),j=setTimeout(function(){d()},0)}function f(a){var b=a?"off":"on";i[b]("submit",c),k[b]("change keydown keypress keyup paste cut",e)}function g(){f(!0)}function h(){g(),a.off("pageBeforeRemove",h)}a=b(a);var i=a.hasClass("messagebar")?a:a.find(".messagebar");if(0!==i.length){var j,k=i.find("textarea"),l=i.parents(".page").find(".page-content"),m=i[0].offsetHeight,n=k[0].offsetHeight;i[0].f7DestroyMessagebar=g,f(),a.hasClass("page")&&a.on("pageBeforeRemove",h)}},k.destroyMessagebar=function(a){a=b(a);var c=a.hasClass("messagebar")?a:a.find(".messagebar");0!==c.length&&c[0].f7DestroyMessagebar&&c[0].f7DestroyMessagebar()},k.cache=[],k.removeFromCache=function(a){for(var b=!1,c=0;c<k.cache.length;c++)k.cache[c].url===a&&(b=c);b!==!1&&k.cache.splice(b,1)},k.xhr=!1,k.get=function(a,c){var d=a;if(k.params.cacheIgnoreGetParameters&&a.indexOf("?")>=0&&(d=a.split("?")[0]),k.params.cache&&a.indexOf("nocache")<0&&k.params.cacheIgnore.indexOf(d)<0)for(var e=0;e<k.cache.length;e++)if(k.cache[e].url===d&&(new Date).getTime()-k.cache[e].time<k.params.cacheDuration)return c(k.cache[e].data),!1;return k.xhr=b.ajax({url:a,method:"GET",start:k.params.onAjaxStart,complete:function(a){200===a.status||0===a.status?(c(a.responseText,!1),k.params.cache&&(k.removeFromCache(d),k.cache.push({url:d,time:(new Date).getTime(),data:a.responseText}))):c(a.responseText,!0),k.params.onAjaxComplete&&k.params.onAjaxComplete(a)},error:function(a){c(a.responseText,!0),k.params.onAjaxError&&k.params.onAjaxonAjaxError(a)}}),k.xhr},k.pageCallbacks={},k.onPage=function(a,b,c){if(b&&b.split(" ").length>1){for(var d=b.split(" "),e=[],f=0;f<d.length;f++)e.push(k.onPage(a,d[f],c));return e.remove=function(){for(var a=0;a<e.length;a++)e[a].remove()},e.trigger=function(){for(var a=0;a<e.length;a++)e[a].trigger()},e}var g=k.pageCallbacks[a][b];return g||(g=k.pageCallbacks[a][b]=[]),k.pageCallbacks[a][b].push(c),{remove:function(){for(var a,b=0;b<g.length;b++)g[b].toString()===c.toString()&&(a=b);"undefined"!=typeof a&&g.splice(a,1)},trigger:c}};for(var n="beforeInit init beforeAnimation afterAnimation beforeRemove".split(" "),o=0;o<n.length;o++)k.pageCallbacks[n[o]]={},c(n[o]);k.triggerPageCallbacks=function(a,b,c){var d=k.pageCallbacks[a]["*"];if(d)for(var e=0;e<d.length;e++)d[e](c);var f=k.pageCallbacks[a][b];if(f&&0!==f.length)for(var g=0;g<f.length;g++)f[g](c)},k.pageInitCallback=function(a,c,d,e){if(!c.f7PageInitialized){c.f7PageInitialized=!0;var f={container:c,url:d,query:b.parseUrlQuery(d||""),name:b(c).attr("data-page"),view:a,from:e};c.f7PageData=f,a&&(a.activePage=f),k.pluginHook("pageBeforeInit",f),k.params.onPageBeforeInit&&k.params.onPageBeforeInit(k,f),k.triggerPageCallbacks("beforeInit",f.name,f),b(f.container).trigger("pageBeforeInit",{page:f}),k.initPage(c),k.pluginHook("pageInit",f),k.params.onPageInit&&k.params.onPageInit(k,f),k.triggerPageCallbacks("init",f.name,f),b(f.container).trigger("pageInit",{page:f})}},k.pageRemoveCallback=function(a,c,d){var e={container:c,name:b(c).attr("data-page"),view:a,from:d};k.pluginHook("pageBeforeRemove",e),k.params.onPageBeforeRemove&&k.params.onPageBeforeRemove(k,e),k.triggerPageCallbacks("beforeRemove",e.name,e),b(e.container).trigger("pageBeforeRemove",{page:e})},k.pageAnimCallbacks=function(a,c,d){var e={container:d.pageContainer,url:d.url,query:b.parseUrlQuery(d.url||""),name:b(d.pageContainer).attr("data-page"),view:c,from:d.position},f=d.oldPage,g=d.newPage;d.pageContainer.f7PageData=e,"after"===a&&(k.pluginHook("pageAfterAnimation",e),k.params.onPageAfterAnimation&&k.params.onPageAfterAnimation(k,e),k.triggerPageCallbacks("afterAnimation",e.name,e),b(e.container).trigger("pageAfterAnimation",{page:e})),"before"===a&&(b(c.container).attr("data-page",e.name),c&&(c.activePage=e),g.hasClass("no-navbar")&&!f.hasClass("no-navbar")&&c.hideNavbar(),!g.hasClass("no-navbar")&&f.hasClass("no-navbar")&&c.showNavbar(),g.hasClass("no-toolbar")&&!f.hasClass("no-toolbar")&&c.hideToolbar(),!g.hasClass("no-toolbar")&&f.hasClass("no-toolbar")&&c.showToolbar(),k.pluginHook("pageBeforeAnimation",e),k.params.onPageBeforeAnimation&&k.params.onPageBeforeAnimation(k,e),k.triggerPageCallbacks("beforeAnimation",e.name,e),b(e.container).trigger("pageBeforeAnimation",{page:e}))},k.initPage=function(a){k.sizeNavbars&&k.sizeNavbars(b(a).parents("."+k.params.viewClass)[0]),k.initMessages&&k.initMessages(a),k.initFormsStorage&&k.initFormsStorage(a),k.initSmartSelects&&k.initSmartSelects(a),k.initSlider&&k.initSlider(a),k.initPullToRefresh&&k.initPullToRefresh(a),k.initInfiniteScroll&&k.initInfiniteScroll(a),k.initSearchbar&&k.initSearchbar(a),k.initMessagebar&&k.initMessagebar(a)},k.allowPageChange=!0,k._tempDomElement=document.createElement("div"),k.loadContent=function(a,b,c,d){if(!k.allowPageChange)return!1;if(k.allowPageChange=!1,k.xhr&&(k.xhr.abort(),k.xhr=!1),k.params.pushState){"undefined"==typeof d&&(d=!0);var e=k.params.pushStateRoot||"";d&&history.pushState({content:b,url:"#content-"+a.history.length},"",e+k.params.pushStateSeparator+"#content-"+a.history.length)}h(b,null,function(b){g(a,null,b,c)})},k.loadPage=function(a,b,c,d){return k.allowPageChange?a.url===b?!1:(k.allowPageChange=!1,k.xhr&&(k.xhr.abort(),k.xhr=!1),void k.get(b,function(e,f){if(f)return void(k.allowPageChange=!0);if(k.params.pushState){"undefined"==typeof d&&(d=!0);var i=k.params.pushStateRoot||"";d&&history.pushState({url:b},"",i+k.params.pushStateSeparator+b)}h(e,b,function(d){g(a,b,d,c)})})):!1},k.goBack=function(a,c,g,i,j){function l(){function b(){k.afterGoBack(a,n[0],o[0]),k.pageAnimCallbacks("after",a,{pageContainer:o[0],url:c,position:"left",oldPage:n,newPage:o})}k.pageAnimCallbacks("before",a,{pageContainer:o[0],url:c,position:"left",oldPage:n,newPage:o}),g?(e(o,n,"to-right",a),s&&setTimeout(function(){f(q,p,"to-right",a)},0),o.animationEnd(function(){b()})):(q.find(".sliding, .sliding .back .icon").transform(""),b())}function m(){if(o=d(".page",k._tempDomElement,a),!o)return void(k.allowPageChange=!0);if(o.addClass("page-on-left"),n=b(v[0]),a.params.dynamicNavbar&&(s=!0,q=d(".navbar-inner",k._tempDomElement,a),q||(s=!1)),s&&(r=t.find(".navbar"),p=r.find(".navbar-inner"),q.addClass(p.length>0?"navbar-on-left":"navbar-on-center"),p.length>1&&(b(p[0]).remove(),p=r.find(".navbar-inner")),r.prepend(q[0]),k.navbarInitCallback(a,o[0],r[0],q[0],c,"left")),u.prepend(o[0]),k.pageInitCallback(a,o[0],c,"left"),s&&q.hasClass("navbar-on-left")&&g&&q.find(".sliding").each(function(){var a=b(this);k.params.animateNavBackIcon&&(a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)"),a.hasClass("center")&&p.find(".left .back .icon").length>0&&(this.f7NavbarLeftOffset+=p.find(".left .back span")[0].offsetLeft)),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")}),i)return o.addClass("page-on-left"),void(k.allowPageChange=!0);a.url=c;o[0].clientLeft;l()}if(!k.allowPageChange)return!1;k.allowPageChange=!1,k.xhr&&(k.xhr.abort(),k.xhr=!1),k.pluginHook("goBack",a,c,i),k.params.pushState&&("undefined"==typeof j&&(j=!0),!i&&history.state&&j&&history.back());var n,o,p,q,r,s,t=b(a.container),u=b(a.pagesContainer),v=u.children(".page");if("undefined"==typeof g&&(g=a.params.animatePages),v.length>1){if(i)return void(k.allowPageChange=!0);if(a.url=a.history[a.history.length-2],o=b(v[v.length-2]),n=b(v[v.length-1]),a.params.dynamicNavbar){s=!0;var w=t.find(".navbar-inner:not(.cached)");q=b(w[0]),p=b(w[1])}l()}else{if(c&&0===c.indexOf("#")&&(c=void 0),a.history.length>1&&(c=a.history[a.history.length-2]),!c)return void(k.allowPageChange=!0);if(!a.params.domCache&&c in a.contentCache){var x=a.contentCache[c];return k._tempDomElement.innerHTML="",b(k._tempDomElement).append(x.nav[0]).append(x.page[0]),void m()}k.get(c,function(a,b){return b?void(k.allowPageChange=!0):void h(a,null,function(a){k._tempDomElement.innerHTML=a,m()})})}},k.afterGoBack=function(a,c,d){if(c=b(c),d=b(d),k.pageRemoveCallback(a,c[0],"right"),c.remove(),d.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),k.allowPageChange=!0,a.params.dynamicNavbar){{var e=b(a.container).find(".navbar-inner:not(.cached)");b(e[1]).remove(),b(e[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(k.params.preloadPreviousPage&&a.params.domCache){var f=b(a.container).find(".navbar-inner.cached");b(f[f.length-1]).removeClass("cached")}}var g=a.history.pop();if(!a.params.domCache&&g&&g.indexOf("#content-")>-1&&g in a.contentCache&&(a.contentCache[g]=null,delete a.contentCache[g]),k.params.pushState&&k.pushStateClearQueue(),k.params.preloadPreviousPage){if(a.params.domCache){var h=b(a.container).find(".page.cached");b(h[h.length-1]).removeClass("cached")}k.goBack(a,!1,void 0,!0)}};var p=document.createElement("div");k.modal=function(a){a=a||{};var c="";if(a.buttons&&a.buttons.length>0)for(var d=0;d<a.buttons.length;d++)c+='<span class="modal-button'+(a.buttons[d].bold?" modal-button-bold":"")+'">'+a.buttons[d].text+"</span>";var e=k.params.modalTemplate;e=a.title?e.replace(/{{if\ title}}/g,"").replace(/{{\/if\ title}}/g,""):e.split("{{if title}}")[0]+e.split("{{/if title}}")[1];var f=e.replace(/{{title}}/g,a.title||"").replace(/{{text}}/g,a.text||"").replace(/{{afterText}}/g,a.afterText||"").replace(/{{buttons}}/g,c).replace(/{{noButtons}}/g,a.buttons&&0!==a.buttons.length?"":"modal-no-buttons");p.innerHTML=f;var g=b(p).children();return b("body").append(g[0]),g.find(".modal-button").each(function(c,d){b(d).on("click",function(b){a.buttons[c].close!==!1&&k.closeModal(g),a.buttons[c].onClick&&a.buttons[c].onClick(g,b),a.onClick&&a.onClick(g,c)})}),k.openModal(g),g[0]},k.alert=function(a,b,c){return"function"==typeof b&&(c=arguments[1],b=void 0),k.modal({text:a||"",title:"undefined"==typeof b?k.params.modalTitle:b,buttons:[{text:k.params.modalButtonOk,bold:!0,onClick:c}]})},k.confirm=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),k.modal({text:a||"",title:"undefined"==typeof b?k.params.modalTitle:b,buttons:[{text:k.params.modalButtonCancel,onClick:d},{text:k.params.modalButtonOk,bold:!0,onClick:c}]})},k.prompt=function(a,c,d,e){return"function"==typeof c&&(e=arguments[2],d=arguments[1],c=void 0),k.modal({text:a||"",title:"undefined"==typeof c?k.params.modalTitle:c,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:k.params.modalButtonCancel},{text:k.params.modalButtonOk,bold:!0}],onClick:function(a,c){0===c&&e&&e(b(a).find(".modal-text-input").val()),1===c&&d&&d(b(a).find(".modal-text-input").val())}})},k.modalLogin=function(a,c,d,e){return"function"==typeof c&&(e=arguments[2],d=arguments[1],c=void 0),k.modal({text:a||"",title:"undefined"==typeof c?k.params.modalTitle:c,afterText:'<input type="text" name="modal-username" placeholder="'+k.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+k.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:k.params.modalButtonCancel},{text:k.params.modalButtonOk,bold:!0}],onClick:function(a,c){var f=b(a).find('.modal-text-input[name="modal-username"]').val(),g=b(a).find('.modal-text-input[name="modal-password"]').val();0===c&&e&&e(f,g),1===c&&d&&d(f,g)}})},k.modalPassword=function(a,c,d,e){return"function"==typeof c&&(e=arguments[2],d=arguments[1],c=void 0),k.modal({text:a||"",title:"undefined"==typeof c?k.params.modalTitle:c,afterText:'<input type="password" name="modal-password" placeholder="'+k.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:k.params.modalButtonCancel},{text:k.params.modalButtonOk,bold:!0}],onClick:function(a,c){var f=b(a).find('.modal-text-input[name="modal-password"]').val();0===c&&e&&e(f),1===c&&d&&d(f)}})},k.showPreloader=function(a){return k.modal({title:a||k.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},k.hidePreloader=function(){k.closeModal(".modal.modal-in")},k.showIndicator=function(){b("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},k.hideIndicator=function(){b(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},k.actions=function(a){a=a||[],a.length>0&&!b.isArray(a[0])&&(a=[a]);for(var c=k.params.modalActionsTemplate,d="",e=0;e<a.length;e++)for(var f=0;f<a[e].length;f++){0===f&&(d+='<div class="actions-modal-group">');var g=a[e][f],h=g.label?"actions-modal-label":"actions-modal-button";g.bold&&(h+=" actions-modal-button-bold"),g.red&&(h+=" actions-modal-button-red"),d+='<span class="'+h+'">'+g.text+"</span>",f===a[e].length-1&&(d+="</div>")}var i=c.replace(/{{buttons}}/g,d);p.innerHTML=i;var j=b(p).children();
b("body").append(j[0]);var l=j.find(".actions-modal-group");return l.each(function(c,d){var e=c;b(d).children().each(function(c,d){var f=c,g=a[e][f];b(d).hasClass("actions-modal-button")&&b(d).on("click",function(a){g.close!==!1&&k.closeModal(j),g.onClick&&g.onClick(j,a)})})}),k.openModal(j),j[0]},k.popover=function(a,c,d){function e(){a.css({left:"",top:""});var d=a.width(),e=a.height(),f=a.find(".popover-angle"),g=f.width()/2;f.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var h=c.outerWidth(),i=c.outerHeight(),j=c.offset(),k=c.parents(".page");k.length>0&&(j.top=j.top-k[0].scrollTop);var l=b(window).height(),m=b(window).width(),n=0,o=0,p=0,q="top";e+g<j.top?n=j.top-e-g:e+g<l-j.top-i?(q="bottom",n=j.top+i+g):(q="middle",n=i/2+j.top-e/2,p=n,0>n?n=5:n+e>l&&(n=l-e-5),p-=n),"top"===q||"bottom"===q?(o=h/2+j.left-d/2,p=o,5>o&&(o=5),o+d>m&&(o=m-d-5),"top"===q&&f.addClass("on-bottom"),"bottom"===q&&f.addClass("on-top"),p-=o,f.css({left:d/2-g+p+"px"})):"middle"===q&&(o=j.left-d-g,f.addClass("on-right"),5>o&&(o=j.left+h+g,f.removeClass("on-right").addClass("on-left")),o+d>m&&(o=m-d-5,f.removeClass("on-right").addClass("on-left")),f.css({top:e/2-g+p+"px"})),a.css({top:n+"px",left:o+"px"})}if("undefined"==typeof d&&(d=!0),"string"==typeof a&&a.indexOf("<")>=0){var f=document.createElement("div");if(f.innerHTML=b.trim(a),!(f.childNodes.length>0))return!1;a=f.childNodes[0],d&&a.classList.add("remove-on-close"),b("body").append(a)}return a=b(a),c=b(c),0===a.length||0===c.length?!1:(0===a.find(".popover-angle").length&&a.append('<div class="popover-angle"></div>'),a.show(),e(),b(window).on("resize",e),a.on("close",function(){b(window).off("resize",e)}),a.find("."+k.params.viewClass).length>0&&k.sizeNavbars(a.find("."+k.params.viewClass)[0]),k.openModal(a),a[0])},k.popup=function(a,c){if("undefined"==typeof c&&(c=!0),"string"==typeof a&&a.indexOf("<")>=0){var d=document.createElement("div");if(d.innerHTML=b.trim(a),!(d.childNodes.length>0))return!1;a=d.childNodes[0],c&&a.classList.add("remove-on-close"),b("body").append(a)}return a=b(a),0===a.length?!1:(a.show(),a.find("."+k.params.viewClass).length>0&&k.sizeNavbars(a.find("."+k.params.viewClass)[0]),k.openModal(a),a[0])},k.loginScreen=function(a){return a||(a=".login-screen"),a=b(a),0===a.length?!1:(a.show(),a.find("."+k.params.viewClass).length>0&&k.sizeNavbars(a.find("."+k.params.viewClass)[0]),k.openModal(a),a[0])},k.openModal=function(a){a=b(a);var c=a.hasClass("popover"),d=a.hasClass("popup"),e=a.hasClass("login-screen");c||d||e||a.css({marginTop:-Math.round(a.outerHeight()/2)+"px"});var f;e||(0!==b(".modal-overlay").length||d||b("body").append('<div class="modal-overlay"></div>'),0===b(".popup-overlay").length&&d&&b("body").append('<div class="popup-overlay"></div>'),f=b(d?".popup-overlay":".modal-overlay"));a[0].clientLeft;return a.trigger("open"),e||f.addClass("modal-overlay-visible"),a.removeClass("modal-out").addClass("modal-in").transitionEnd(function(){a.trigger(a.hasClass("modal-out")?"closed":"opened")}),!0},k.closeModal=function(a){a=b(a||".modal-in");var c=a.hasClass("popover"),d=a.hasClass("popup"),e=a.hasClass("login-screen"),f=a.hasClass("remove-on-close"),g=b(d?".popup-overlay":".modal-overlay");return g.removeClass("modal-overlay-visible"),a.trigger("close"),c?(a.removeClass("modal-in modal-out").trigger("closed").hide(),f&&a.remove()):a.removeClass("modal-in").addClass("modal-out").transitionEnd(function(){a.trigger(a.hasClass("modal-out")?"closed":"opened"),d||e?(a.removeClass("modal-out").hide(),f&&a.length>0&&a.remove()):a.remove()}),!0},k.allowPanelOpen=!0,k.openPanel=function(a){function c(){f.transitionEnd(function(a){b(a.target).is(f)?(d.trigger(d.hasClass("active")?"opened":"closed"),k.allowPanelOpen=!0):c()})}if(!k.allowPanelOpen)return!1;var d=b(".panel-"+a);if(0===d.length||d.hasClass("active"))return!1;k.closePanel(),k.allowPanelOpen=!1;var e=d.hasClass("panel-reveal")?"reveal":"cover";d.css({display:"block"}).addClass("active"),d.trigger("open"),d.find("."+k.params.viewClass).length>0&&k.sizeNavbars&&k.sizeNavbars(d.find("."+k.params.viewClass)[0]);var f=(d[0].clientLeft,"reveal"===e?b("."+k.params.viewsClass):d);return c(),b("body").addClass("with-panel-"+a+"-"+e),!0},k.closePanel=function(){var a=b(".panel.active");if(0===a.length)return!1;var c=a.hasClass("panel-reveal")?"reveal":"cover",d=a.hasClass("panel-left")?"left":"right";a.removeClass("active");var e="reveal"===c?b("."+k.params.viewsClass):a;a.trigger("close"),k.allowPanelOpen=!1,e.transitionEnd(function(){a.hasClass("active")||(a.css({display:""}),a.trigger("closed"),b("body").removeClass("panel-closing"),k.allowPanelOpen=!0)}),b("body").addClass("panel-closing").removeClass("with-panel-"+d+"-"+c)},k.initSwipePanels=function(){function a(a){if(k.allowPanelOpen&&k.params.swipePanel&&!(b(".modal-in, .photo-browser-in").length>0)){if(s.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,s.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,k.params.swipePanelActiveArea){if("left"===k.params.swipePanel&&s.x>k.params.swipePanelActiveArea)return;if("right"===k.params.swipePanel&&s.x<window.innerWidth-k.params.swipePanelActiveArea)return}g=!1,f=!0,h=void 0,i=(new Date).getTime(),p=void 0}}function c(a){if(f&&!a.f7PreventPanelSwipe){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof h&&(h=!!(h||Math.abs(c-s.y)>Math.abs(b-s.x))),h)return void(f=!1);if(!p&&(p=b>s.x?"to-right":"to-left","left"===q&&"to-left"===p&&!e.hasClass("active")||"right"===q&&"to-right"===p&&!e.hasClass("active")))return void(f=!1);if(k.params.swipePanelNoFollow){var d=(new Date).getTime()-i;return 300>d&&("to-left"===p&&("right"===q&&k.openPanel(q),"left"===q&&e.hasClass("active")&&k.closePanel()),"to-right"===p&&("left"===q&&k.openPanel(q),"right"===q&&e.hasClass("active")&&k.closePanel())),f=!1,void(g=!1)}g||(o=e.hasClass("panel-cover")?"cover":"reveal",e.show(),r.show(),m=e.hasClass("active"),n=e.width(),e.transition(0),e.find("."+k.params.viewClass).length>0&&k.sizeNavbars&&k.sizeNavbars(e.find("."+k.params.viewClass)[0])),g=!0,a.preventDefault();var u=m?0:-k.params.swipePanelThreshold;"right"===q&&(u=-u),j=b-s.x+u,"right"===q?(l=j-(m?n:0),l>0&&(l=0),-n>l&&(l=-n)):(l=j+(m?n:0),0>l&&(l=0),l>n&&(l=n)),"reveal"===o?(t.transform("translate3d("+l+"px,0,0)").transition(0),r.transform("translate3d("+l+"px,0,0)"),k.pluginHook("swipePanelSetTransform",t[0],e[0],Math.abs(l/n))):(e.transform("translate3d("+l+"px,0,0)").transition(0),k.pluginHook("swipePanelSetTransform",t[0],e[0],Math.abs(l/n)))}}function d(){if(!f||!g)return f=!1,void(g=!1);f=!1,g=!1;var a,c=(new Date).getTime()-i,d=0===l||Math.abs(l)===n;if(a=m?l===-n?"reset":300>c&&Math.abs(l)>=0||c>=300&&Math.abs(l)<=n/2?"left"===q&&l===n?"reset":"swap":"reset":0===l?"reset":300>c&&Math.abs(l)>0||c>=300&&Math.abs(l)>=n/2?"swap":"reset","swap"===a&&(k.allowPanelOpen=!0,m?(k.closePanel(),d&&(e.css({display:""}),b("body").removeClass("panel-closing"))):k.openPanel(q),d&&(k.allowPanelOpen=!0)),"reset"===a)if(m)k.allowPanelOpen=!0,k.openPanel(q);else if(k.closePanel(),d)k.allowPanelOpen=!0,e.css({display:""});else{var h="reveal"===o?t:e;b("body").addClass("panel-closing"),h.transitionEnd(function(){k.allowPanelOpen=!0,e.css({display:""}),b("body").removeClass("panel-closing")})}"reveal"===o&&(t.transition(""),t.transform("")),e.transition("").transform(""),r.css({display:""}).transform("")}var e=b(".panel.panel-"+k.params.swipePanel);if(0!==e.length){var f,g,h,i,j,l,m,n,o,p,q,r=b(".panel-overlay"),s={},t=b("."+k.params.viewsClass);q=k.params.swipePanel,b(document).on(k.touchEvents.start,a),b(document).on(k.touchEvents.move,c),b(document).on(k.touchEvents.end,d)}},k.initMessages=function(a){var c=b(a),d=c.find(".messages");if(0!==d.length){var e=c.find(".page-content");d.hasClass("new-messages-first")||(e[0].scrollTop=d.height()-e.height()),k.updateMessagesAngles(d)}},k.addMessage=function(a){if(a=a||{},a.type=a.type||"sent",!a.text||0===a.length)return!1;var c=b(".messages-content");if(0===c.length)return!1;var d=c.find(".messages"),e=d.hasClass("new-messages-first"),f="";a.day&&(f+='<div class="messages-date">'+a.day+(a.time?",":"")+(a.time?" <span>"+a.time+"</span>":"")+"</div>");var g=a.text.indexOf("<img")>=0?"message-pic":"",h=a.avatar?"message-with-avatar":"",i="message message-"+a.type+g+" "+h+" message-appear";f+='<div class="'+i+'">'+(a.name?'<div class="message-name">'+a.name+"</div>":"")+'<div class="message-text">'+a.text+"</div>"+(a.avatar?'<div class="message-avatar" style="background-image:url('+a.avatar+')"></div>':"")+"</div>",e?d.prepend(f):d.append(f),k.updateMessagesAngles(d),k.scrollMessagesContainer(c)},k.updateMessagesAngles=function(a){a.find(".message").each(function(){var a=b(this);a.find(".message-text img").length>0&&a.addClass("message-pic"),a.find(".message-avatar").length>0&&a.addClass("message-with-avatar")}),a.find(".message-sent").each(function(){var a=b(this),c=a.next(".message-sent"),d=a.prev(".message-sent");0===c.length?a.addClass("message-last"):a.removeClass("message-last"),0===d.length?a.addClass("message-first"):a.removeClass("message-first"),d.length>0&&d.find(".message-name").length>0&&a.find(".message-name").length>0&&d.find(".message-name").text()!==a.find(".message-name").text()&&(d.addClass("message-last"),a.addClass("message-first"))}),a.find(".message-received").each(function(){var a=b(this),c=a.next(".message-received"),d=a.prev(".message-received");0===c.length?a.addClass("message-last"):a.removeClass("message-last"),0===d.length?a.addClass("message-first"):a.removeClass("message-first"),d.length>0&&d.find(".message-name").length>0&&a.find(".message-name").length>0&&d.find(".message-name").text()!==a.find(".message-name").text()&&(d.addClass("message-last"),a.addClass("message-first"))})},k.scrollMessagesContainer=function(a){if(a=b(a||".messages-content"),0!==a.length){var c=a.find(".messages"),d=c.hasClass("new-messages-first"),e=a[0].scrollTop,f=d?0:c.height()-a.height();f!==e&&a.scrollTop(f,300)}},k.swipeoutOpenedEl=void 0,k.allowSwipeout=!0,k.initSwipeout=function(a){function c(a){k.allowSwipeout&&(g=!1,f=!0,h=void 0,r.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,r.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,i=(new Date).getTime())}function d(a){if(f){var c="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,d="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof h&&(h=!!(h||Math.abs(d-r.y)>Math.abs(c-r.x))),h)return void(f=!1);if(!g){if(b(".list-block.sortable-opened").length>0)return;l=b(this),m=l.find(".swipeout-content"),n=l.find(".swipeout-actions-inner"),o=n.width(),q=l.hasClass("swipeout-opened"),l.removeClass("transitioning")}if(g=!0,a.preventDefault(),a.f7PreventPanelSwipe=!0,k.rtl&&(a.f7PreventSwipeBack=!0),j=c-r.x,p=j-(q?o:0),p>0&&(p=0),-o>p&&(p=-o-Math.pow(-p-o,.8)),k.params.swipeoutNoFollow){if(0>j&&!q)return k.swipeoutOpen(l),f=!1,void(g=!1);if(j>0&&q)return k.swipeoutClose(l),f=!1,void(g=!1)}else l.trigger("swipeout",{progress:Math.abs(p/o)}),m.transform("translate3d("+p+"px,0,0)")}}function e(){if(!f||!g)return f=!1,void(g=!1);f=!1,g=!1;var a=(new Date).getTime()-i;0!==p&&p!==-o&&(k.allowSwipeout=!1);var b;if(b=q?300>a&&p>-(o-10)||a>=300&&p>-o/2?"close":"open":300>a&&-10>p||a>=300&&-o/2>p?"open":"close","open"===b){k.swipeoutOpenedEl=l,l.trigger("open"),l.addClass("swipeout-opened transitioning");var c=-o;m.transform("translate3d("+c+"px,0,0)")}else l.trigger("close"),k.swipeoutOpenedEl=void 0,l.addClass("transitioning").removeClass("swipeout-opened"),m.transform("translate3d(0px,0,0)");-o>=p?(q||l.trigger("opened"),k.allowSwipeout=!0):p>=0?(q&&l.trigger("closed"),k.allowSwipeout=!0):m.transitionEnd(function(){k.allowSwipeout=!0,l.trigger("open"===b?"opened":"closed")})}var f,g,h,i,j,l,m,n,o,p,q,r={};b(document).on(k.touchEvents.start,function(a){if(k.swipeoutOpenedEl){var c=b(a.target);k.swipeoutOpenedEl.is(c[0])||c.parents(".swipeout").is(k.swipeoutOpenedEl)||c.hasClass("modal-in")||c.parents(".modal-in").length>0||c.hasClass("modal-overlay")||k.swipeoutClose(k.swipeoutOpenedEl)}}),a?(b(a).on(k.touchEvents.start,c),b(a).on(k.touchEvents.move,d),b(a).on(k.touchEvents.end,e)):(b(document).on(k.touchEvents.start,".list-block li.swipeout",c),b(document).on(k.touchEvents.move,".list-block li.swipeout",d),b(document).on(k.touchEvents.end,".list-block li.swipeout",e))},k.swipeoutOpen=function(a){if(a=b(a),a.hasClass("swipeout")&&0!==a.length){a.length>1&&(a=b(a[0])),a.trigger("open").addClass("transitioning swipeout-opened");var c=a.find(".swipeout-actions-inner"),d=-c.width();a.find(".swipeout-content").transform("translate3d("+d+"px,0,0)").transitionEnd(function(){a.trigger("opened")}),k.swipeoutOpenedEl=a}},k.swipeoutClose=function(a){a=b(a),0!==a.length&&(k.allowSwipeout=!1,a.trigger("close"),a.removeClass("swipeout-opened").addClass("transitioning").find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(function(){a.trigger("closed"),k.allowSwipeout=!0}),k.swipeoutOpenedEl&&k.swipeoutOpenedEl[0]===a[0]&&(k.swipeoutOpenedEl=void 0))},k.swipeoutDelete=function(a){if(a=b(a),0!==a.length){a.length>1&&(a=b(a[0])),k.swipeoutOpenedEl=void 0,a.trigger("delete"),a.css({height:a.outerHeight()+"px"});{a[0].clientLeft}a.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){a.trigger("deleted"),a.remove()});var c="-100%";a.find(".swipeout-content").transform("translate3d("+c+",0,0)")}},k.sortableToggle=function(a){return a=b(a),0===a.length&&(a=b(".list-block.sortable")),a.toggleClass("sortable-opened"),a.trigger(a.hasClass("sortable-opened")?"open":"close"),a},k.sortableOpen=function(a){return a=b(a),0===a.length&&(a=b(".list-block.sortable")),a.addClass("sortable-opened"),a.trigger("open"),a},k.sortableClose=function(a){return a=b(a),0===a.length&&(a=b(".list-block.sortable")),a.removeClass("sortable-opened"),a.trigger("close"),a},k.initSortable=function(){function a(a){f=!1,e=!0,g="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,i=b(this).parent(),j=i.parent().find("li"),p=i.parents(".sortable"),a.preventDefault(),k.allowsPanelOpen=k.allowSwipeout=!1}function c(a){if(e&&i){var c=("touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,"touchmove"===a.type?a.targetTouches[0].pageY:a.pageY);f||(i.addClass("sorting"),p.addClass("sortable-sorting"),l=i[0].offsetTop,m=i.parent().height()-i[0].offsetTop-i.height()),f=!0,a.preventDefault(),a.f7PreventPanelSwipe=!0,h=c-g;var d=h;-l>d&&(d=-l),d>m&&(d=m),i.transform("translate3d(0,"+d+"px,0)"),o=n=void 0,j.each(function(){var a=b(this);if(a[0]!==i[0]){var c=a[0].offsetTop,e=a.height(),f=i[0].offsetTop+d;f>=c-e/2&&i.index()<a.index()?(a.transform("translate3d(0,-100%,0)"),n=a,o=void 0):c+e/2>=f&&i.index()>a.index()?(b(this).transform("translate3d(0,100%,0)"),n=void 0,o||(o=a)):b(this).transform("translate3d(0, 0%,0)")}})}}function d(a){return k.allowsPanelOpen=k.allowSwipeout=!0,e&&f?(a.preventDefault(),j.transform(""),i.removeClass("sorting"),p.removeClass("sortable-sorting"),n&&(i.insertAfter(n),i.trigger("sort")),o&&(i.insertBefore(o),i.trigger("sort")),n=o=void 0,e=!1,void(f=!1)):(e=!1,void(f=!1))}var e,f,g,h,i,j,l,m,n,o,p;b(document).on(k.touchEvents.start,".list-block.sortable .sortable-handler",a),b(document).on(k.touchEvents.move,".list-block.sortable .sortable-handler",c),b(document).on(k.touchEvents.end,".list-block.sortable .sortable-handler",d)},k.initSmartSelects=function(a){var c=b(a);if(0!==c.length){var d=c.find(".smart-select");0!==d.length&&d.each(function(){var a=b(this),c=a.find("select");if(0!==c.length){var d=c[0];if(0!==d.length){for(var e=[],f=0;f<d.length;f++)d[f].selected&&e.push(d[f].textContent.trim());var g=a.find(".item-after");0===g.length?a.find(".item-inner").append('<div class="item-after">'+e.join(", ")+"</div>"):g.text(e)}}})}},k.smartSelectOpen=function(a){function c(f){var g=f.detail.page;g.name===w&&(b(document).off("pageInit",c),b(g.container).find('input[name="'+o+'"]').on("change",function(){var c=this,f=c.value,g=[];if("checkbox"===c.type)for(var h=0;h<e.options.length;h++){var i=e.options[h];i.value===f&&(i.selected=c.checked),i.selected&&g.push(i.textContent.trim())}else g=[a.find('option[value="'+f+'"]').text()],e.value=f;b(e).trigger("change"),a.find(".item-after").text(g.join(", ")),l&&"radio"===n&&d.goBack()}))}if(a=b(a),0!==a.length){var d=a.parents("."+k.params.viewClass);if(0!==d.length&&(d=d[0].f7View)){var e=a.find("select")[0];if(!(e.disabled||a.hasClass("disabled")||b(e).hasClass("disabled"))){var f={};f.length=e.length;for(var g=0;g<e.length;g++)f[g]={value:e[g].value,text:e[g].textContent.trim(),selected:e[g].selected,group:b(e[g]).parent("optgroup")[0],disabled:e[g].disabled};for(var h,i=a.attr("data-pagetitle")||a.find(".item-title").text(),j=a.attr("data-backtext")||k.params.smartSelectBackText,l=a.attr("data-backonselect")?"true"===a.attr("data-backonselect")?!0:!1:k.params.smartSelectBackOnSelect,m=(new Date).getTime(),n=e.multiple?"checkbox":"radio",o=n+"-"+m,p="",q=0;q<f.length;q++)if(!f[q].disabled){var r=f[q].selected?"checked":"";f[q].group&&f[q].group!==h&&(p+='<li class="item-divider">'+f[q].group.label+"</li>",h=f[q].group),p+='<li><label class="label-'+n+' item-content"><input type="'+n+'" name="'+o+'" value="'+f[q].value+'" '+r+">"+("checkbox"===n?'<div class="item-media"><i class="icon icon-form-checkbox"></i></div>':"")+'<div class="item-inner"><div class="item-title">'+f[q].text+"</div></div></label></li>"}var s='<div class="navbar">  <div class="navbar-inner">'+k.params.smartSelectBackTemplate.replace(/{{backText}}/g,j)+'    <div class="center sliding">'+i+"</div>  </div></div>",t="static";a.parents(".navbar-through").length>0&&(t="through"),a.parents(".navbar-fixed").length>0&&(t="fixed");var u,v,w="smart-select-"+o,x=a.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",y=a.parents(".page").hasClass("no-navbar")?"no-navbar":"",z="undefined"==typeof a.data("searchbar")?k.params.smartSelectSearchbar:"true"===a.data("searchbar")?!0:!1;z&&(u=a.data("searchbar-placeholder")||"Search",v=a.data("searchbar-cancel")||"Cancel");var A='<form class="searchbar" data-search-list=".smart-select-list-'+m+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+u+'"><a href="#" class="searchbar-clear"></a></div><a href="#" class="searchbar-cancel">'+v+'</a></form><div class="searchbar-overlay"></div>',B=("through"===t?s:"")+'<div class="pages">  <div data-page="'+w+'" class="page smart-select-page'+y+" "+x+'">'+("fixed"===t?s:"")+(z?A:"")+'    <div class="page-content">'+("static"===t?s:"")+'      <div class="list-block smart-select-list-'+m+'">        <ul>'+p+"        </ul>      </div>    </div>  </div></div>";b(document).on("pageInit",c),d.loadContent(B)}}}},k.initPullToRefresh=function(a){function c(a){h||(i=!1,h=!0,j=void 0,o.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,o.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,m=(new Date).getTime())}function d(a){if(h){var c="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,d="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;return"undefined"==typeof j&&(j=!!(j||Math.abs(d-o.y)>Math.abs(c-o.x))),j?(i||(n=b(this),n.removeClass("transitioning"),r=n.hasClass("refreshing")?44:0,q=n[0].scrollHeight===n[0].offsetHeight||"ios"!==k.device.os?!0:!1),i=!0,l=d-o.y,l>0&&n[0].scrollTop<=0||n[0].scrollTop<0?(q&&(a.preventDefault(),n.transform("translate3d(0,"+(Math.pow(l,.85)+r)+"px,0)")),void(q&&Math.pow(l,.85)>44||!q&&l>=88?(p=!0,n.addClass("pull-up")):(p=!1,n.removeClass("pull-up")))):(n.removeClass("pull-up"),void(p=!1))):void(h=!1)}}function e(){return h&&i?(n.addClass("transitioning"),n.transform(""),p&&(n.addClass("refreshing"),n.trigger("refresh",{done:function(){k.pullToRefreshDone(n)}})),h=!1,void(i=!1)):(h=!1,void(i=!1))}function f(){g.off(k.touchEvents.start,c),g.off(k.touchEvents.move,d),g.off(k.touchEvents.end,e),s.off("pageBeforeRemove",f)}var g=b(a);if(g.hasClass("pull-to-refresh-content")||(g=g.find(".pull-to-refresh-content")),0!==g.length){var h,i,j,l,m,n,o={},p=!1,q=!1,r=0;g.on(k.touchEvents.start,c),g.on(k.touchEvents.move,d),g.on(k.touchEvents.end,e);var s=g.hasClass("page")?g:g.parents(".page");0!==s.length&&s.on("pageBeforeRemove",f)}},k.pullToRefreshDone=function(a){a=b(a),0===a.length&&(a=b(".pull-to-refresh-content.refreshing")),a.removeClass("refreshing").addClass("transitioning"),a.transitionEnd(function(){a.removeClass("transitioning pull-up")})},k.attachInfiniteScroll=function(a){b(a).on("scroll",i)},k.detachInfiniteScroll=function(a){b(a).off("scroll",i)},k.initInfiniteScroll=function(a){function c(){k.detachInfiniteScroll(d),a.off("pageBeforeRemove",c)}a=b(a);var d=a.find(".infinite-scroll");k.attachInfiniteScroll(d),a.on("pageBeforeRemove",c)},k.showTab=function(a,c){var d=b(a);if(d.hasClass("active"))return!1;if(0===d.length)return!1;var e=d.parent(".tabs");if(0===e.length)return!1;k.allowSwipeout=!0;var f=e.parent().hasClass("tabs-animated-wrap");if(f&&e.transform("translate3d("+100*-d.index()+"%,0,0)"),e.children(".tab.active").removeClass("active"),d.addClass("active"),d.trigger("show"),!f&&d.find(".navbar").length>0){var g;g=d.hasClass(k.params.viewClass)?d[0]:d.parents("."+k.params.viewClass)[0],k.sizeNavbars(g)}return c?c=b(c):(c=b("string"==typeof a?'.tab-link[href="'+a+'"]':'.tab-link[href="#'+d.attr("id")+'"]'),0===c.length&&b("[data-tab]").each(function(){d.is(b(this).attr("data-tab"))&&(c=b(this))})),0!==c.length?(c.parent().find(".active").removeClass("active"),c.addClass("active"),!0):void 0},k.accordionToggle=function(a){a=b(a),0!==a.length&&(a.hasClass("accordion-item-expanded")?k.accordionClose(a):k.accordionOpen(a))},k.accordionOpen=function(a){a=b(a);var c=a.parents(".accordion-list"),d=a.find(".accordion-item-content"),e=c.find(".accordion-item-expanded");e.length>0&&k.accordionClose(e),d.css("height",d[0].scrollHeight+"px").transitionEnd(function(){if(a.hasClass("accordion-item-expanded")){d.transition(0),d.css("height","auto");{d[0].clientLeft}d.transition("")}else d.css("height","")}),a.addClass("accordion-item-expanded")},k.accordionClose=function(a){a=b(a);var c=a.find(".accordion-item-content");a.removeClass("accordion-item-expanded"),c.transition(0),c.css("height",c[0].scrollHeight+"px");c[0].clientLeft;c.transition(""),c.css("height","").transitionEnd(function(){if(a.hasClass("accordion-item-expanded")){c.transition(0),c.css("height","auto");{c[0].clientLeft}c.transition("")}else c.css("height","")})},k.initFastClicks=function(){function a(a){if(document.activeElement===a)return!1;var b=a.nodeName.toLowerCase(),c="button checkbox file image radio submit".split(" ");return a.disabled||a.readOnly?!1:"textarea"===b?!0:"select"===b?"android"===k.device.os?!1:!0:"input"===b&&c.indexOf(a.type)<0?!0:void 0}function c(a){if(a=b(a),a.is("label")||a.parents("label").length>0){if("android"===k.device.os){var c=k.device.osVersion.split(".");return 1*c[0]>4||1*c[0]===4&&1*c[1]>=4?!1:!0}return!1}return!0}function d(a){if(r=!1,a.targetTouches.length>1)return!0;if("ios"===k.device.os){var c=window.getSelection();if(c.rangeCount&&(!c.isCollapsed||document.activeElement===c.focusNode))return o=!0,!0;o=!1}n=!0,m=a.target,l=(new Date).getTime(),i=a.targetTouches[0].pageX,j=a.targetTouches[0].pageY,"ios"===k.device.os&&(p=void 0,b(m).parents().each(function(){var a=this;a.scrollHeight>a.offsetHeight&&!p&&(p=a,p.f7ScrollTop=p.scrollTop)})),a.timeStamp-q<200&&a.preventDefault()}function e(){n&&(n=!1,m=null,r=!0)}function f(b){if(!n)return o||b.preventDefault(),!0;if(document.activeElement===b.target)return!0;if(o||b.preventDefault(),b.timeStamp-q<200)return!0;if(q=b.timeStamp,l=0,n=!1,"ios"===k.device.os&&p&&p.scrollTop!==p.f7ScrollTop)return!1;a(m)&&m.focus(),b.preventDefault();var c=b.changedTouches[0],d=document.createEvent("MouseEvents"),e="click";return"android"===k.device.os&&"select"===m.nodeName.toLowerCase()&&(e="mousedown"),d.initMouseEvent(e,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),d.forwardedTouchEvent=!0,m.dispatchEvent(d),!1}function g(){n=!1,m=null}function h(a){var b=!1;return n?(m=null,n=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(m||(b=!0),document.activeElement===m&&(b=!0),a.forwardedTouchEvent&&(b=!0),a.cancelable||(b=!0),b||(a.stopImmediatePropagation(),a.stopPropagation(),m?(c(m)||r)&&a.preventDefault():a.preventDefault(),m=null),b)}if(k.support.touch){var i,j,l,m,n,o,p,q,r;document.addEventListener("click",h,!0),b(document).on("touchstart",d),b(document).on("touchmove",e),b(document).on("touchend",f),b(document).on("touchcancel",g)}},k.initClickEvents=function(){function a(a){var c=b(this),d=c.attr("href"),e="a"===c[0].nodeName.toLowerCase();if(e)for(var f=0;f<k.params.externalLinks.length;f++){if(c.hasClass(k.params.externalLinks[f]))return;if(c[0].rel===k.params.externalLinks[f])return}if(c.hasClass("smart-select")&&k.smartSelectOpen&&k.smartSelectOpen(c),c.hasClass("open-panel")&&k.openPanel(1===b(".panel").length?b(".panel").hasClass("panel-left")?"left":"right":"right"===c.attr("data-panel")?"right":"left"),c.hasClass("close-panel")&&k.closePanel(),c.hasClass("panel-overlay")&&k.params.panelsCloseByOutside&&k.closePanel(),c.hasClass("open-popover")){var g;g=c.attr("data-popover")?c.attr("data-popover"):".popover",k.popover(g,c)}c.hasClass("close-popover")&&k.closeModal(".popover.modal-in");var h;c.hasClass("open-popup")&&(h=c.attr("data-popup")?c.attr("data-popup"):".popup",k.popup(h)),c.hasClass("close-popup")&&k.closeModal(".popup.modal-in");var i;if(c.hasClass("open-login-screen")&&(i=c.attr("data-login-screen")?c.attr("data-login-screen"):".login-screen",k.loginScreen(i)),c.hasClass("close-login-screen")&&k.closeModal(".login-screen.modal-in"),c.hasClass("modal-overlay")&&(b(".modal.modal-in").length>0&&k.params.modalCloseByOutside&&k.closeModal(".modal.modal-in"),b(".actions-modal.modal-in").length>0&&k.params.actionsCloseByOutside&&k.closeModal(".actions-modal.modal-in"),b(".popover.modal-in").length>0&&k.closeModal(".popover.modal-in")),c.hasClass("popup-overlay")&&b(".popup.modal-in").length>0&&k.params.popupCloseByOutside&&k.closeModal(".popup.modal-in"),c.hasClass("tab-link")&&k.showTab(c.attr("data-tab")||c.attr("href"),c),c.hasClass("swipeout-delete"))if(c.attr("data-confirm")){var j=c.attr("data-confirm"),l=c.attr("data-confirm-title");l?k.confirm(j,l,function(){k.swipeoutDelete(c.parents(".swipeout"))}):k.confirm(j,function(){k.swipeoutDelete(c.parents(".swipeout"))})}else k.swipeoutDelete(c.parents(".swipeout"));if(c.hasClass("toggle-sortable")&&k.sortableToggle(c.data("sortable")),c.hasClass("open-sortable")&&k.sortableOpen(c.data("sortable")),c.hasClass("close-sortable")&&k.sortableClose(c.data("sortable")),c.hasClass("accordion-item-toggle")||c.hasClass("item-link")&&c.parent().hasClass("accordion-item")){var m=c.parents(".accordion-item");0===m.length&&(m=c.parents("li")),k.accordionToggle(m)}if((!k.params.ajaxLinks||c.is(k.params.ajaxLinks))&&e){e&&a.preventDefault();var n=d&&d.length>0&&0!==d.indexOf("#");if(n||c.hasClass("back")){var o;if(c.attr("data-view")?o=b(c.attr("data-view"))[0].f7View:(o=c.parents("."+k.params.viewClass)[0]&&c.parents("."+k.params.viewClass)[0].f7View,o&&o.params.linksView&&(o=b(o.params.linksView)[0].f7View)),!o)for(var f=0;f<k.views.length;f++)k.views[f].main&&(o=k.views[f]);if(!o)return;var p;c.hasClass("no-animation")&&(p=!1),c.hasClass("back")?o.goBack(c.attr("href"),p):o.loadPage(c.attr("href"),p)}}}b(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle",a)},k.initResize=function(){b(window).on("resize",k.resize),b(window).on("orientationchange",k.orientationchange)},k.resize=function(){k.sizeNavbars&&k.sizeNavbars(),j()},k.orientationchange=function(){k.device&&k.device.minimalUi&&(90===window.orientation||-90===window.orientation)&&(document.body.scrollTop=0),j()},k.formsData={},k.formStoreData=function(a,b){k.formsData[a]=b,k.ls["f7form-"+a]=JSON.stringify(b)},k.formDeleteData=function(a){k.formsData[a]&&(k.formsData[a]="",delete k.formsData[a]),k.ls["f7form-"+a]&&(k.ls["f7form-"+a]="",delete k.ls["f7form-"+a])},k.formGetData=function(a){return k.ls["f7form-"+a]?JSON.parse(k.ls["f7form-"+a]):k.formsData[a]?k.formsData[a]:void 0},k.formToJSON=function(a){if(a=b(a),1!==a.length)return!1;var c={},d=["submit","image","button","file"],e=[];return a.find("input, select, textarea").each(function(){var f=b(this),g=f.attr("name"),h=f.attr("type"),i=this.nodeName.toLowerCase();if(!(d.indexOf(h)>=0||e.indexOf(g)>=0||!g))if("select"===i&&f.attr("multiple"))e.push(g),c[g]=[],a.find('select[name="'+g+'"] option').each(function(){this.selected&&c[g].push(this.value)});else switch(h){case"checkbox":e.push(g),c[g]=[],a.find('input[name="'+g+'"]').each(function(){this.checked&&c[g].push(this.value)});break;case"radio":e.push(g),a.find('input[name="'+g+'"]').each(function(){this.checked&&(c[g]=this.value)});break;default:c[g]=f.val()}}),c},k.formFromJSON=function(a,c){if(a=b(a),1!==a.length)return!1;var d=["submit","image","button","file"],e=[];a.find("input, select, textarea").each(function(){var f=b(this),g=f.attr("name"),h=f.attr("type"),i=this.nodeName.toLowerCase();if(c[g]&&!(d.indexOf(h)>=0||e.indexOf(g)>=0||!g))if("select"===i&&f.attr("multiple"))e.push(g),a.find('select[name="'+g+'"] option').each(function(){this.selected=c[g].indexOf(this.value)>=0?!0:!1});else switch(h){case"checkbox":e.push(g),a.find('input[name="'+g+'"]').each(function(){this.checked=c[g].indexOf(this.value)>=0?!0:!1});break;case"radio":e.push(g),a.find('input[name="'+g+'"]').each(function(){this.checked=c[g]===this.value?!0:!1});break;default:f.val(c[g])}})},k.initFormsStorage=function(a){function c(){var a=b(this),c=a[0].id;if(c){var d=k.formToJSON(a);d&&(k.formStoreData(c,d),a.trigger("store",{data:d}))}}function d(){e.off("change submit",c),a.off("pageBeforeRemove",d)}if(a=b(a),0!==a.length){var e=a.find("form.store-data");0!==e.length&&(e.each(function(){var a=this.getAttribute("id");if(a){var b=k.formGetData(a);b&&k.formFromJSON(this,b)}}),e.on("change submit",c),a.on("pageBeforeRemove",d))}},b(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(a){var c=b(this);if("change"!==a.type||c.hasClass("ajax-submit-onchange")){"submit"===a.type&&a.preventDefault();var d=c.attr("method")||"GET",e=c.attr("enctype"),f=c.attr("action");if(f){var g;g="POST"===d?new FormData(c[0]):b.serializeObject(k.formToJSON(c[0]));var h=b.ajax({method:d,url:f,contentType:e,data:g,success:function(a){c.trigger("submitted",{data:a,xhr:h})}})}}}),k.pushStateQueue=[],k.pushStateClearQueue=function(){if(0!==k.pushStateQueue.length){var a,b=k.pushStateQueue.pop();k.params.pushStateNoAnimation===!0&&(a=!1),"goBack"===b.action&&k.goBack(b.view,void 0,a,!1,!1),"loadPage"===b.action&&k.loadPage(b.view,b.stateUrl,a,!1),"loadContent"===b.action&&k.loadContent(b.view,b.stateContent,a,!1)}},k.initPushState=function(){function a(a){if(!c){for(var b,d=0;d<k.views.length;d++)k.views[d].main&&(b=k.views[d]);if(b){var e=a.state;e||(e={url:b.history[0]});var f,g=e&&e.url||void 0,h=e&&e.content||void 0;k.params.pushStateNoAnimation===!0&&(f=!1),g!==b.url&&(b.history.indexOf(g)>=0?k.allowPageChange?k.goBack(b,void 0,f,!1,!1):k.pushStateQueue.push({action:"goBack",view:b}):g&&!h?k.allowPageChange?k.loadPage(b,g,f,!1):k.pushStateQueue.unshift({action:"loadPage",stateUrl:g,view:b}):h&&(k.allowPageChange?k.loadContent(b,h,f,!1):k.pushStateQueue.unshift({action:"loadContent",stateContent:h,view:b})))}}}var c=!0;b(window).on("load",function(){setTimeout(function(){c=!1},0)}),b(window).on("popstate",a)};var q=function(a,c){var d={initialSlide:0,spaceBetween:0,speed:300,slidesPerView:1,direction:"horizontal",paginationHide:!0,slideClass:"slider-slide",slideActiveClass:"slider-slide-active",slideNextClass:"slider-slide-next",slidePrevClass:"slider-slide-prev",wrapperClass:"slider-wrapper",bulletClass:"slider-pagination-bullet",bulletActiveClass:"slider-pagination-active",preventClicks:!0,preventClicksPropagation:!0,autoplay:!1,autoplayDisableOnInteraction:!0};
c=c||{};for(var e in d)"undefined"==typeof c[e]&&(c[e]=d[e]);var f=this;if(f.params=c,f.container=b(a),0!==f.container.length){f.container[0].f7Slider=f,f.container.addClass("vertical"===f.params.direction?"slider-container-vertical":"slider-container-horizontal"),f.wrapper=f.container.children("."+f.params.wrapperClass),f.params.pagination&&(f.paginationContainer=b(f.params.pagination)),f.activeSlideIndex=f.previousSlideIndex=f.params.initialSlide||0;var g="horizontal"===f.params.direction,h=g&&k.rtl?-1:1;f.updateSlides=function(){if(f.slides=f.wrapper.children("."+f.params.slideClass),0!==f.params.spaceBetween){var a=k.rtl?"margin-left":"margin-right";g?f.slides.css(a,f.params.spaceBetween+"px"):f.slides.css({marginBottom:f.params.spaceBetween+"px"})}if(f.params.slidesPerView>1){var b="(100% - "+(f.params.slidesPerView-1)*c.spaceBetween+"px)/"+f.params.slidesPerView;g?(f.slides.css("width","-webkit-calc("+b+")"),f.slides.css("width","-moz-calc("+b+")"),f.slides.css("width","calc("+b+")")):(f.slides.css("height","-webkit-calc("+b+")"),f.slides.css("height","-moz-calc("+b+")"),f.slides.css("height","calc("+b+")"))}},f.updatePagination=function(){if(f.paginationContainer&&f.paginationContainer.length>0){for(var a="",b=0;b<f.slides.length-f.params.slidesPerView+1;b++)a+='<span class="'+f.params.bulletClass+'"></span>';f.paginationContainer.html(a),f.bullets=f.paginationContainer.find("."+f.params.bulletClass)}},f.updateSize=function(){f.width=f.container[0].offsetWidth,f.height=f.container[0].offsetHeight,f.size=g?f.width:f.height},f.attachEvents=function(a){var c=a?"off":"on";f.container[c](k.touchEvents.start,f.onTouchStart),f.container[c](k.touchEvents.move,f.onTouchMove),f.container[c](k.touchEvents.end,f.onTouchEnd),b(window)[c]("resize",f.onResize),f.params.nextButton&&b(f.params.nextButton)[c]("click",f.onClickNext),f.params.prevButton&&b(f.params.prevButton)[c]("click",f.onClickPrev),f.params.indexButton&&b(f.params.indexButton)[c]("click",f.onClickIndex),f.params.preventClicks&&f.container[c]("click",f.onClick)},f.detachEvents=function(){f.attachEvents(!0)},f.onResize=function(){f.updateSize(),f.slideTo(f.activeSlideIndex,0,!1)};var i,j,l,m,n,o,p={},q={},r=!1,s=Date.now();f.allowClick=!0,f.onClick=function(a){f.params.preventClicks&&!f.allowClick&&(a.preventDefault(),f.params.preventClicksPropagation&&a.stopPropagation())},f.onTouchStart=function(a){i=!0,j=!1,m=void 0,p.x=q.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,p.y=q.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,l=Date.now(),f.allowClick=!0,f.updateSize(),f.params.onTouchStart&&f.params.onTouchStart(f,a),"mousedown"===a.type&&a.preventDefault()},f.onTouchMove=function(a){if(f.params.onTouchMove&&f.params.onTouchMove(f,a),f.allowClick=!1,!(a.targetTouches&&a.targetTouches.length>1)&&(q.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,q.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof m&&(m=!!(m||Math.abs(q.y-p.y)>Math.abs(q.x-p.x))),(g&&m||!g&&!m)&&f.params.onOppositeTouchMove&&f.params.onOppositeTouchMove(f,a),i)){if(g&&m||!g&&!m)return void(i=!1);f.params.onSliderMove&&f.params.onSliderMove(f,a),a.preventDefault(),a.stopPropagation(),j||(n=b.getTranslate(f.wrapper[0],g?"x":"y")*h,f.wrapper.transition(0),r&&f.onSlideChangeEnd(),c.autoplay&&u&&(f.params.autoplayDisableOnInteraction?f.stopAutoplay():t&&clearTimeout(t))),j=!0;var d=g?(q.x-p.x)*h:q.y-p.y;d>0&&0===f.activeSlideIndex?d=Math.pow(d,.85):0>d&&f.activeSlideIndex===f.slides.length-f.params.slidesPerView&&(d=-Math.pow(-d,.85));var e=g?(d+n)*h:0,k=g?0:d+n;f.wrapper.transform("translate3d("+e+"px, "+k+"px,0)")}},f.onTouchEnd=function(a){f.params.onTouchEnd&&f.params.onTouchEnd(f,a);var b=Date.now(),c=b-l;if(f.allowClick&&(300>c&&b-s>300&&(o&&clearTimeout(o),o=setTimeout(function(){f&&(f.params.paginationHide&&f.paginationContainer&&f.paginationContainer.toggleClass("slider-pagination-hidden"),f.params.onClick&&f.params.onClick(f,a))},300)),300>c&&300>b-s&&(o&&clearTimeout(o),f.params.onDoubleTap&&f.params.onDoubleTap(f,a)),f.params.onTap&&f.params.onTap(f,a)),s=Date.now(),!i||!j)return void(i=j=!1);i=j=!1;var d=g?(q.x-p.x)*h:q.y-p.y;Math.abs(d)<5&&300>c&&f.allowClick===!1&&(f.allowClick=!0),setTimeout(function(){f&&(f.allowClick=!0)},100);var e=f.params.autoplay&&u&&!f.params.autoplayDisableOnInteraction;if(0===d)return void(e&&f.startAutoplay());var k=1,m=f.size/f.params.slidesPerView;f.params.slidesPerView>1&&(k=Math.abs((Math.abs(d)+m/2)/m)),e&&f.wrapper.transitionEnd(function(){f.startAutoplay()}),c>300?-m/2>=d?f.slideTo(f.activeSlideIndex+Math.floor(k)):d>m/2?f.slideTo(f.activeSlideIndex-Math.floor(k)):f.slideReset():Math.abs(d)<10?f.slideReset():f.slideTo(0>d?f.activeSlideIndex+Math.round(k):f.activeSlideIndex-Math.round(k))},f.slideTo=function(a,b,c){"undefined"==typeof a&&(a=0),0>a&&(a=0),a>f.slides.length-f.params.slidesPerView&&(a=f.slides.length-f.params.slidesPerView);var d=-(f.size+f.params.spaceBetween)*a/f.params.slidesPerView;"undefined"==typeof b&&(b=f.params.speed),f.previousSlideIndex=f.activeSlideIndex,f.activeSlideIndex=Math.round(a),f.isFirst=0===f.activeSlideIndex,f.isLast=f.activeSlideIndex===f.slides.length-f.params.slidesPerView,f.onSlideChangeStart();var e=g?d*h:0,i=g?0:d;0===b?(f.wrapper.transition(0).transform("translate3d("+e+"px,"+i+"px,0)"),c!==!1&&f.onSlideChangeEnd()):(r=!0,f.wrapper.transition(b).transform("translate3d("+e+"px,"+i+"px,0)").transitionEnd(function(){c!==!1&&f.onSlideChangeEnd()}))},f.updateClasses=function(){f.slides.removeClass(f.params.slideActiveClass+" "+f.params.slideNextClass+" "+f.params.slidePrevClass);var a=f.slides.eq(f.activeSlideIndex);a.addClass(f.params.slideActiveClass),a.next().addClass(f.params.slideNextClass),a.prev().addClass(f.params.slidePrevClass),f.bullets&&f.bullets.length>0&&(f.bullets.removeClass(f.params.bulletActiveClass),f.bullets.eq(f.activeSlideIndex).addClass(f.params.bulletActiveClass))},f.onSlideChangeStart=function(){f.updateClasses(),f.params.onSlideChangeStart&&f.params.onSlideChangeStart(f)},f.onSlideChangeEnd=function(){r=!1,f.wrapper.transition(0),f.params.onSlideChangeEnd&&f.params.onSlideChangeEnd(f)},f.slideNext=function(){f.slideTo(f.activeSlideIndex+1)},f.slidePrev=function(){f.slideTo(f.activeSlideIndex-1)},f.slideReset=function(){f.slideTo(f.activeSlideIndex)},f.onClickNext=function(a){a.preventDefault(),f.slideNext()},f.onClickPrev=function(a){a.preventDefault(),f.slidePrev()},f.onClickIndex=function(a){a.preventDefault(),f.slideTo(b(this).index())};var t,u;return f.startAutoplay=function(){f.params.autoplay&&(u=!0,t&&clearTimeout(t),t=setTimeout(function(){f.wrapper.transitionEnd(function(){f.startAutoplay()});var a=f.activeSlideIndex+1;a>f.slides.length-f.params.slidesPerView&&(a=0),f.slideTo(a)},f.params.autoplay))},f.stopAutoplay=function(){u=!1,t&&clearTimeout(t)},f.resetAutoplay=function(){f.stopAutoplay(),f.startAutoplay()},f.init=function(){f.updateSlides(),f.updatePagination(),f.updateSize(),f.slideTo(f.params.initialSlide,0),f.attachEvents(),f.params.autoplay&&f.startAutoplay()},f.destroy=function(){f.detachEvents(),f.params.onDestroy&&f.params.onDestroy(),f=void 0},f.init(),f}};k.slider=function(a,b){return new q(a,b)},k.initSlider=function(a){function c(a){function b(){a.destroy(),d.off("pageBeforeRemove",b)}d.on("pageBeforeRemove",b)}var d=b(a),e=d.find(".slider-init");if(0!==e.length)for(var f=0;f<e.length;f++){var g,h=e.eq(f);g=h.data("slider")?JSON.parse(h.data("slider")):{initialSlide:parseInt(h.data("initialSlide"),10)||void 0,spaceBetween:parseInt(h.data("spaceBetween"),10)||void 0,speed:parseInt(h.data("speed"),10)||void 0,slidesPerView:h.data("slidesPerView"),direction:h.data("direction"),pagination:h.data("pagination"),paginationHide:h.data("paginationHide")&&("true"===h.data("paginationHide")?!0:!1),slideClass:h.data("slideClass"),slideActiveClass:h.data("slideActiveClass"),slideNextClass:h.data("slideNextClass"),slidePrevClass:h.data("slidePrevClass"),wrapperClass:h.data("wrapperClass"),bulletClass:h.data("bulletClass"),bulletActiveClass:h.data("bulletActiveClass"),nextButton:h.data("nextButton"),prevButton:h.data("prevButton"),indexButton:h.data("indexButton"),autoplay:h.data("autoplay")};var i=k.slider(h[0],g);c(i)}};var r=function(a){function c(){var a;for(d=0;d<k.views.length;d++)k.views[d].main&&(a=k.views[d]);return a}var d,e=this,f={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close"};a=a||{};for(var g in f)"undefined"==typeof a[g]&&(a[g]=f[g]);e.params=a;var h="dark"===e.params.theme?"white":"blue",i=e.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("page"===e.params.type&&"back")+' close-popup photo-browser-close-link"><i class="icon icon-back-'+h+'"></i><span>'+e.params.backLinkText+'</span></a></div><div class="center sliding"><span><span class="photo-browser-current"></span> of <span class="photo-browser-total"></span></span></div><div class="right"></div></div></div>',j=e.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-prev-'+h+'"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-next-'+h+'"></i></a></div></div>',l=e.params.template||'<div class="photo-browser photo-browser-'+e.params.theme+'"><div class="view navbar-fixed toolbar-fixed">{{navbar}}<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">{{toolbar}}{{captions}}<div class="photo-browser-slider-container slider-container"><div class="photo-browser-slider-wrapper slider-wrapper">{{photos}}</div></div></div></div></div>',m=e.params.photoTemplate||'<div class="photo-browser-slide slider-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',n=e.params.captionsTheme||e.params.theme,o=e.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+n+'">{{captions}}</div>',p=e.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',q=e.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide slider-slide">{{html}}</div>',r="",s="";for(d=0;d<e.params.photos.length;d++){var t=e.params.photos[d],u="";"string"==typeof t||t instanceof String?u=t.indexOf("<")>=0||t.indexOf(">")>=0?q.replace(/{{html}}/g,t):m.replace(/{{url}}/g,t):"object"==typeof t&&(t.hasOwnProperty("html")&&t.html.length>0?u=q.replace(/{{html}}/g,t.html):t.hasOwnProperty("url")&&t.url.length>0&&(u=m.replace(/{{url}}/g,t.url)),t.hasOwnProperty("caption")&&t.caption.length>0?s+=p.replace(/{{caption}}/g,t.caption).replace(/{{captionIndex}}/g,d):u=u.replace(/{{caption}}/g,"")),r+=u}var v=l.replace("{{navbar}}",e.params.navbar?i:"").replace("{{noNavbar}}",e.params.navbar?"":"no-navbar").replace("{{photos}}",r).replace("{{captions}}",o.replace(/{{captions}}/g,s)).replace("{{toolbar}}",e.params.toolbar?j:"");e.activeSlideIndex=e.params.initialSlide,e.openIndex=e.activeSlideIndex,e.opened=!1,e.open=function(a){return"undefined"==typeof a&&(a=e.activeSlideIndex),a=parseInt(a,10),e.opened&&e.slider?void e.slider.slideTo(a):(e.opened=!0,e.openIndex=a,"standalone"===e.params.type&&b("body").append(v),"popup"===e.params.type&&(e.popup=k.popup('<div class="popup photo-browser-popup">'+v+"</div>"),b(e.popup).on("closed",e.onPopupClose)),"page"===e.params.type?(b(document).on("pageBeforeInit",e.onPageBeforeInit),b(document).on("pageBeforeRemove",e.onPageBeforeRemove),e.params.view||(e.params.view=c()),void e.params.view.loadContent(v)):void e.layout(e.openIndex))},e.close=function(){e.opened=!1,e.sliderContainer&&0!==e.sliderContainer.length&&(e.attachEvents(!0),"standalone"===e.params.type&&e.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){e.container.remove()}),e.slider.destroy(),e.slider=e.sliderContainer=e.sliderWrapper=e.slides=w=x=y=void 0)},e.onPopupClose=function(){e.close(),b(e.popup).off("pageBeforeInit",e.onPopupClose)},e.onPageBeforeInit=function(a){"photo-browser-slides"===a.detail.page.name&&e.layout(e.openIndex),b(document).off("pageBeforeInit",e.onPageBeforeInit)},e.onPageBeforeRemove=function(a){"photo-browser-slides"===a.detail.page.name&&e.close(),b(document).off("pageBeforeRemove",e.onPageBeforeRemove)},e.layout=function(a){e.container="page"===e.params.type?b(".photo-browser-slider-container").parents(".view"):b(".photo-browser"),"standalone"===e.params.type&&(e.container.addClass("photo-browser-in"),k.sizeNavbars(e.container)),e.sliderContainer=e.container.find(".photo-browser-slider-container"),e.sliderWrapper=e.container.find(".photo-browser-slider-wrapper"),e.slides=e.container.find(".photo-browser-slide"),e.captionsContainer=e.container.find(".photo-browser-captions"),e.captions=e.container.find(".photo-browser-caption");var c={nextButton:e.params.nextButton||".photo-browser-next",prevButton:e.params.prevButton||".photo-browser-prev",indexButton:e.params.indexButton,initialSlide:a,spaceBetween:e.params.spaceBetween,speed:e.params.speed,onTap:function(a,b){e.params.onTap&&e.params.onTap(a,b)},onClick:function(a,b){e.params.exposition&&e.toggleExposition(),e.params.onClick&&e.params.onClick(a,b)},onDoubleTap:function(a,c){e.toggleZoom(b(c.target).parents(".photo-browser-slide")),e.params.onDoubleTap&&e.params.onDoubleTap(a,c)},onSlideChangeStart:function(a){e.activeSlideIndex=a.activeSlideIndex,e.container.find(".photo-browser-current").text(a.activeSlideIndex+1),e.container.find(".photo-browser-total").text(a.slides.length),a.isFirst?(b(".photo-browser-prev").addClass("photo-browser-link-inactive"),b(".photo-browser-next").removeClass("photo-browser-link-inactive")):a.isLast?(b(".photo-browser-next").addClass("photo-browser-link-inactive"),b(".photo-browser-prev").removeClass("photo-browser-link-inactive")):b(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),e.captions.length>0&&(e.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active"),e.captionsContainer.find('[data-caption-index="'+e.activeSlideIndex+'"]').addClass("photo-browser-caption-active"));var c=a.slides.eq(a.previousSlideIndex).find("video");c.length>0&&"pause"in c[0]&&c[0].pause(),e.params.onSlideChangeStart&&e.params.onSlideChangeStart(a)},onSlideChangeEnd:function(a){e.params.zoom&&w&&a.previousSlideIndex!==a.activeSlideIndex&&(x.transform("translate3d(0,0,0) scale(1)"),y.transform("translate3d(0,0,0)"),w=x=y=void 0,z=A=1),e.params.onSlideChangeEnd&&e.params.onSlideChangeEnd(a)}};e.params.swipeToClose&&"page"!==e.params.type&&(c.onTouchStart=e.swipeCloseTouchStart,c.onOppositeTouchMove=e.swipeCloseTouchMove,c.onTouchEnd=e.swipeCloseTouchEnd),e.slider=k.slider(e.sliderContainer,c),e.attachEvents()},e.attachEvents=function(a){var b=a?"off":"on";e.params.zoom&&(e.slides[b]("gesturestart",e.onSlideGestureStart),e.slides[b]("gesturechange",e.onSlideGestureChange),e.slides[b]("gestureend",e.onSlideGestureEnd),e.slides[b](k.touchEvents.start,e.onSlideTouchStart),e.slides[b](k.touchEvents.move,e.onSlideTouchMove),e.slides[b](k.touchEvents.end,e.onSlideTouchEnd)),e.container.find(".photo-browser-close-link")[b]("click",e.close)};e.exposed=!1,e.toggleExposition=function(){e.container&&e.container.toggleClass("photo-browser-exposed"),e.params.expositionHideCaptions&&e.captionsContainer.toggleClass("photo-browser-captions-exposed"),e.exposed=!e.exposed},e.expositionOn=function(){e.container&&e.container.addClass("photo-browser-exposed"),e.params.expositionHideCaptions&&e.captionsContainer.addClass("photo-browser-captions-exposed"),e.exposed=!0},e.expositionOff=function(){e.container&&e.container.removeClass("photo-browser-exposed"),e.params.expositionHideCaptions&&e.captionsContainer.removeClass("photo-browser-captions-exposed"),e.exposed=!1};var w,x,y,z=1,A=1,B=!1;e.onSlideGestureStart=function(){w||(w=b(this),x=w.find("img"),y=x.parent()),x.transition(0),B=!0},e.onSlideGestureChange=function(a){z=a.scale*A,z>e.params.maxZoom&&(z=e.params.maxZoom-1+Math.pow(z-e.params.maxZoom+1,.5)),z<e.params.minZoom&&(z=e.params.minZoom+1-Math.pow(e.params.minZoom-z+1,.5)),x.transform("translate3d(0,0,0) scale("+z+")")},e.onSlideGestureEnd=function(){z=Math.max(Math.min(z,e.params.maxZoom),e.params.minZoom),x.transition(e.params.speed).transform("translate3d(0,0,0) scale("+z+")"),A=z,B=!1,1===z&&(w=void 0)},e.toggleZoom=function(){w||(w=e.slides.eq(e.slider.activeSlideIndex),x=w.find("img"),y=x.parent()),y.transition(300).transform("translate3d(0,0,0)"),z&&1!==z?(z=A=1,x.transition(300).transform("translate3d(0,0,0) scale(1)"),w=void 0):(z=A=e.params.maxZoom,x.transition(300).transform("translate3d(0,0,0) scale("+z+")"))};var C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T={},U={};e.onSlideTouchStart=function(a){C||(C=!0,T.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,T.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY)},e.onSlideTouchMove=function(a){if(e.slider.allowClick=!1,C&&w){D||(K=x[0].offsetWidth,L=x[0].offsetHeight,M=b.getTranslate(y[0],"x")||0,N=b.getTranslate(y[0],"y")||0,y.transition(0));var c=K*z,d=L*z;if(!(c<e.slider.width&&d<e.slider.height)){if(G=Math.min(e.slider.width/2-c/2,0),I=-G,H=Math.min(e.slider.height/2-d/2,0),J=-H,U.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,U.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,!D&&!B&&(Math.floor(G)===Math.floor(M)&&U.x<T.x||Math.floor(I)===Math.floor(M)&&U.x>T.x))return void(C=!1);a.stopPropagation(),D=!0,E=U.x-T.x+M,F=U.y-T.y+N,G>E&&(E=G+1-Math.pow(G-E+1,.8)),E>I&&(E=I-1+Math.pow(E-I+1,.8)),H>F&&(F=H+1-Math.pow(H-F+1,.8)),F>J&&(F=J-1+Math.pow(F-J+1,.8)),O||(O=U.x),R||(R=U.y),P||(P=Date.now()),Q=(U.x-O)/(Date.now()-P)/2,S=(U.y-R)/(Date.now()-P)/2,Math.abs(U.x-O)<2&&(Q=0),Math.abs(U.y-R)<2&&(S=0),O=U.x,R=U.y,P=Date.now(),y.transform("translate3d("+E+"px, "+F+"px,0)")}}},e.onSlideTouchEnd=function(){if(!C||!D)return C=!1,void(D=!1);C=!1,D=!1;var a=300,b=300,c=Q*a,d=E+c,f=S*b,g=F+f;0!==Q&&(a=Math.abs((d-E)/Q)),0!==S&&(b=Math.abs((g-F)/S));var h=Math.max(a,b);E=d,F=g;var i=K*z,j=L*z;G=Math.min(e.slider.width/2-i/2,0),I=-G,H=Math.min(e.slider.height/2-j/2,0),J=-H,E=Math.max(Math.min(E,I),G),F=Math.max(Math.min(F,J),H),y.transition(h).transform("translate3d("+E+"px, "+F+"px,0)")};var V,W,X,Y,Z,$=!1,_=!0,ab=!1;return e.swipeCloseTouchStart=function(){_&&($=!0)},e.swipeCloseTouchMove=function(a,b){if($){ab||(ab=!0,W="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,Y=e.slider.slides.eq(e.slider.activeSlideIndex),Z=(new Date).getTime()),b.preventDefault(),X="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,V=W-X;var c=1-Math.abs(V)/300;Y.transform("translate3d(0,"+-V+"px,0)"),e.slider.container.css("opacity",c).transition(0)}},e.swipeCloseTouchEnd=function(){if($=!1,!ab)return void(ab=!1);ab=!1,_=!1;var a=Math.abs(V),b=(new Date).getTime()-Z;return 300>b&&a>20||b>=300&&a>100?void setTimeout(function(){"standalone"===e.params.type&&e.close(),"popup"===e.params.type&&k.closeModal(e.popup),_=!0},0):(0!==a?Y.addClass("transitioning").transitionEnd(function(){_=!0,Y.removeClass("transitioning")}):_=!0,e.slider.container.css("opacity","").transition(""),void Y.transform(""))},e};k.photoBrowser=function(a){return new r(a)};var s;k.addNotification=function(a){if(a){"undefined"==typeof a.media&&(a.media=k.params.notificationMedia),"undefined"==typeof a.title&&(a.title=k.params.notificationTitle),"undefined"==typeof a.subtitle&&(a.subtitle=k.params.notificationSubtitle),"undefined"==typeof a.closeIcon&&(a.closeIcon=k.params.notificationCloseIcon),"undefined"==typeof a.hold&&(a.hold=k.params.notificationHold),"undefined"==typeof a.closeOnClick&&(a.closeOnClick=k.params.notificationCloseOnClick),s||(s=document.createElement("div"));var c=b(".notifications");0===c.length&&(b("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),c=b(".notifications"));var d,e=c.children("ul");d=a.custom?"<li>"+a.custom+"</li>":'<li class="notification-item notification-hidden"><div class="item-content">'+(a.media?'<div class="item-media">'+a.media+"</div>":"")+'<div class="item-inner"><div class="item-title-row">'+(a.title?'<div class="item-title">'+a.title+"</div>":"")+(a.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(a.subtitle?'<div class="item-subtitle">'+a.subtitle+"</div>":"")+(a.message?'<div class="item-text">'+a.message+"</div>":"")+"</div></div></li>",s.innerHTML=d;var f=b(s).children();f.on("click",function(c){a.onClick&&a.onClick(c,f[0]),a.closeOnClick?k.closeNotification(f[0]):(b(c.target).is(".close-notification")||b(c.target).parents(".close-notification").length>0)&&k.closeNotification(f[0])}),a.onClose&&f.data("f7NotificationOnClose",function(){a.onClose(f[0])}),a.additionalClass&&f.addClass(a.additionalClass),a.hold&&setTimeout(function(){f.length>0&&k.closeNotification(f[0])},a.hold),e.prepend(f[0]),c.show();var g=f.height();f.css("marginTop",-g+"px"),f.transition(0);{f[0].clientLeft}return f.transition(""),f.css("marginTop","0px"),c.transform("translate3d(0, 0,0)"),f.removeClass("notification-hidden"),f[0]}},k.closeNotification=function(a){if(a=b(a),0!==a.length&&!a.hasClass("notification-item-removing")){var c=b(".notifications"),d=a.height();a.css("height",d+"px").transition(0);{a[0].clientLeft}a.css("height","0px").transition("").addClass("notification-item-removing"),a.data("f7NotificationOnClose")&&a.data("f7NotificationOnClose")(),0===c.find(".notification-item:not(.notification-item-removing)").length&&c.transform(""),a.addClass("notification-hidden").transitionEnd(function(){a.remove(),0===c.find(".notification-item").length&&c.hide()})}};var t=[];return k.initPlugins=function(){for(var a in k.plugins){var b=k.plugins[a](k,k.params[a]);b&&t.push(b)}},k.pluginHook=function(a){for(var b=0;b<t.length;b++)t[b].hooks&&a in t[b].hooks&&t[b].hooks[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},k.pluginPrevent=function(a){for(var b=!1,c=0;c<t.length;c++)t[c].prevents&&a in t[c].prevents&&t[c].prevents[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(b=!0);return b},k.pluginProcess=function(a,b){for(var c=b,d=0;d<t.length;d++)t[d].preprocess&&process in t[d].preprocess&&(c=t[d].preprocess[process](b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return c},k.init=function(){k.initPlugins&&k.initPlugins(),k.getDeviceInfo&&k.getDeviceInfo(),k.initFastClicks&&k.params.fastClicks&&k.initFastClicks(),k.initClickEvents&&k.initClickEvents(),b(".page").each(function(){var a=b(this),c=a.parents("."+k.params.viewClass),d=c[0].f7View||!1,e=d&&d.url?d.url:!1;c&&c.attr("data-page",a.attr("data-page")||void 0),k.pageInitCallback(d,this,e,"center")}),k.initResize&&k.initResize(),k.initPushState&&k.params.pushState&&k.initPushState(),k.initSwipeout&&k.params.swipeout&&k.initSwipeout(),k.initSortable&&k.params.sortable&&k.initSortable(),k.initSwipePanels&&k.params.swipePanel&&k.initSwipePanels(),k.params.onAppInit&&k.params.onAppInit(),k.pluginHook("appInit")},k.params.init&&k.init(),k};var a=function(a){var b=this,c=0;for(c=0;c<a.length;c++)b[c]=a[c];return b.length=a.length,this};a.prototype={addClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.add(b[c]);return this},removeClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.remove(b[c]);return this},hasClass:function(a){return this[0]?this[0].classList.contains(a):!1},toggleClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.toggle(b[c]);return this},attr:function(a,b){if("undefined"==typeof b)return this[0]?this[0].getAttribute(a):void 0;for(var c=0;c<this.length;c++)this[c].setAttribute(a,b);return this},removeAttr:function(a){for(var b=0;b<this.length;b++)this[b].removeAttribute(a)},prop:function(a,b){if("undefined"==typeof b)return this[0]?this[0][a]:void 0;for(var c=0;c<this.length;c++)this[c][a]=b;return this},data:function(a,b){if("undefined"==typeof b){if(this[0]){var c=this[0].getAttribute("data-"+a);return c?c:this[0].dom7ElementDataStorage&&this[0].dom7ElementDataStorage[a]?this[0].dom7ElementDataStorage[a]:void 0}return void 0}for(var d=0;d<this.length;d++){var e=this[d];e.dom7ElementDataStorage||(e.dom7ElementDataStorage={}),e.dom7ElementDataStorage[a]=b}return this},val:function(a){if("undefined"==typeof a)return this[0]?this[0].value:null;for(var b=0;b<this.length;b++)this[b].value=a;return this},transform:function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this},transition:function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this},on:function(a,c,d){function e(a){var e=a.target;if(b(e).is(c))d.call(e,a);else for(var f=b(e).parents(),g=0;g<f.length;g++)b(f[g]).is(c)&&d.call(f[g],a)}var f,g,h=a.split(" ");for(f=0;f<this.length;f++)if(2===arguments.length||c===!1)for(2===arguments.length&&(d=arguments[1]),g=0;g<h.length;g++)this[f].addEventListener(h[g],d,!1);else for(g=0;g<h.length;g++)this[f].dom7LiveListeners||(this[f].dom7LiveListeners=[]),this[f].dom7LiveListeners.push({listener:d,liveListener:e}),this[f].addEventListener(h[g],e,!1);return this},off:function(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)for(var e=0;e<this.length;e++)if(3===arguments.length){var f=(arguments[1],arguments[2]);if(this[e].dom7LiveListeners)for(var g=0;g<this[e].dom7LiveListeners.length;g++)this[e].dom7LiveListeners[g].listener===f&&this[e].removeEventListener(c[d],this[e].dom7LiveListeners[g].liveListener,!1)}else this[e].removeEventListener(c[d],b,!1);return this},trigger:function(a,b){for(var c=0;c<this.length;c++){var d;try{d=new CustomEvent(a,{detail:b,bubbles:!0,cancelable:!0})}catch(e){d=document.createEvent("Event"),d.initEvent(a,!0,!0),d.detail=b}this[c].dispatchEvent(d)}return this},transitionEnd:function(a){function b(f){for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},animationEnd:function(a){function b(f){for(a(f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width"))-parseFloat(this.css("padding-left"))-parseFloat(this.css("padding-right")):null},outerWidth:function(a){return this.length>0?a?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?this[0].offsetHeight-parseFloat(this.css("padding-top"))-parseFloat(this.css("padding-bottom")):null},outerHeight:function(a){return this.length>0?a?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var a=this[0],b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return{top:b.top+f-d,left:b.left+g-e}}return null},hide:function(){for(var a=0;a<this.length;a++)this[a].style.display="none";return this},show:function(){for(var a=0;a<this.length;a++)this[a].style.display="block";return this},css:function(a,b){var c;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c++)for(var d in a)this[c].style[d]=a[d];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c++)this[c].style[a]=b;return this}return this},each:function(a){for(var b=0;b<this.length;b++)a.call(this[b],b,this[b]);return this},html:function(a){if("undefined"==typeof a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b++)this[b].innerHTML=a;return this},text:function(a){if("undefined"==typeof a)return this[0]?this[0].textContent.trim():null;for(var b=0;b<this.length;b++)this[0].textContent=a},is:function(c){if(!this[0])return!1;var d,e;if("string"==typeof c){var f=this[0];if(f===document)return c===document;if(f===window)return c===window;if(f.matches)return f.matches(c);if(f.webkitMatchesSelector)return f.webkitMatchesSelector(c);if(f.mozMatchesSelector)return f.mozMatchesSelector(c);if(f.msMatchesSelector)return f.msMatchesSelector(c);for(d=b(c),e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}if(c===document)return this[0]===document;if(c===window)return this[0]===window;if(c.nodeType||c instanceof a){for(d=c.nodeType?[c]:c,e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}return!1},indexOf:function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b},index:function(){if(this[0]){for(var a=this[0],b=0;null!=(a=a.previousSibling);)1===a.nodeType&&b++;return b}return void 0},eq:function(b){if("undefined"==typeof b)return this;var c,d=this.length;return b>d-1?new a([]):0>b?(c=d+b,new a(0>c?[]:[this[c]])):new a([this[b]])},append:function(a){for(var b=0;b<this.length;b++)if("string"==typeof a){var c=document.createElement("div");for(c.innerHTML=a;c.firstChild;)this[b].appendChild(c.firstChild)}else this[b].appendChild(a);return this},prepend:function(a){for(var b=0;b<this.length;b++)if("string"==typeof a){var c=document.createElement("div");c.innerHTML=a;for(var d=c.childNodes.length-1;d>=0;d--)this[b].insertBefore(c.childNodes[d],this[b].childNodes[0])}else this[b].insertBefore(a,this[b].childNodes[0]);return this},insertBefore:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0]);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e])},insertAfter:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0].nextSibling);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e].nextSibling)},next:function(c){return new a(this.length>0?c?this[0].nextElementSibling&&b(this[0].nextElementSibling).is(c)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.nextElementSibling;){var f=e.nextElementSibling;d.push(c&&b(f).is(c)?f:f),e=f}return new a(d)},prev:function(c){return new a(this.length>0?c?this[0].previousElementSibling&&b(this[0].previousElementSibling).is(c)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.previousElementSibling;){var f=e.previousElementSibling;d.push(c&&b(f).is(c)?f:f),e=f}return new a(d)},parent:function(a){for(var c=[],d=0;d<this.length;d++)a?b(this[d].parentNode).is(a)&&c.push(this[d].parentNode):c.push(this[d].parentNode);return b(b.unique(c))},parents:function(a){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].parentNode;e;)a?b(e).is(a)&&c.push(e):c.push(e),e=e.parentNode;return b(b.unique(c))},find:function(b){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].querySelectorAll(b),f=0;f<e.length;f++)c.push(e[f]);return new a(c)},children:function(c){for(var d=[],e=0;e<this.length;e++)for(var f=this[e].childNodes,g=0;g<f.length;g++)c?1===f[g].nodeType&&b(f[g]).is(c)&&d.push(f[g]):1===f[g].nodeType&&d.push(f[g]);
return new a(b.unique(d))},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this}},function(){function b(b){a.prototype[b]=function(a){var c;if("undefined"==typeof a){for(c=0;c<this.length;c++)d.indexOf(b)<0&&this[c][b]();return this}return this.on(b,a)}}for(var c="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),d="resize scroll".split(" "),e=0;e<c.length;e++)b(c[e])}();var b=function(b,c){var d=[],e=0;if(b&&!c&&b instanceof a)return b;if(b)if("string"==typeof b){var f=(c||document).querySelectorAll(b);for(e=0;e<f.length;e++)d.push(f[e])}else if(b.nodeType||b===window||b===document)d.push(b);else if(b.length>0&&b[0].nodeType)for(e=0;e<b.length;e++)d.push(b[e]);return new a(d)};b.parseUrlQuery=function(a){var b,c,d,e={};if(!(a.indexOf("?")>=0))return e;for(a=a.split("?")[1],c=a.split("&"),b=0;b<c.length;b++)d=c[b].split("="),e[d[0]]=d[1];return e},b.isArray=function(a){return"[object Array]"===Object.prototype.toString.apply(a)?!0:!1},b.unique=function(a){for(var b=[],c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b},b.trim=function(a){return a.trim()},b.serializeObject=function(a){if("string"==typeof a)return a;var c=[],d="&";for(var e in a)if(b.isArray(a[e])){for(var f=[],g=0;g<a[e].length;g++)f.push(e+"="+a[e][g]);c.push(f.join(d))}else c.push(e+"="+a[e]);return c.join(d)},b.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?f=new WebKitCSSMatrix("none"===e.webkitTransform?"":e.webkitTransform):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:parseFloat(16===c.length?c[12]:c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:parseFloat(16===c.length?c[13]:c[5])),d||0},b.requestAnimationFrame=function(a){return window.requestAnimationFrame?window.requestAnimationFrame(a):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(a):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(a):window.setTimeout(a,1e3/60)},b.fn=a.prototype,b.fn.scrollTop=function(a,c){var d=this;return"undefined"==typeof a?d.length>0?d[0].scrollTop:null:d.each(function(){function d(a){void 0===a&&(a=(new Date).getTime()),null===i&&(i=a);var g=f+(a-i)/c*(h-f);return h>f&&g>=h?void(e.scrollTop=h):f>h&&h>=g?void(e.scrollTop=h):(e.scrollTop=g,void b.requestAnimationFrame(d))}var e=this,f=e.scrollTop;if(!c)return void(e.scrollTop=a);var g=e.scrollHeight-e.offsetHeight,h=Math.max(Math.min(a,g),0),i=null;h!==f&&b.requestAnimationFrame(d)})},b.ajax=function(a){var c={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded"};a.type&&(a.type=a.method);for(var d in c)d in a||(a[d]=c[d]);if(a.url||(a.url=window.location.toString()),("GET"===a.method||"HEAD"===a.method)&&a.data){var e;e="string"==typeof a.data?a.data.indexOf("?")>=0?a.data.split("?")[1]:a.data:b.serializeObject(a.data),a.url+=a.url.indexOf("?")>=0?"&"+e:"?"+e}if("json"===a.dataType&&a.url.indexOf("callback=")>=0){var f,g="f7jsonp_"+Date.now(),h=a.url.split("callback=");if(h[1].indexOf("&")>=0){var i=h[1].split("&").filter(function(a){return a.indexOf("=")>0}).join("&");f=h[0]+"callback="+g+(i.length>0?"&"+i:"")}else f=h[0]+"callback="+g;var j=document.createElement("script");return j.type="text/javascript",j.src=f,window[g]=function(b){a.success&&a.success(b),j.parentNode.removeChild(j),j=null,delete window[g]},void document.querySelector("head").appendChild(j)}("GET"===a.method||"HEAD"===a.method)&&a.cache===!1&&(a.url+="_nocache="+Date.now());var k=new XMLHttpRequest;k.open(a.method,a.url,a.async,a.user,a.password);var l=null;if(("POST"===a.method||"PUT"===a.method)&&a.data)if(a.processData){var m=[ArrayBuffer,Blob,Document,FormData];if(m.indexOf(a.data.constructor)>=0)l=a.data;else{var n="---------------------------"+Date.now().toString(16);"multipart/form-data"===a.contentType?k.setRequestHeader("Content-Type","multipart/form-data; boundary="+n):k.setRequestHeader("Content-Type",a.contentType),l="";var o=b.serializeObject(a.data);if("multipart/form-data"===a.contentType){n="---------------------------"+Date.now().toString(16),o=o.split("&");for(var p=[],q=0;q<o.length;q++)p.push('Content-Disposition: form-data; name="'+o[q].split("=")[0]+'"\r\n\r\n'+o[q].split("=")[1]+"\r\n");l="--"+n+"\r\n"+p.join("--"+n+"\r\n")+"--"+n+"--\r\n"}else l="application/x-www-form-urlencoded"===a.contentType?o:o.replace(/&/g,"\r\n")}}else l=a.data;if(a.headers)for(var r in a.headers)k.setRequestHeader(r,a.headers[r]);if("undefined"==typeof a.crossDomain&&(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!==window.location.host),a.crossDomain||k.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.xhrFields)for(var s in a.xhrFields)k[s]=a.xhrFields[s];return k.onload=function(){if((200===k.status||0===k.status)&&(b(document).trigger("ajaxSuccess",{xhr:k}),a.success)){var c=k.responseText;"json"===a.dataType&&(c=JSON.parse(c)),a.success(c,k.status,k)}a.statusCode&&a.statusCode[k.status]&&a.statusCode[k.status](k),a.complete&&a.complete(k),b(document).trigger("ajaxComplete",{xhr:k})},a.error,k.onerror=function(){b(document).trigger("ajaxError",{xhr:k}),a.error&&a.error(k)},a.start&&a.start(k),b(document).trigger("ajaxStart",{xhr:k}),k.send(l),k},function(){function a(a){b[a]=function(c,d,e){return b.ajax({url:c,method:"post"===a?"POST":"GET",data:"function"==typeof d?void 0:d,success:"function"==typeof d?d:e,dataType:"getJSON"===a?"json":void 0})}}for(var c="get post getJSON".split(" "),d=0;d<c.length;d++)a(c[d])}(),Framework7.$=b,Framework7.prototype.support=function(){var a={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return a}(),Framework7.prototype.device=function(){var a={},c=navigator.userAgent,d=c.match(/(Android);?[\s\/]+([\d.]+)?/),e=c.match(/(iPad).*OS\s([\d_]+)/),f=c.match(/(iPod)(.*OS\s([\d_]+))?/),g=!e&&c.match(/(iPhone\sOS)\s([\d_]+)/);if(a.ios=a.android=a.iphone=a.ipad=!1,d&&(a.os="android",a.osVersion=d[2],a.android=!0),(e||g||f)&&(a.os="ios",a.ios=!0),g&&!f&&(a.osVersion=g[2].replace(/_/g,"."),a.iphone=!0),e&&(a.osVersion=e[2].replace(/_/g,"."),a.ipad=!0),f&&(a.osVersion=f[3]?f[3].replace(/_/g,"."):null,a.iphone=!0),a.webView=(g||e||f)&&c.match(/.*AppleWebKit(?!.*Safari)/i),a.os&&"ios"===a.os){var h=a.osVersion.split(".");a.minimalUi=!a.webView&&(f||g)&&(1*h[0]===7?1*h[1]>=1:1*h[0]>7)&&b('meta[name="viewport"]').length>0&&b('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var i=b(window).width(),j=b(window).height();if(a.statusBar=!1,a.statusBar=a.webView&&(320===i&&568===j||568===i&&320===j||320===i&&480===j||480===i&&320===j||768===i&&1024===j||1024===i&&768===j)?!0:!1,a.pixelRatio=window.devicePixelRatio||1,a.os){var k=a.os+" "+a.os+"-"+a.osVersion.split(".")[0]+" "+a.os+"-"+a.osVersion.replace(/\./g,"-");if("ios"===a.os)for(var l=parseInt(a.osVersion.split(".")[0],10),m=l-1;m>=6;m--)k+=" ios-gt-"+m;b("html").addClass(k)}return a.statusBar?b("html").addClass("with-statusbar-overlay"):b("html").removeClass("with-statusbar-overlay"),a}(),Framework7.prototype.plugins={}}();