{"version":3,"sources":["framework7.js"],"names":["window","Framework7","params","createPageCallback","callbackName","capitalized","replace","match","toUpperCase","app","pageName","callback","onPage","handleInfiniteScroll","virtualList","inf","$","this","scrollTop","scrollHeight","height","offsetHeight","distance","getAttribute","virtualListContainer","find","onTop","hasClass","indexOf","parseInt","trigger","length","eq","f7VirtualList","reachEnd","updatableScroll","_fixIpadBodyScrolLeft","device","ipad","document","body","scrollLeft","setTimeout","version","root","cache","cacheIgnore","cacheIgnoreGetParameters","cacheDuration","preloadPreviousPage","uniqueHistory","uniqueHistoryIgnoreGetParameters","dynamicPageUrl","allowDuplicateUrls","router","routerRemoveTimeout","routerRemoveWithTimeout","pushState","pushStateRoot","undefined","pushStateNoAnimation","pushStateSeparator","pushStateOnLoad","fastClicks","fastClicksDistanceThreshold","fastClicksDelayBetweenClicks","fastClicksExclude","tapHold","tapHoldDelay","tapHoldPreventClicks","activeState","activeStateElements","animateNavBackIcon","swipeBackPage","swipeBackPageThreshold","swipeBackPageActiveArea","swipeBackPageAnimateShadow","swipeBackPageAnimateOpacity","ajaxLinks","externalLinks","sortable","hideNavbarOnPageScroll","hideToolbarOnPageScroll","hideTabbarOnPageScroll","showBarsOnPageScrollEnd","showBarsOnPageScrollTop","swipeout","swipeoutActionsNoFold","swipeoutNoFollow","swipeoutRemoveWithTimeout","smartSelectOpenIn","smartSelectBackText","smartSelectPopupCloseText","smartSelectPickerCloseText","smartSelectSearchbar","smartSelectBackOnSelect","scrollTopOnNavbarClick","scrollTopOnStatusbarClick","swipePanel","swipePanelActiveArea","swipePanelCloseOpposite","swipePanelOnlyClose","swipePanelNoFollow","swipePanelThreshold","panelsCloseByOutside","modalButtonOk","modalButtonCancel","modalUsernamePlaceholder","modalPasswordPlaceholder","modalTitle","modalCloseByOutside","actionsCloseByOutside","popupCloseByOutside","modalPreloaderTitle","modalStack","imagesLazyLoadThreshold","imagesLazyLoadSequential","viewClass","viewMainClass","viewsClass","notificationCloseOnClick","notificationCloseIcon","notificationCloseButtonText","animatePages","templates","template7Data","template7Pages","precompileTemplates","material","materialPageLoadDelay","materialPreloaderSvg","materialPreloaderHtml","materialRipple","materialRippleElements","init","param","Dom7","t7","Template7","_compiledTemplates","addClass","touchEvents","start","support","touch","move","end","ls","localStorage","rtl","css","attr","statusbarOverlay","removeClass","ios","cordova","phonegap","on","needsStatusBar","views","View","selector","i","defaults","dynamicNavbar","domCache","linksView","reloadPages","def","view","container","main","contentCache","contextCache","pagesCache","pageElementsCache","f7View","pagesContainer","initialPages","initialPagesUrl","initialNavbars","push","allowPageChange","docLocation","location","href","history","viewURL","split","currentPage","currentPageData","activePage","f7PageData","url","navbarInnerContainer","isScrolling","viewContainerWidth","touchesDiff","touchStartTime","activeNavElements","previousNavElements","activeNavBackIcon","previousNavBackIcon","pageShadow","el","isTouched","isMoved","touchesStart","previousPage","allowViewTouchMove","activeNavbar","previousNavbar","handleTouchStart","e","swipeoutOpenedEl","x","type","targetTouches","pageX","y","pageY","Date","getTime","handleTouchMove","Math","abs","f7PreventSwipeBack","preventSwipeBack","cancel","width","target","parents","is","notFromBorder","offset","left","android","append","closeModal","f7PreventPanelSwipe","preventDefault","inverter","percentage","callbackData","onSwipeBackMove","activePageTranslate","previousPageTranslate","pixelRatio","round","transform","style","opacity","className","activeNavTranslate","f7NavbarRightOffset","previousNavTranslate","f7NavbarLeftOffset","handleTouchEnd","boxShadow","timeDiff","pageChanged","each","translate","sliding","pageBackCallback","pageContainer","position","newPage","oldPage","swipeBack","pageAnimCallback","onSwipeBackBeforeChange","onSwipeBackBeforeReset","transitionEnd","back","afterBack","onSwipeBackAfterChange","onSwipeBackAfterReset","remove","attachEvents","detach","action","passiveListener","passive","capture","detachEvents","mainView","load","options","loadPage","loadContent","content","reloadPage","reload","reloadContent","reloadPreviousPage","reloadPrevious","reloadPreviousContent","refreshPage","ignoreCache","refreshPreviousPage","hideNavbar","isAnimated","showNavbar","hideToolbar","showToolbar","pushStateUrl","pushStateUrlSplit","pushStateAnimatePages","historyState","state","destroy","pluginHook","addView","getCurrentView","index","popoverView","popupView","panelView","appViews","appView","children","currentViews","navbarInitCallback","navbarContainer","parent","f7NavbarInitialized","navbarData","innerContainer","pageData","eventData","page","navbar","reinitNavbar","initNavbar","navbarRemoveCallback","initSearchbar","initNavbarWithCallback","viewContainer","pages","sizeNavbars","navbarInner","n","currLeft","diff","right","center","subnavbar","noLeft","noRight","leftWidth","outerWidth","rightWidth","centerWidth","navbarStyles","styles","navbarWidth","offsetWidth","paddingLeft","paddingRight","onLeft","requiredLeft","activeNavbarBackLink","offsetLeft","centerLeft","anim","toolbarContainer","toolbar","Searchbar","preventSubmit","input","clearButton","cancelButton","searchList","searchIn","searchBy","found","notFound","overlay","ignore","customSearch","removeDiacritics","hideDividers","hideGroups","s","active","isVirtualList","cancelMarginProp","cancelButtonHasMargin","setCancelButtonMargin","transition","show","clientLeft","triggerEvent","eventName","enable","_enable","query","disable","_disable","blur","val","clear","focus","handleInput","value","trim","search","previousQuery","internal","_vlQuery","foundItems","resetFilter","hide","searchAll","items","searchByItem","values","toLowerCase","compareWithText","itemText","text","join","wordsMatch","title","nextElements","nextAll","nextEl","group","notHidden","filterItems","method","f7Searchbar","searchbar","onBeforeRemove","sb","dataset","once","Messagebar","textarea","maxHeight","m","pageContent","pageContentPadding","initialBarHeight","initialAreaHeight","sizeTextarea","clientHeight","newAreaHeight","newBarHeight","maxBarHeight","onBottom","bottom","padding-bottom","textareaTimeout","handleTextarea","clearTimeout","f7Messagebar","messagebar","initPageMessagebar","pageBeforeRemove","mb","off","removeFromCache","splice","xhr","get","_url","time","ajax","beforeSend","onAjaxStart","complete","status","responseText","onAjaxComplete","error","onAjaxError","pageCallbacks","pageNames","returnCallbacks","callbacks","removeIndex","toString","pageCallbacksNames","triggerPageCallbacks","allPagesCallbacks","j","pageInitCallback","f7PageInitialized","pageQuery","parseUrlQuery","name","from","context","fromPage","oldNavbarInnerContainer","reinitPage","onPageReinit","preloadOnly","onPageBeforeInit","initPage","onPageInit","pageRemoveCallback","pageContext","onPageBeforeRemove","onPageAfterBack","onPageBack","onPageAfterAnimation","tabBar","onPageBeforeAnimation","initPageMessages","initFormsStorage","initSmartSelects","initPageSwiper","initPullToRefresh","initPageInfiniteScroll","initPageScrollToolbars","initImagesLazyLoad","initPageProgressbar","initPageResizableTextarea","initPageMaterialPreloader","initPageMaterialInputs","initPageMaterialTabbar","reinitPageSwiper","reinitLazyLoad","initPageWithCallback","_remove","temporaryDom","createElement","findElement","notCached","leftPage","rightPage","direction","removeClasses","prepareNavbar","newNavbarInner","oldNavbarInner","newNavbarPosition","slidingOffset","animateNavbars","leftNavbarInner","rightNavbarInner","rightText","preprocess","next","pluginProcess","preroute","isBack","template7Render","t7_ctx","t7_template","t7_rendered_content","contextName","template","template7Cache","compile","_ctx_path","_ctx","data","pageNameMatch","templateName","url_query","key","console","_load","afterAnimation","pushStateClearQueue","historyBecameUnique","pagesInView","reloadPosition","t7_rendered","isDynamicPage","pageElement","innerHTML","ci","filter","prependTo","f7RelatedNavbar","f7RelatedPage","newPageName","viewIndex","lastUrl","_history","lastIndexOf","slice","prev","insertBefore","insertAfter","animationEnd","proceed","abort","_back","animateBack","parseNewPage","setPages","navbarInners","force","pageToRemove","navbarToRemove","removeNavbar","unshift","manipulateDom","prepend","newNavbar","previousURL","pop","inners","oldNavbar","pageUrl","preloadUrl","_modalTemplateTempDiv","modalStackClearQueue","shift","modal","modalHTML","modalTemplate","buttonsHTML","buttons","bold","titleHTML","textHTML","afterTextHTML","afterText","noButtons","verticalButtons","modalButtonsHTML","cssClass","close","onClick","openModal","alert","callbackOk","arguments","confirm","callbackCancel","prompt","modalLogin","username","password","modalPassword","showPreloader","hidePreloader","showIndicator","hideIndicator","actions","groupSelector","buttonSelector","toPopover","isArray","actionsToPopoverTemplate","modalActionsToPopoverTemplate","actionsToPopover","popoverHTML","popover","modalActionsTemplate","button","buttonClass","label","color","bg","disabled","groups","groupIndex","clickTarget","buttonIndex","buttonParams","removeOnClose","sizePopover","top","modalAngle","modalAngleLeft","modalAngleTop","modalWidth","modalHeight","modalAngleSize","targetWidth","targetHeight","outerHeight","targetOffset","targetParentPage","windowHeight","windowWidth","modalTop","modalLeft","modalPosition","diffX","diffY","max","min","_modal","childNodes","classList","add","popup","pickerModal","loginScreen","isModal","isPopover","isPopup","isLoginScreen","isPickerModal","isActions","modalType","removeData","marginTop","keepOnClose","setProgressbar","progress","speed","progressbar","showProgressbar","parseFloat","hideProgressbar","p","allowPanelOpen","openPanel","panelPosition","panelTransitionEnd","transitionEndTarget","panel","display","closePanel","effect","activePanel","initSwipePanels","side","opened","innerWidth","panelOverlay","panelWidth","threshold","overlayOpacity","edge","loadImage","onLoad","src","imageIsLoading","imagesSequence","onError","placeholderSrc","image","Image","onload","onerror","lazyHandler","lazyLoadImages","isElementInViewport","rect","getBoundingClientRect","innerHeight","imagesLazyLoadPlaceholder","f7DestroyImagesLazyLoad","destroyImagesLazyLoad","reinitImagesLazyLoad","html","Messages","autoLayout","newMessagesFirst","scrollMessages","scrollMessagesOnlyOnEdge","messageTemplate","layout","message","onlyPic","nodeType","nodeName","textContent","isSent","appendMessage","props","animate","addMessage","prependMessage","addMessages","newMessages","newMessagesHTML","hasImage","onlyImage","scrollHeightBefore","heightBefore","scrollBefore","onEdge","messages","messagesToReturn","removeMessage","removeMessages","clean","duration","newScroll","currentScroll","f7Messages","allowSwipeout","initSwipeout","swipeoutEl","swipeOutEl","swipeOutContent","actionsRight","actionsLeft","actionsLeftWidth","actionsRightWidth","buttonsLeft","buttonsRight","overswipeRightButton","overswipeLeftButton","noFoldLeft","noFoldRight","openedActions","buttonOffset","swipeoutClose","swipeoutOpen","overswipeLeft","overswipeRight","$button","pow","_buttonOffset","actionsWidth","newTranslate","click","closed","dir","swipeOutActions","swipeOutActionsWidth","call","onSwipeoutClose","closeTO","swipeoutDelete","virtualIndex","f7VirtualListIndex","deleteItem","sortableToggle","sortableContainer","toggleClass","sortableOpen","sortableClose","initSortable","touchStartY","sortingEl","startIndex","sortingItems","minTop","offsetTop","maxTop","sortingElHeight","currentEl","currentElOffset","currentElHeight","sortingElOffset","oldIndex","newIndex","moveItem","selects","smartSelect","$select","select","valueText","selected","itemAfter","selectedText","smartSelectAddOption","option","selectName","smartSelectOpen","reLayout","scrollToInput","newPaddingBottom","paddingTop","paddingBottom","pageHeight","picker","pageScrollHeight","inputTop","closeOnHTMLClick","checkMaxLength","selectedOptions","maxLength","checked","handleInputs","virtualListInstance","smartSelectItemTemplate","virtualListHeight","item","openIn","backOnSelect","inputName","optionText","inputType","pageInit","detail","f7SmartSelectPicker","closeText","smartSelectData","pageTitle","backText","pickerCloseText","popupCloseText","formTheme","smartSelectFormTheme","navbarTheme","smartSelectNavbarTheme","toolbarTheme","smartSelectToolbarTheme","pickerHeight","smartSelectPickerHeight","$selectData","optionHasMedia","optionImage","optionIcon","optionGroup","optionGroupLabel","optionIsLabel","previousGroup","optionColor","optionClassName","optionData","id","multiple","optionClass","groupLabel","isLabel","icon","hasMedia","checkbox","smartSelectItem","inputsHTML","navbarHTML","navbarLayout","toolbarHTML","noNavbar","noToolbar","noTabbar","smartSelectToolbar","smartSelectToolbarTemplate","inPicker","smartSelectNavbar","smartSelectNavbarTemplate","inPopup","inPage","leftTemplate","smartSelectPopupCloseTemplate","smartSelectBackTemplate","searchbarPlaceholder","searchbarCancel","useSearchbar","searchbarHTML","pageHTML","VirtualList","listBlock","cols","dynamicHeightBufferSize","showFilteredItemsOnly","vl","filteredItems","osVersion","ul","displayDomCache","tempDomElement","lastRepaintY","fragment","createDocumentFragment","indexes","resetScrollTop","update","rowsPerScreen","rowsBefore","rowsAfter","rowsToRender","listHeight","maxBufferHeight","dynamicHeight","setListSize","heights","itemHeight","ceil","render","forceScrollTop","fromIndex","toIndex","heightBeforeFirstItem","heightBeforeLastItem","itemTop","topPosition","currentFromIndex","currentToIndex","renderItem","onItemBeforeInsert","appendChild","onBeforeClear","onItemsBeforeInsert","onItemsAfterInsert","scrollToItem","listTop","handleScroll","_isVisible","getClientRects","handleResize","appendItems","appendItem","replaceAllItems","replaceItem","prependItems","newCache","cached","prependItem","cachedIndex","leftIndex","rightIndex","indexShift","insertItemBefore","deleteItems","prevIndex","deletedItem","deleteAllItems","clearCache","reinitVirtualList","vlists","vlistInstance","os","pullStarted","wasScrolled","touchId","identifier","touches","dynamicTriggerDistance","triggerDistance","startTranslate","useTranslate","refresh","event","changedTouches","done","pullToRefreshDone","destroyPullToRefresh","eventsTarget","hasNavbar","f7DestroyPullToRefresh","pullToRefreshTrigger","pullToRefreshContent","attachInfiniteScroll","infiniteContent","detachInfiniteScroll","scrollContent","bottomBarHeight","navbarHidden","toolbarHidden","tabbarHidden","tabbar","previousScroll","hasToolbar","hasTabbar","hideTabbar","toolbarHeight","tabbarHeight","f7ScrollToolbarsHandler","destroyScrollToolbars","handler","materialTabbarSetHighlight","activeLink","tabLinkWidth","highlightTranslate","tabbarSetHighlight","showTab","tab","tabLink","newTab","tabs","isAnimatedTabs","tabTranslate","swiper","isSwipeableTabs","activeIndex","slideTo","oldTab","oldTabLink","oldTabId","accordionToggle","accordionClose","accordionOpen","list","expandedItem","initFastClicks","findActivableElement","activable","isInsideScrollableView","prop","activeTimeout","rippleTimeout","addActive","activableElement","removeActive","isFormElement","nodes","androidNeedsBlur","noBlur","activeElement","targetNeedsFastClick","$el","targetNeedsFocus","tag","skipInputs","readOnly","targetNeedsPrevent","prevent","handleMouseDown","which","touchStartX","rippleTouchStart","handleMouseMove","rippleTouchMove","handleMouseUp","rippleTouchEnd","findRippleElement","needsRipple","rippleParent","createRipple","box","diameter","rippleWave","rippleTransform","removeRipple","toRemove","removeTimeout","rippleTarget","sendClick","evt","createEvent","eventType","targetElement","initMouseEvent","screenX","screenY","clientX","clientY","forwardedTouchEvent","dispatchEvent","tapHoldFired","tapHoldTimeout","needsFastClickTimeOut","needsFastClick","trackClick","selection","getSelection","rangeCount","focusNode","isCollapsed","activeSelection","scrollParent","f7ScrollTop","timeStamp","lastClickTime","_isMoved","cancelable","webView","handleTouchCancel","handleClick","allowClick","stopImmediatePropagation","stopPropagation","androidChrome","addEventListener","initClickEvents","handleScrollTop","clicked","isLink","handleClicks","open","clickedData","pickerToClose","pickerToOpen","isTabLink","confirmTitle","closeOnCancel","accordionItem","validUrl","JSON","parse","preventScrolling","initResize","resize","orientationchange","minimalUi","orientation","formsData","formStoreData","formId","formJSON","stringify","formDeleteData","removeItem","formGetData","formToData","form","formData","skipTypes","skipNames","formToJSON","formFromData","formFromJSON","storeForm","forms","contentType","FormData","serializeObject","success","resizeTextarea","resizableTextarea","f7DestroyResizableTextarea","destroyResizableTextarea","textareas","itemInput","notInputs","initMaterialWatchInputs","addFocusState","els","removeFocusState","watchChangeState","pushStateQueue","queue","stateUrl","stateContent","statePageName","initPushState","handlePopState","blockPopstate","readyState","Swiper","destroySwiperOnRemove","slider","destroySwiper","swipers","initialSlide","onSlideChangeStart","slides","_slider","sliders","sliderInstance","PhotoBrowser","pb","photos","spaceBetween","zoom","zoomMax","zoomMin","exposition","expositionHideCaptions","theme","swipeToClose","backLinkText","ofText","loop","lazyLoading","lazyLoadingInPrevNext","lazyLoadingOnTransitionStart","maxZoom","minZoom","iconsColorClass","iconsColor","preloaderColorClass","photoTemplate","photoLazyTemplate","lazyPhotoTemplate","objectTemplate","captionTemplate","navbarTemplate","toolbarTemplate","htmlTemplate","openIndex","onPopupClose","onOpen","swiperContainer","onClose","swiperWrapper","onSliderTransitionStart","current","total","loopedSlides","isBeginning","isEnd","captions","captionsContainer","captionIndex","previousSlideVideo","previousIndex","pause","onTransitionStart","onSliderTransitionEnd","onTransitionEnd","sliderSettings","nextButton","prevButton","indexButton","preloadImages","onTap","toggleExposition","onDoubleTap","onSlideChangeEnd","onLazyImageLoad","slide","img","onLazyImageReady","onTouchStart","swipeCloseTouchStart","onTouchMoveOpposite","swipeCloseTouchMove","onTouchEnd","swipeCloseTouchEnd","exposed","enableExposition","disableExposition","swipeToCloseDiff","swipeToCloseStart","swipeToCloseCurrent","swipeToCloseActiveSlide","swipeToCloseTimeStart","swipeToCloseIsTouched","allowSwipeToClose","swipeToCloseStarted","onSwipeToClose","photoBrowser","Autocomplete","handleInputValue","a","source","itemsHTML","limit","regExp","RegExp","itemValue","valueProperty","textProperty","dropdownItemTemplate","highlightMatches","dropdownPlaceholderText","dropdownPlaceholderTemplate","dropdown","handleDropdownClick","clickedItem","updateInputValueOnSelect","onChange","searchbarPlaceholderText","searchbarCancelText","notFoundText","expandInput","preloaderColor","preloader","opener","itemTemplate","dropdownTemplate","positionDropDown","listBlockOffsetLeft","inputOffsetLeft","inputOffsetTop","updateValues","valuesHTML","onSearch","aValue","isValues","initEvents","autocomplete","Picker","convertToPopover","onlyInPopover","inline","inPopover","resizeCols","divider","calcSize","setValue","openOnInput","onPickerClose","destroyPickerCol","updateValuesOnMomentum","updateValuesOnTouchmove","rotateEffect","momentumRatio","freeMode","closeByOutsideClick","inputReadOnly","toolbarCloseText","initialized","originBug","navigator","userAgent","arrValues","valueIndex","updateValue","forceValues","newValue","newDisplayValue","displayValue","formatValue","initPickerCol","colElement","updateItems","updateDuringScroll","animationFrameId","requestAnimationFrame","col","touchCurrentY","allowItemClick","currentTranslate","getTranslate","wrapper","cancelAnimationFrame","returnTo","minTranslate","maxTranslate","velocityTranslate","prevTranslate","velocityTime","touchEndTime","velocity","floor","colContainer","colIndex","wrapperHeight","itemsHeight","replaceValues","displayValues","destroyEvents","newItemsHTML","columnHTML","colWidth","colHeight","valueCallbacks","newActiveIndex","previousActiveIndex","selectedItem","itemOffsetTop","translateOffset","itemOffset","itemsFit","angle","f7DestroyPickerCol","onlyItems","columnItemsHTML","textAlign","pickerHTML","pickerClass","colsHTML","f7Picker","Calendar","formatDate","date","year","getFullYear","month","getMonth","month1","day","getDate","weekDay","getDay","dateFormat","substring","monthNames","monthNamesShort","dayNames","dayNamesShort","destroyCalendarEvents","firstDay","weekendDays","rangePicker","minDate","maxDate","events","rangesClasses","touchMove","closeOnSelect","monthPicker","monthPickerTemplate","yearPicker","yearPickerTemplate","weekHeader","headerPlaceholder","header","footer","headerTemplate","footerTemplate","isH","animating","addValue","inValuesIndex","sort","b","onlyHeader","inputValue","valueDate","initCalendarEvents","monthsTranslate","touchCurrentX","wrapperWidth","resetMonth","nextMonth","prevMonth","handleDayClick","dateYear","dateMonth","dateDay","onDayClick","prevYear","nextYear","f7DestroyCalendarEvents","dateInRange","dayDate","range","to","daysInMonth","d","monthHTML","daysInPrevMonth","firstDayOfMonthIndex","k","hasEvent","currentValues","rows","dayIndex","today","setHours","rowHTML","dayNumber","weekDayIndex","dayYear","dayMonth","updateCurrentMonthYear","currentMonth","months","currentYear","onMonthChangeStart","currentIndex","onMonthYearChangeStart","onMonthChangeEnd","rebuildBoth","nextMonthHTML","prevMonthHTML","newMonthHTML","setMonthsTranslate","onMonthAdd","onMonthYearChangeEnd","prevMonthTranslate","currentMonthTranslate","nextMonthTranslate","nextDate","nextDateTime","transitionEndCallback","prevDate","prevDateTime","setYearMonth","targetDate","currentDate","monthTranslate","wrapperTranslate","layoutDate","currentMonthHTML","monthsHTML","weekHeaderHTML","dayName","headerHTML","footerHTML","f7Calendar","calendar","_tempNotificationElement","addNotification","media","notificationMedia","notificationTitle","subtitle","notificationSubtitle","closeIcon","hold","notificationHold","closeOnClick","notificationTemplate","notification","closeNotification","additionalClass","marginBottom","initTemplate7Templates","_plugins","initPlugins","plugin","plugins","hook","hooks","pluginPrevent","prevents","process","processed","getDeviceInfo","onAppInit","arr","_this","tempParent","toCreate","querySelectorAll","getElementById","prototype","classes","contains","toggle","attrs","setAttribute","attrName","removeAttr","removeAttribute","propName","dom7ElementDataStorage","dataKey","attributes","toCamelCase","elStyle","webkitTransform","MsTransform","msTransform","MozTransform","OTransform","webkitTransitionDuration","MsTransitionDuration","msTransitionDuration","MozTransitionDuration","OTransitionDuration","transitionDuration","targetSelector","listener","handleLiveEvent","dom7LiveListeners","liveListener","removeEventListener","proxy","dom","CustomEvent","bubbles","initEvent","fireCallBack","includeMargins","getPropertyValue","clientTop","pageYOffset","pageXOffset","getComputedStyle","matchedItems","compareWith","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","child","previousSibling","returnIndex","newChild","tempDiv","firstChild","appendTo","before","parentNode","cloneNode","after","nextSibling","nextElementSibling","nextEls","previousElementSibling","prevAll","prevEls","siblings","unique","closest","foundElements","removeChild","toAdd","empty","createMethod","notTrigger","shortcuts","globalAjaxOptions","ajaxSetup","optionName","optionValue","_jsonpRequests","fireAjaxCallback","async","user","headers","xhrFields","statusCode","processData","dataType","timeout","globalOptionName","globalOptionValue","defaultValue","paramsPrefix","_method","stringData","abortTimeout","now","callbackSplit","requestUrl","addVars","script","querySelector","XMLHttpRequest","requestParameters","postData","postDataInstances","ArrayBuffer","Blob","Document","constructor","boundary","setRequestHeader","_data","_newData","headerName","headerCallback","crossDomain","test","$2","host","fieldName","fieldValue","xhrTimeout","responseData","err","parseerror","responseType","response","onabort","send","methods","decodeURIComponent","Object","apply","obj","hasOwnProperty","var_name","_parents","encodeURIComponent","var_value","resultArray","separator","newParents","toPush","string","group1","axis","matrix","curTransform","curStyle","transformMatrix","WebKitCSSMatrix","map","m41","m42","webkitRequestAnimationFrame","mozRequestAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","supportTouch","DocumentTouch","defaultDiacriticsRemovalap","base","letters","diacriticsMap","str","fn","scrollTo","easing","startTime","easeProgress","cos","PI","animateTop","currentTop","newTop","animateLeft","currentLeft","newLeft","maxLeft","scrollWidth","Animate7","elements","easingProgress","stop","frameId","animate7Instance","que","began","begin","_elements","currentValue","initialValue","finalValue","_container","unit","propsDone","keys","elementsDone","initialFullValue","finalFullValue","foundInstance","supportsPassive","opts","defineProperty","ua","ipod","iphone","osVersionArr","screen","statusBar","classNames","devicePixelRatio","major","isFunction","func","_escape","escape","helperToSlices","shiftIndex","helperParts","slices","blockQuoteRegExp","openingQuote","part","quoteDoubleRexExp","quoteSingleRexExp","hashParts","hashName","hashContent","hash","stringToBlocks","blocks","_blocks","block","helperSlices","helperName","isPartial","helperContext","helperHash","helperContent","elseContent","toSkip","foundClosed","foundElse","depth","inverseContent","getCompileFn","getCompileInverse","getCompileVar","ctx","variable","parts","levelsUp","newDepth","isFinite","getCompiledArguments","contextArray","t","Error","resultString","compiledArguments","helpers","eval","compiled","partials","_partial","partialName","if","inverse","unless","ret","reverse","first","last","with","delimiter","delimeter","js","expression","js_compare","condition","instance","rendered","registerHelper","unregisterHelper","registerPartial","unregisterPartial","autoplay","autoplayDelay","activeSlide","autoplayTimeoutId","fixLoop","_slideNext","emit","autoplayStopOnLast","stopAutoplay","_slideTo","findElementInEvent","_el","initObserver","ObserverFunc","MutationObserver","WebkitMutationObserver","observer","mutations","forEach","mutation","onResize","observe","childList","characterData","observers","setParallaxTransform","pX","pY","rtlFactor","isHorizontal","normalizeEventName","touchEventsTarget","autoplayDisableOnInteraction","iOSEdgeSwipeDetection","iOSEdgeSwipeThreshold","freeModeMomentum","freeModeMomentumRatio","freeModeMomentumBounce","freeModeMomentumBounceRatio","freeModeMomentumVelocityRatio","freeModeSticky","freeModeMinimumVelocity","autoHeight","setWrapperSize","virtualTranslate","coverflow","rotate","stretch","modifier","slideShadows","flip","limitRotation","cube","shadow","shadowOffset","shadowScale","fade","crossFade","parallax","zoomToggle","scrollbar","scrollbarHide","scrollbarDraggable","scrollbarSnapOnRelease","keyboardControl","mousewheelControl","mousewheelReleaseOnEdges","mousewheelInvert","mousewheelForceToAxis","mousewheelSensitivity","mousewheelEventsTarged","hashnav","hashnavWatchState","replaceState","breakpoints","slidesPerView","slidesPerColumn","slidesPerColumnFill","slidesPerGroup","centeredSlides","slidesOffsetBefore","slidesOffsetAfter","roundLengths","touchRatio","touchAngle","simulateTouch","shortSwipes","longSwipes","longSwipesRatio","longSwipesMs","followFinger","onlyExternal","touchMoveStopPropagation","touchReleaseOnEdges","uniqueNavElements","pagination","paginationElement","paginationClickable","paginationHide","paginationBulletRender","paginationProgressRender","paginationFractionRender","paginationCustomRender","paginationType","resistance","resistanceRatio","watchSlidesProgress","watchSlidesVisibility","grabCursor","preventClicks","preventClicksPropagation","slideToClickedSlide","lazyLoadingInPrevNextAmount","updateOnImagesReady","loopAdditionalSlides","control","controlInverse","controlBy","normalizeSlideIndex","allowSwipeToPrev","allowSwipeToNext","swipeHandler","noSwiping","noSwipingClass","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","bulletClass","bulletActiveClass","buttonDisabledClass","paginationCurrentClass","paginationTotalClass","paginationHiddenClass","paginationProgressbarClass","paginationClickableClass","paginationModifierClass","lazyLoadingClass","lazyStatusLoadingClass","lazyStatusLoadedClass","lazyPreloaderClass","notificationClass","preloaderClass","zoomContainerClass","observeParents","a11y","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","runCallbacksOnInit","initialVirtualTranslate","originalParams","jQuery","deepParam","deepDef","Zepto","currentBreakpoint","getActiveBreakpoint","point","breakpoint","points","setBreakpoint","breakPointsParams","needsReLoop","destroyLoop","reLoop","flexbox","transforms3d","paginationContainer","wrongRTL","lockSwipeToNext","unsetGrabCursor","lockSwipeToPrev","lockSwipes","unlockSwipeToNext","setGrabCursor","unlockSwipeToPrev","unlockSwipes","moving","cursor","imagesToLoad","imagesLoaded","imgElement","srcset","sizes","checkForComplete","onReady","_onReady","currentSrc","autoplaying","autoplayPaused","startAutoplay","pauseAutoplay","snapGrid","updateAutoHeight","activeSlides","newHeight","updateContainerSize","clientWidth","size","updateSlidesSize","slidesGrid","slidesSizesGrid","slidePosition","prevSlideSize","virtualSize","marginLeft","marginRight","slidesNumberEvenToRows","slideSize","slidesPerRow","numFullColumns","newSlideOrderIndex","column","row","-webkit-box-ordinal-group","-moz-box-ordinal-group","-ms-flex-order","-webkit-order","order","swiperSlideSize","newSlidesGrid","updateSlidesOffset","swiperSlideOffset","currentSlidesPerView","spv","breakLoop","updateSlidesProgress","offsetCenter","slideProgress","slideBefore","slideAfter","isVisible","updateProgress","translatesDiff","wasBeginning","wasEnd","updateActiveIndex","snapIndex","updateClasses","updateRealIndex","realIndex","nextSlide","prevSlide","bullets","scale","scaleX","scaleY","updatePagination","paginationHTML","numberOfBullets","initPagination","updateTranslate","forceSetTranslate","setWrapperTranslate","set","translated","controller","spline","forceUpdatePagination","slideChangedBySlideTo","lazy","touchEventsDesktop","pointerEnabled","msPointerEnabled","actionDom","moveCapture","nested","browser","ie","onTouchMove","onClickNext","onEnterKey","onClickPrev","onClickIndex","slideNext","slidePrev","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToIndex","allowTouchCallbacks","allowThresholdMove","clickTimeout","allowMomentumBounce","formElements","velocities","startX","startY","currentX","currentY","isTouchEvent","startMoving","originalEvent","swipeDirection","preventedByNestedSwiper","atan2","ieTouch","getWrapperTranslate","setWrapperTransition","disableParentSwiper","currentPos","lastMoveEvent","velocityEvent","momentumDuration","momentumDistance","newPosition","afterBouncePosition","doBounce","bounceAmount","slideReset","stopIndex","groupSize","ratio","slideIndex","runCallbacks","lteIE9","setHistory","setHash","_slidePrev","disableTouchControl","enableTouchControl","byController","effects","setTransition","z","setTranslate","initObservers","containerParents","disconnectObservers","disconnect","createLoop","prependSlides","appendSlides","updatePosition","appendSlide","prependSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","tx","ty","slideOpacity","eventTriggered","triggerEvents","rotateY","rotateX","zIndex","shadowBefore","shadowAfter","cubeShadow","wrapperRotate","slideAngle","tz","-webkit-transform-origin","-moz-transform-origin","-ms-transform-origin","transform-origin","shadowAngle","multiplier","sin","scale1","scale2","zFactor","isSafari","isUiWebView","slideOffset","offsetMultiplier","translateZ","translateY","translateX","slideTransform","ws","perspectiveOrigin","initialImageLoaded","loadImageInSlide","loadInDuplicate","_img","background","slideOriginalIndex","originalSlide","duplicatedSlide","amount","maxIndex","minIndex","setDragPosition","pointerPosition","track","dragSize","positionMin","moveDivider","positionMax","dragStart","dragTimeout","drag","dragMove","returnValue","dragEnd","draggableEvents","enableDraggable","disableDraggable","trackSize","newPos","newSize","LinearSpline","lastIndex","i1","i3","interpolate","x2","binarySearch","guess","array","getInterpolateFunction","c","setControlledTranslate","controlledTranslate","controlled","setControlledTransition","parallaxDuration","currentScale","isScaling","gesture","slideWidth","slideHeight","imageWrap","minX","minY","maxX","maxY","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","y2","sqrt","onGestureStart","gestures","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","toggleZoom","touchX","touchY","offsetX","offsetY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","callPlugins","emitterEventListeners","_handler","makeFocusable","addRole","role","addLabel","keyCode","notify","liveRegion","bullet","enableKeyboardControl","enableMousewheelControl","hashnavReplaceState","cleanupStyles","deleteInstance","disableKeyboardControl","disableMousewheelControl","setHistoryPopState","msMaxTouchPoints","maxTouchPoints","div","getElementsByTagName","Modernizr","csstransforms3d"],"mappings":"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","file":"framework7.min.js","sourcesContent":["/**\n * Framework7 1.5.3\n * Full featured mobile HTML framework for building iOS & Android apps\n * \n * http://framework7.io/\n * \n * Copyright 2017, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n * \n * Licensed under MIT\n * \n * Released on: January 13, 2017\n */\n        (function () {\r\n        \n\n        'use strict';\r\n        /*===========================\r\n        Framework 7\r\n        ===========================*/\r\n        window.Framework7 = function (params) {\r\n            // App\r\n            var app = this;\r\n        \r\n            // Version\r\n            app.version = '1.5.0';\r\n        \r\n            // Default Parameters\r\n            app.params = {\r\n                //\r\n                root: 'body',\r\n                //\r\n                cache: true,\r\n                cacheIgnore: [],\r\n                cacheIgnoreGetParameters: false,\r\n                cacheDuration: 1000 * 60 * 10, // Ten minutes\r\n                preloadPreviousPage: true,\r\n                uniqueHistory: false,\r\n                uniqueHistoryIgnoreGetParameters: false,\r\n                dynamicPageUrl: 'content-{{index}}',\r\n                allowDuplicateUrls: false,\r\n                router: true,\r\n                routerRemoveTimeout: false,\r\n                routerRemoveWithTimeout: false,\r\n                // Push State\r\n                pushState: false,\r\n                pushStateRoot: undefined,\r\n                pushStateNoAnimation: false,\r\n                pushStateSeparator: '#!/',\r\n                pushStateOnLoad: true,\r\n                // Fast clicks\r\n                fastClicks: true,\r\n                fastClicksDistanceThreshold: 10,\r\n                fastClicksDelayBetweenClicks: 50,\r\n                fastClicksExclude: '', // CSS selector\r\n                // Tap Hold\r\n                tapHold: false,\r\n                tapHoldDelay: 750,\r\n                tapHoldPreventClicks: true,\r\n                // Active State\r\n                activeState: true,\r\n                activeStateElements: 'a, button, label, span',\r\n                // Animate Nav Back Icon\r\n                animateNavBackIcon: false,\r\n                // Swipe Back\r\n                swipeBackPage: true,\r\n                swipeBackPageThreshold: 0,\r\n                swipeBackPageActiveArea: 30,\r\n                swipeBackPageAnimateShadow: true,\r\n                swipeBackPageAnimateOpacity: true,\r\n                // Ajax\r\n                ajaxLinks: undefined, // or CSS selector\r\n                // External Links\r\n                externalLinks: '.external', // CSS selector\r\n                // Sortable\r\n                sortable: true,\r\n                // Scroll toolbars\r\n                hideNavbarOnPageScroll: false,\r\n                hideToolbarOnPageScroll: false,\r\n                hideTabbarOnPageScroll: false,\r\n                showBarsOnPageScrollEnd: true,\r\n                showBarsOnPageScrollTop: true,\r\n                // Swipeout\r\n                swipeout: true,\r\n                swipeoutActionsNoFold: false,\r\n                swipeoutNoFollow: false,\r\n                swipeoutRemoveWithTimeout: false,\r\n                // Smart Select Back link template\r\n                smartSelectOpenIn: 'page', // or 'popup' or 'picker'\r\n                smartSelectBackText: 'Back',\r\n                smartSelectPopupCloseText: 'Close',\r\n                smartSelectPickerCloseText: 'Done',\r\n                smartSelectSearchbar: false,\r\n                smartSelectBackOnSelect: false,\r\n                // Tap Navbar or Statusbar to scroll to top\r\n                scrollTopOnNavbarClick: false,\r\n                scrollTopOnStatusbarClick: false,\r\n                // Panels\r\n                swipePanel: false, // or 'left' or 'right'\r\n                swipePanelActiveArea: 0,\r\n                swipePanelCloseOpposite: true,\r\n                swipePanelOnlyClose: false,\r\n                swipePanelNoFollow: false,\r\n                swipePanelThreshold: 0,\r\n                panelsCloseByOutside: true,\r\n                // Modals\r\n                modalButtonOk: 'OK',\r\n                modalButtonCancel: 'Cancel',\r\n                modalUsernamePlaceholder: 'Username',\r\n                modalPasswordPlaceholder: 'Password',\r\n                modalTitle: 'Framework7',\r\n                modalCloseByOutside: false,\r\n                actionsCloseByOutside: true,\r\n                popupCloseByOutside: true,\r\n                modalPreloaderTitle: 'Loading... ',\r\n                modalStack: true,\r\n                // Lazy Load\r\n                imagesLazyLoadThreshold: 0,\r\n                imagesLazyLoadSequential: true,\r\n                // Name space\r\n                viewClass: 'view',\r\n                viewMainClass: 'view-main',\r\n                viewsClass: 'views',\r\n                // Notifications defaults\r\n                notificationCloseOnClick: false,\r\n                notificationCloseIcon: true,\r\n                notificationCloseButtonText: 'Close',\r\n                // Animate Pages\r\n                animatePages: true,\r\n                // Template7\r\n                templates: {},\r\n                template7Data: {},\r\n                template7Pages: false,\r\n                precompileTemplates: false,\r\n                // Material\r\n                material: false,\r\n                materialPageLoadDelay: 0,\r\n                materialPreloaderSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"75\" width=\"75\" viewbox=\"0 0 75 75\"><circle cx=\"37.5\" cy=\"37.5\" r=\"33.5\" stroke-width=\"8\"/></svg>',\r\n                materialPreloaderHtml:\r\n                    '<span class=\"preloader-inner\">' +\r\n                        '<span class=\"preloader-inner-gap\"></span>' +\r\n                        '<span class=\"preloader-inner-left\">' +\r\n                            '<span class=\"preloader-inner-half-circle\"></span>' +\r\n                        '</span>' +\r\n                        '<span class=\"preloader-inner-right\">' +\r\n                            '<span class=\"preloader-inner-half-circle\"></span>' +\r\n                        '</span>' +\r\n                    '</span>',\r\n                materialRipple: true,\r\n                materialRippleElements: '.ripple, a.link, a.item-link, .button, .modal-button, .tab-link, .label-radio, .label-checkbox, .actions-modal-button, a.searchbar-clear, a.floating-button, .floating-button > a, .speed-dial-buttons a',\r\n                // Auto init\r\n                init: true,\r\n            };\r\n        \r\n            // Extend defaults with parameters\r\n            for (var param in params) {\r\n                app.params[param] = params[param];\r\n            }\r\n        \r\n            // DOM lib\r\n            var $ = Dom7;\r\n        \r\n            // Template7 lib\r\n            var t7 = Template7;\r\n            app._compiledTemplates = {};\r\n        \r\n            // App Root\r\n            app.root = $(app.params.root);\r\n            app.root.eq(0).addClass('framework7-root');\r\n        \r\n            // Touch events\r\n            app.touchEvents = {\r\n                start: app.support.touch ? 'touchstart' : 'mousedown',\r\n                move: app.support.touch ? 'touchmove' : 'mousemove',\r\n                end: app.support.touch ? 'touchend' : 'mouseup'\r\n            };\r\n        \r\n            // Link to local storage\r\n            app.ls = window.localStorage;\r\n        \r\n            // RTL\r\n            app.rtl = $('body').css('direction') === 'rtl';\r\n            if (app.rtl) $('html').attr('dir', 'rtl');\r\n        \r\n            // Overwrite statusbar overlay\r\n            if (typeof app.params.statusbarOverlay !== 'undefined') {\r\n                if (app.params.statusbarOverlay) $('html').addClass('with-statusbar-overlay');\r\n                else $('html').removeClass('with-statusbar-overlay');\r\n            }\r\n            else if (app.device.ios && (window.cordova || window.phonegap)) {\r\n                $(document).on('resume', function () {\r\n                    if (app.device.needsStatusBar()) {\r\n                        $('html').addClass('with-statusbar-overlay');\r\n                    }\r\n                }, false);\r\n            }\r\n        \n\n        /*======================================================\r\n        ************   Views   ************\r\n        ======================================================*/\r\n        app.views = [];\r\n        var View = function (selector, params) {\r\n            var defaults = {\r\n                dynamicNavbar: false,\r\n                domCache: false,\r\n                linksView: undefined,\r\n                reloadPages: false,\r\n                uniqueHistory: app.params.uniqueHistory,\r\n                uniqueHistoryIgnoreGetParameters: app.params.uniqueHistoryIgnoreGetParameters,\r\n                allowDuplicateUrls: app.params.allowDuplicateUrls,\r\n                swipeBackPage: app.params.swipeBackPage,\r\n                swipeBackPageAnimateShadow: app.params.swipeBackPageAnimateShadow,\r\n                swipeBackPageAnimateOpacity: app.params.swipeBackPageAnimateOpacity,\r\n                swipeBackPageActiveArea: app.params.swipeBackPageActiveArea,\r\n                swipeBackPageThreshold: app.params.swipeBackPageThreshold,\r\n                animatePages: app.params.animatePages,\r\n                preloadPreviousPage: app.params.preloadPreviousPage\r\n            };\r\n            var i;\r\n        \r\n            // Params\r\n            params = params || {};\r\n        \r\n            // Disable dynamic navbar for material theme\r\n            if (params.dynamicNavbar && app.params.material) params.dynamicNavbar = false;\r\n        \r\n            // Extend params with defaults\r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined') {\r\n                    params[def] = defaults[def];\r\n                }\r\n            }\r\n            // View\r\n            var view = this;\r\n            view.params = params;\r\n        \r\n            // Selector\r\n            view.selector = selector;\r\n        \r\n            // Container\r\n            var container = $(selector);\r\n            view.container = container[0];\r\n        \r\n            // Fix Selector\r\n        \r\n            if (typeof selector !== 'string') {\r\n                // Supposed to be HTMLElement or Dom7\r\n                selector = (container.attr('id') ? '#' + container.attr('id') : '') + (container.attr('class') ? '.' + container.attr('class').replace(/ /g, '.').replace('.active', '') : '');\r\n                view.selector = selector;\r\n            }\r\n        \r\n            // Is main\r\n            view.main = container.hasClass(app.params.viewMainClass);\r\n        \r\n            // Content cache\r\n            view.contentCache = {};\r\n        \r\n            // Context cache\r\n            view.contextCache = {};\r\n        \r\n            // Pages cache\r\n            view.pagesCache = {};\r\n            view.pageElementsCache = {};\r\n        \r\n            // Store View in element for easy access\r\n            container[0].f7View = view;\r\n        \r\n            // Pages\r\n            view.pagesContainer = container.find('.pages')[0];\r\n            view.initialPages = [];\r\n            view.initialPagesUrl = [];\r\n            view.initialNavbars = [];\r\n            if (view.params.domCache) {\r\n                var initialPages = container.find('.page');\r\n                for (i = 0; i < initialPages.length; i++) {\r\n                    view.initialPages.push(initialPages[i]);\r\n                    view.initialPagesUrl.push('#' + initialPages.eq(i).attr('data-page'));\r\n                }\r\n                if (view.params.dynamicNavbar) {\r\n                    var initialNavbars = container.find('.navbar-inner');\r\n                    for (i = 0; i < initialNavbars.length; i++) {\r\n                        view.initialNavbars.push(initialNavbars[i]);\r\n                    }\r\n                }\r\n        \r\n            }\r\n        \r\n            view.allowPageChange = true;\r\n        \r\n            // Location\r\n            var docLocation = document.location.href;\r\n        \r\n            // History\r\n            view.history = [];\r\n            var viewURL = docLocation;\r\n            var pushStateSeparator = app.params.pushStateSeparator;\r\n            var pushStateRoot = app.params.pushStateRoot;\r\n            if (app.params.pushState && view.main) {\r\n                if (pushStateRoot) {\r\n                    viewURL = pushStateRoot;\r\n                }\r\n                else {\r\n                    if (pushStateSeparator && viewURL.indexOf(pushStateSeparator) >= 0 && viewURL.indexOf(pushStateSeparator + '#') < 0) viewURL = viewURL.split(pushStateSeparator)[0];\r\n                }\r\n        \r\n            }\r\n        \r\n            // Active Page\r\n            var currentPage, currentPageData;\r\n            if (!view.activePage) {\r\n                currentPage = $(view.pagesContainer).find('.page-on-center');\r\n                if (currentPage.length === 0) {\r\n                    currentPage = $(view.pagesContainer).find('.page:not(.cached)');\r\n                    currentPage = currentPage.eq(currentPage.length - 1);\r\n                }\r\n                if (currentPage.length > 0) {\r\n                    currentPageData = currentPage[0].f7PageData;\r\n                }\r\n            }\r\n        \r\n            // View startup URL\r\n            if (view.params.domCache && currentPage) {\r\n                view.url = container.attr('data-url') || view.params.url || '#' + currentPage.attr('data-page');   \r\n                view.pagesCache[view.url] = currentPage.attr('data-page');\r\n            }\r\n            else view.url = container.attr('data-url') || view.params.url || viewURL;\r\n        \r\n            // Update current page Data\r\n            if (currentPageData) {\r\n                currentPageData.view = view;\r\n                currentPageData.url = view.url;\r\n                if (view.params.domCache && view.params.dynamicNavbar && !currentPageData.navbarInnerContainer) {\r\n                    currentPageData.navbarInnerContainer = view.initialNavbars[view.initialPages.indexOf(currentPageData.container)];\r\n                }\r\n                view.activePage = currentPageData;\r\n                currentPage[0].f7PageData = currentPageData;\r\n            }\r\n        \r\n            // Store to history main view's url\r\n            if (view.url) {\r\n                view.history.push(view.url);\r\n            }\r\n        \r\n            // Touch events\r\n            var isTouched = false,\r\n                isMoved = false,\r\n                touchesStart = {},\r\n                isScrolling,\r\n                activePage = [],\r\n                previousPage = [],\r\n                viewContainerWidth,\r\n                touchesDiff,\r\n                allowViewTouchMove = true,\r\n                touchStartTime,\r\n                activeNavbar = [],\r\n                previousNavbar = [],\r\n                activeNavElements,\r\n                previousNavElements,\r\n                activeNavBackIcon,\r\n                previousNavBackIcon,\r\n                dynamicNavbar,\r\n                pageShadow,\r\n                el;\r\n        \r\n            view.handleTouchStart = function (e) {\r\n                if (!allowViewTouchMove || !view.params.swipeBackPage || isTouched || app.swipeoutOpenedEl || !view.allowPageChange) return;\r\n                isMoved = false;\r\n                isTouched = true;\r\n                isScrolling = undefined;\r\n                touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\r\n                touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\r\n                touchStartTime = (new Date()).getTime();\r\n                dynamicNavbar = view.params.dynamicNavbar && container.find('.navbar-inner').length > 1;\r\n            };\r\n        \r\n            view.handleTouchMove = function (e) {\r\n                if (!isTouched) return;\r\n                var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\r\n                var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n                if (typeof isScrolling === 'undefined') {\r\n                    isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\r\n                }\r\n                if (isScrolling || e.f7PreventSwipeBack || app.preventSwipeBack) {\r\n                    isTouched = false;\r\n                    return;\r\n                }\r\n                if (!isMoved) {\r\n                    var cancel = false;\r\n                    // Calc values during first move fired\r\n                    viewContainerWidth = container.width();\r\n                    var target = $(e.target);\r\n                    var swipeout = target.hasClass('swipeout') ? target : target.parents('.swipeout');\r\n                    if (swipeout.length > 0) {\r\n                        if (!app.rtl && swipeout.find('.swipeout-actions-left').length > 0) cancel = true;\r\n                        if (app.rtl && swipeout.find('.swipeout-actions-right').length > 0) cancel = true;\r\n                    }\r\n                    activePage = target.is('.page') ? target : target.parents('.page');\r\n                    if (activePage.hasClass('no-swipeback')) cancel = true;\r\n                    previousPage = container.find('.page-on-left:not(.cached)');\r\n                    var notFromBorder = touchesStart.x - container.offset().left > view.params.swipeBackPageActiveArea;\r\n                    if (app.rtl) {\r\n                        notFromBorder = touchesStart.x < container.offset().left - container[0].scrollLeft + viewContainerWidth - view.params.swipeBackPageActiveArea;\r\n                    }\r\n                    else {\r\n                        notFromBorder = touchesStart.x - container.offset().left > view.params.swipeBackPageActiveArea;\r\n                    }\r\n                    if (notFromBorder) cancel = true;\r\n                    if (previousPage.length === 0 || activePage.length === 0) cancel = true;\r\n                    if (cancel) {\r\n                        isTouched = false;\r\n                        return;\r\n                    }\r\n        \r\n                    if (view.params.swipeBackPageAnimateShadow && !app.device.android) {\r\n                        pageShadow = activePage.find('.swipeback-page-shadow');\r\n                        if (pageShadow.length === 0) {\r\n                            pageShadow = $('<div class=\"swipeback-page-shadow\"></div>');\r\n                            activePage.append(pageShadow);\r\n                        }\r\n                    }\r\n        \r\n                    if (dynamicNavbar) {\r\n                        activeNavbar = container.find('.navbar-on-center:not(.cached)');\r\n                        previousNavbar = container.find('.navbar-on-left:not(.cached)');\r\n                        activeNavElements = activeNavbar.find('.left, .center, .right, .subnavbar, .fading');\r\n                        previousNavElements = previousNavbar.find('.left, .center, .right, .subnavbar, .fading');\r\n                        if (app.params.animateNavBackIcon) {\r\n                            activeNavBackIcon = activeNavbar.find('.left.sliding .back .icon');\r\n                            previousNavBackIcon = previousNavbar.find('.left.sliding .back .icon');\r\n                        }\r\n                    }\r\n        \r\n                    // Close/Hide Any Picker\r\n                    if ($('.picker-modal.modal-in').length > 0) {\r\n                        app.closeModal($('.picker-modal.modal-in'));\r\n                    }\r\n                }\r\n                e.f7PreventPanelSwipe = true;\r\n                isMoved = true;\r\n                e.preventDefault();\r\n        \r\n                // RTL inverter\r\n                var inverter = app.rtl ? -1 : 1;\r\n        \r\n                // Touches diff\r\n                touchesDiff = (pageX - touchesStart.x - view.params.swipeBackPageThreshold) * inverter;\r\n                if (touchesDiff < 0) touchesDiff = 0;\r\n                var percentage = touchesDiff / viewContainerWidth;\r\n        \r\n                // Swipe Back Callback\r\n                var callbackData = {\r\n                    percentage: percentage,\r\n                    activePage: activePage[0],\r\n                    previousPage: previousPage[0],\r\n                    activeNavbar: activeNavbar[0],\r\n                    previousNavbar: previousNavbar[0]\r\n                };\r\n                if (view.params.onSwipeBackMove) {\r\n                    view.params.onSwipeBackMove(callbackData);\r\n                }\r\n                container.trigger('swipeBackMove swipeback:move', callbackData);\r\n        \r\n                // Transform pages\r\n                var activePageTranslate = touchesDiff * inverter;\r\n                var previousPageTranslate = (touchesDiff / 5 - viewContainerWidth / 5) * inverter;\r\n                if (app.device.pixelRatio === 1) {\r\n                    activePageTranslate = Math.round(activePageTranslate);\r\n                    previousPageTranslate = Math.round(previousPageTranslate);\r\n                }\r\n        \r\n                activePage.transform('translate3d(' + activePageTranslate + 'px,0,0)');\r\n                if (view.params.swipeBackPageAnimateShadow && !app.device.android) pageShadow[0].style.opacity = 1 - 1 * percentage;\r\n        \r\n                previousPage.transform('translate3d(' + previousPageTranslate + 'px,0,0)');\r\n                if (view.params.swipeBackPageAnimateOpacity) previousPage[0].style.opacity = 0.9 + 0.1 * percentage;\r\n        \r\n                // Dynamic Navbars Animation\r\n                if (dynamicNavbar) {\r\n                    var i;\r\n                    for (i = 0; i < activeNavElements.length; i++) {\r\n                        el = $(activeNavElements[i]);\r\n                        if (!el.is('.subnavbar.sliding')) el[0].style.opacity = (1 - percentage * 1.3);\r\n                        if (el[0].className.indexOf('sliding') >= 0) {\r\n                            var activeNavTranslate = percentage * el[0].f7NavbarRightOffset;\r\n                            if (app.device.pixelRatio === 1) activeNavTranslate = Math.round(activeNavTranslate);\r\n                            el.transform('translate3d(' + activeNavTranslate + 'px,0,0)');\r\n                            if (app.params.animateNavBackIcon) {\r\n                                if (el[0].className.indexOf('left') >= 0 && activeNavBackIcon.length > 0) {\r\n                                    activeNavBackIcon.transform('translate3d(' + -activeNavTranslate + 'px,0,0)');\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    for (i = 0; i < previousNavElements.length; i++) {\r\n                        el = $(previousNavElements[i]);\r\n                        if (!el.is('.subnavbar.sliding')) el[0].style.opacity = percentage * 1.3 - 0.3;\r\n                        if (el[0].className.indexOf('sliding') >= 0) {\r\n                            var previousNavTranslate = el[0].f7NavbarLeftOffset * (1 - percentage);\r\n                            if (app.device.pixelRatio === 1) previousNavTranslate = Math.round(previousNavTranslate);\r\n                            el.transform('translate3d(' + previousNavTranslate + 'px,0,0)');\r\n                            if (app.params.animateNavBackIcon) {\r\n                                if (el[0].className.indexOf('left') >= 0 && previousNavBackIcon.length > 0) {\r\n                                    previousNavBackIcon.transform('translate3d(' + -previousNavTranslate + 'px,0,0)');\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        \r\n            view.handleTouchEnd = function (e) {\r\n                if (!isTouched || !isMoved) {\r\n                    isTouched = false;\r\n                    isMoved = false;\r\n                    return;\r\n                }\r\n                isTouched = false;\r\n                isMoved = false;\r\n                if (touchesDiff === 0) {\r\n                    $([activePage[0], previousPage[0]]).transform('').css({opacity: '', boxShadow: ''});\r\n                    if (dynamicNavbar) {\r\n                        activeNavElements.transform('').css({opacity: ''});\r\n                        previousNavElements.transform('').css({opacity: ''});\r\n                        if (activeNavBackIcon && activeNavBackIcon.length > 0) activeNavBackIcon.transform('');\r\n                        if (previousNavBackIcon && activeNavBackIcon.length > 0) previousNavBackIcon.transform('');\r\n                    }\r\n                    return;\r\n                }\r\n                var timeDiff = (new Date()).getTime() - touchStartTime;\r\n                var pageChanged = false;\r\n                // Swipe back to previous page\r\n                if (\r\n                        timeDiff < 300 && touchesDiff > 10 ||\r\n                        timeDiff >= 300 && touchesDiff > viewContainerWidth / 2\r\n                    ) {\r\n                    activePage.removeClass('page-on-center').addClass('page-on-right');\r\n                    previousPage.removeClass('page-on-left').addClass('page-on-center');\r\n                    if (dynamicNavbar) {\r\n                        activeNavbar.removeClass('navbar-on-center').addClass('navbar-on-right');\r\n                        previousNavbar.removeClass('navbar-on-left').addClass('navbar-on-center');\r\n                    }\r\n                    pageChanged = true;\r\n                }\r\n                // Reset custom styles\r\n                // Add transitioning class for transition-duration\r\n                $([activePage[0], previousPage[0]]).transform('').css({opacity: '', boxShadow: ''}).addClass('page-transitioning');\r\n                if (dynamicNavbar) {\r\n                    activeNavElements.css({opacity: ''})\r\n                    .each(function () {\r\n                        var translate = pageChanged ? this.f7NavbarRightOffset : 0;\r\n                        var sliding = $(this);\r\n                        sliding.transform('translate3d(' + translate + 'px,0,0)');\r\n                        if (app.params.animateNavBackIcon) {\r\n                            if (sliding.hasClass('left') && activeNavBackIcon.length > 0) {\r\n                                activeNavBackIcon.addClass('page-transitioning').transform('translate3d(' + -translate + 'px,0,0)');\r\n                            }\r\n                        }\r\n        \r\n                    }).addClass('page-transitioning');\r\n        \r\n                    previousNavElements.transform('').css({opacity: ''}).each(function () {\r\n                        var translate = pageChanged ? 0 : this.f7NavbarLeftOffset;\r\n                        var sliding = $(this);\r\n                        sliding.transform('translate3d(' + translate + 'px,0,0)');\r\n                        if (app.params.animateNavBackIcon) {\r\n                            if (sliding.hasClass('left') && previousNavBackIcon.length > 0) {\r\n                                previousNavBackIcon.addClass('page-transitioning').transform('translate3d(' + -translate + 'px,0,0)');\r\n                            }\r\n                        }\r\n                    }).addClass('page-transitioning');\r\n                }\r\n                allowViewTouchMove = false;\r\n                view.allowPageChange = false;\r\n                // Swipe Back Callback\r\n                var callbackData = {\r\n                    activePage: activePage[0],\r\n                    previousPage: previousPage[0],\r\n                    activeNavbar: activeNavbar[0],\r\n                    previousNavbar: previousNavbar[0]\r\n                };\r\n                if (pageChanged) {\r\n                    // Update View's URL\r\n                    var url = view.history[view.history.length - 2];\r\n                    view.url = url;\r\n        \r\n                    // Page before animation callback\r\n                    app.pageBackCallback('before', view, {pageContainer: activePage[0], url: url, position: 'center', newPage: previousPage, oldPage: activePage, swipeBack: true});\r\n                    app.pageAnimCallback('before', view, {pageContainer: previousPage[0], url: url, position: 'left', newPage: previousPage, oldPage: activePage, swipeBack: true});\r\n        \r\n                    if (view.params.onSwipeBackBeforeChange) {\r\n                        view.params.onSwipeBackBeforeChange(callbackData);\r\n                    }\r\n                    container.trigger('swipeBackBeforeChange swipeback:beforechange', callbackData);\r\n                }\r\n                else {\r\n                    if (view.params.onSwipeBackBeforeReset) {\r\n                        view.params.onSwipeBackBeforeReset(callbackData);\r\n                    }\r\n                    container.trigger('swipeBackBeforeReset swipeback:beforereset', callbackData);\r\n                }\r\n        \r\n                activePage.transitionEnd(function () {\r\n                    $([activePage[0], previousPage[0]]).removeClass('page-transitioning');\r\n                    if (dynamicNavbar) {\r\n                        activeNavElements.removeClass('page-transitioning').css({opacity: ''});\r\n                        previousNavElements.removeClass('page-transitioning').css({opacity: ''});\r\n                        if (activeNavBackIcon && activeNavBackIcon.length > 0) activeNavBackIcon.removeClass('page-transitioning');\r\n                        if (previousNavBackIcon && previousNavBackIcon.length > 0) previousNavBackIcon.removeClass('page-transitioning');\r\n                    }\r\n                    allowViewTouchMove = true;\r\n                    view.allowPageChange = true;\r\n                    if (pageChanged) {\r\n                        if (app.params.pushState && view.main) history.back();\r\n                        // Page after animation callback\r\n                        app.pageBackCallback('after', view, {pageContainer: activePage[0], url: url, position: 'center', newPage: previousPage, oldPage: activePage, swipeBack: true});\r\n                        app.pageAnimCallback('after', view, {pageContainer: previousPage[0], url: url, position: 'left', newPage: previousPage, oldPage: activePage, swipeBack: true});\r\n                        app.router.afterBack(view, activePage, previousPage);\r\n        \r\n                        if (view.params.onSwipeBackAfterChange) {\r\n                            view.params.onSwipeBackAfterChange(callbackData);\r\n                        }\r\n                        container.trigger('swipeBackAfterChange swipeback:afterchange', callbackData);\r\n                    }\r\n                    else {\r\n                        if (view.params.onSwipeBackAfterReset) {\r\n                            view.params.onSwipeBackAfterReset(callbackData);\r\n                        }\r\n                        container.trigger('swipeBackAfterReset swipeback:afterreset', callbackData);\r\n                    }\r\n                    if (pageShadow && pageShadow.length > 0) pageShadow.remove();\r\n                });\r\n            };\r\n            view.attachEvents = function (detach) {\r\n                var action = detach ? 'off' : 'on';\r\n                var passiveListener = app.touchEvents.start === 'touchstart' && app.support.passiveListener ? {passive: true, capture: false} : false;\r\n                container[action](app.touchEvents.start, view.handleTouchStart, passiveListener);\r\n                container[action](app.touchEvents.move, view.handleTouchMove);\r\n                container[action](app.touchEvents.end, view.handleTouchEnd, passiveListener);\r\n            };\r\n            view.detachEvents = function () {\r\n                view.attachEvents(true);\r\n            };\r\n        \r\n            // Init\r\n            if (view.params.swipeBackPage && !app.params.material) {\r\n                view.attachEvents();\r\n            }\r\n        \r\n            // Add view to app\r\n            app.views.push(view);\r\n            if (view.main) app.mainView = view;\r\n        \r\n            // Router\r\n            view.router = {\r\n                load: function (options) {\r\n                    return app.router.load(view, options);\r\n                },\r\n                back: function (options) {\r\n                    return app.router.back(view, options);\r\n                },\r\n                // Shortcuts\r\n                loadPage: function (options) {\r\n                    options = options || {};\r\n                    if (typeof options === 'string') {\r\n                        var url = options;\r\n                        options = {};\r\n                        if (url && url.indexOf('#') === 0 && view.params.domCache) {\r\n                            options.pageName = url.split('#')[1];\r\n                        }\r\n                        else options.url = url;\r\n                    }\r\n                    return app.router.load(view, options);\r\n                },\r\n                loadContent: function (content) {\r\n                    return app.router.load(view, {content: content});\r\n                },\r\n                reloadPage: function (url) {\r\n                    return app.router.load(view, {url: url, reload: true});\r\n                },\r\n                reloadContent: function (content) {\r\n                    return app.router.load(view, {content: content, reload: true});\r\n                },\r\n                reloadPreviousPage: function (url) {\r\n                    return app.router.load(view, {url: url, reloadPrevious: true, reload: true});\r\n                },\r\n                reloadPreviousContent: function (content) {\r\n                    return app.router.load(view, {content: content, reloadPrevious: true, reload: true});\r\n                },\r\n                refreshPage: function () {\r\n                    var options = {\r\n                        url: view.url,\r\n                        reload: true,\r\n                        ignoreCache: true\r\n                    };\r\n                    if (options.url && options.url.indexOf('#') === 0) {\r\n                        if (view.params.domCache && view.pagesCache[options.url]) {\r\n                            options.pageName = view.pagesCache[options.url];\r\n                            options.url = undefined;\r\n                            delete options.url;\r\n                        }\r\n                        else if (view.contentCache[options.url]) {\r\n                            options.content = view.contentCache[options.url];\r\n                            options.url = undefined;\r\n                            delete options.url;\r\n                        }\r\n                    }\r\n                    return app.router.load(view, options);\r\n                },\r\n                refreshPreviousPage: function () {\r\n                    var options = {\r\n                        url: view.history[view.history.length - 2],\r\n                        reload: true,\r\n                        reloadPrevious: true,\r\n                        ignoreCache: true\r\n                    };\r\n                    if (options.url && options.url.indexOf('#') === 0 && view.params.domCache && view.pagesCache[options.url]) {\r\n                        options.pageName = view.pagesCache[options.url];\r\n                        options.url = undefined;\r\n                        delete options.url;\r\n                    }\r\n                    return app.router.load(view, options);\r\n                }\r\n            };\r\n        \r\n            // Aliases for temporary backward compatibility\r\n            view.loadPage = view.router.loadPage;\r\n            view.loadContent = view.router.loadContent;\r\n            view.reloadPage = view.router.reloadPage;\r\n            view.reloadContent = view.router.reloadContent;\r\n            view.reloadPreviousPage = view.router.reloadPreviousPage;\r\n            view.reloadPreviousContent = view.router.reloadPreviousContent;\r\n            view.refreshPage = view.router.refreshPage;\r\n            view.refreshPreviousPage = view.router.refreshPreviousPage;\r\n            view.back = view.router.back;\r\n        \r\n            // Bars methods\r\n            view.hideNavbar = function (isAnimated) {\r\n                return app.hideNavbar(container.find('.navbar'), isAnimated);\r\n            };\r\n            view.showNavbar = function (isAnimated) {\r\n                return app.showNavbar(container.find('.navbar'), isAnimated);\r\n            };\r\n            view.hideToolbar = function (isAnimated) {\r\n                return app.hideToolbar(container.find('.toolbar'), isAnimated);\r\n            };\r\n            view.showToolbar = function (isAnimated) {\r\n                return app.showToolbar(container.find('.toolbar'), isAnimated);\r\n            };\r\n        \r\n            // Push State on load\r\n            if (app.params.pushState && app.params.pushStateOnLoad && view.main) {\r\n                var pushStateUrl;\r\n                var pushStateUrlSplit = docLocation.split(pushStateSeparator)[1];\r\n                if (pushStateRoot) {\r\n                    pushStateUrl = docLocation.split(app.params.pushStateRoot + pushStateSeparator)[1];\r\n                }\r\n                else if (pushStateSeparator && docLocation.indexOf(pushStateSeparator) >= 0 && docLocation.indexOf(pushStateSeparator + '#') < 0) {\r\n                    pushStateUrl = pushStateUrlSplit;\r\n                }\r\n                var pushStateAnimatePages = app.params.pushStateNoAnimation ? false : undefined;\r\n                var historyState = history.state;\r\n                if (pushStateUrl) {\r\n                    if (pushStateUrl.indexOf('#') >= 0 && view.params.domCache && historyState && historyState.pageName && 'viewIndex' in historyState) {\r\n                        app.router.load(view, {pageName: historyState.pageName, url: historyState.url, animatePages: pushStateAnimatePages, pushState: false});\r\n                    }\r\n                    else if (pushStateUrl.indexOf('#') >= 0 && view.params.domCache && view.initialPagesUrl.indexOf(pushStateUrl) >= 0) {\r\n                        app.router.load(view, {pageName: pushStateUrl.replace('#',''), animatePages: pushStateAnimatePages, pushState: false});\r\n                    }\r\n                    else app.router.load(view, {url: pushStateUrl, animatePages: pushStateAnimatePages, pushState: false});\r\n                }\r\n                else if (view.params.domCache && docLocation.indexOf(pushStateSeparator + '#') >= 0) {\r\n                    if (historyState && historyState.pageName && 'viewIndex' in historyState) {\r\n                        app.router.load(view, {pageName: historyState.pageName, url: historyState.url, animatePages: pushStateAnimatePages, pushState: false});\r\n                    }\r\n                    else if (pushStateSeparator && pushStateUrlSplit.indexOf('#') === 0) {\r\n                        if (view.initialPagesUrl.indexOf(pushStateUrlSplit)) {\r\n                            app.router.load(view, {pageName: pushStateUrlSplit.replace('#', ''), animatePages: pushStateAnimatePages, pushState: false});\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        \r\n            // Destroy\r\n            view.destroy = function () {\r\n                view.detachEvents();\r\n                view = undefined;\r\n            };\r\n        \r\n            // Plugin hook\r\n            app.pluginHook('addView', view);\r\n        \r\n            // Return view\r\n            return view;\r\n        };\r\n        \r\n        app.addView = function (selector, params) {\r\n            return new View(selector, params);\r\n        };\r\n        \r\n        app.getCurrentView = function (index) {\r\n            var popoverView = $('.popover.modal-in .view');\r\n            var popupView = $('.popup.modal-in .view');\r\n            var panelView = $('.panel.active .view');\r\n            var appViews = $('.views');\r\n            // Find active view as tab\r\n            var appView = appViews.children('.view');\r\n            // Propably in tabs or split view\r\n            if (appView.length > 1) {\r\n                if (appView.hasClass('tab')) {\r\n                    // Tabs\r\n                    appView = appViews.children('.view.active');\r\n                }\r\n                else {\r\n                    // Split View, leave appView intact\r\n                }\r\n            }\r\n            if (popoverView.length > 0 && popoverView[0].f7View) return popoverView[0].f7View;\r\n            if (popupView.length > 0 && popupView[0].f7View) return popupView[0].f7View;\r\n            if (panelView.length > 0 && panelView[0].f7View) return panelView[0].f7View;\r\n            if (appView.length > 0) {\r\n                if (appView.length === 1 && appView[0].f7View) return appView[0].f7View;\r\n                if (appView.length > 1) {\r\n                    var currentViews = [];\r\n                    for (var i = 0; i < appView.length; i++) {\r\n                        if (appView[i].f7View) currentViews.push(appView[i].f7View);\r\n                    }\r\n                    if (currentViews.length > 0 && typeof index !== 'undefined') return currentViews[index];\r\n                    if (currentViews.length > 1) return currentViews;\r\n                    if (currentViews.length === 1) return currentViews[0];\r\n                    return undefined;\r\n                }\r\n            }\r\n            return undefined;\r\n        };\r\n        \n\n        /*======================================================\r\n         ************   Navbars && Toolbars   ************\r\n         ======================================================*/\r\n        // On Navbar Init Callback\r\n        app.navbarInitCallback = function (view, pageContainer, navbarContainer, navbarInnerContainer) {\r\n        \tif (!navbarContainer && navbarInnerContainer) navbarContainer = $(navbarInnerContainer).parent('.navbar')[0];\r\n        \tif (!navbarInnerContainer || navbarInnerContainer.f7NavbarInitialized && view && !view.params.domCache) return;\r\n        \tvar navbarData = {\r\n        \t\tcontainer: navbarContainer,\r\n        \t\tinnerContainer: navbarInnerContainer\r\n        \t};\r\n        \tvar pageData = pageContainer && pageContainer.f7PageData;\r\n        \t\r\n        \tvar eventData = {\r\n        \t\tpage: pageData,\r\n        \t\tnavbar: navbarData\r\n        \t};\r\n        \t\r\n        \tif (navbarInnerContainer.f7NavbarInitialized && ((view && view.params.domCache) || (!view && $(navbarContainer).parents('.popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal').length > 0))) {\r\n        \t\t// Reinit Navbar\r\n        \t\tapp.reinitNavbar(navbarContainer, navbarInnerContainer);\r\n        \t\t\r\n        \t\t// Plugin hook\r\n        \t\tapp.pluginHook('navbarReinit', eventData);\r\n        \t\t\r\n        \t\t// Event\r\n        \t\t$(navbarInnerContainer).trigger('navbarReinit navbar:reinit', eventData);\r\n        \t\treturn;\r\n        \t}\r\n        \tnavbarInnerContainer.f7NavbarInitialized = true;\r\n        \t// Before Init\r\n        \tapp.pluginHook('navbarBeforeInit', navbarData, pageData);\r\n        \t$(navbarInnerContainer).trigger('navbarBeforeInit navbar:beforeinit', eventData);\r\n        \t\r\n        \t// Initialize Navbar\r\n        \tapp.initNavbar(navbarContainer, navbarInnerContainer);\r\n        \t\r\n        \t// On init\r\n        \tapp.pluginHook('navbarInit', navbarData, pageData);\r\n        \t$(navbarInnerContainer).trigger('navbarInit navbar:init', eventData);\r\n        };\r\n        // Navbar Remove Callback\r\n        app.navbarRemoveCallback = function (view, pageContainer, navbarContainer, navbarInnerContainer) {\r\n        \tif (!navbarContainer && navbarInnerContainer) navbarContainer = $(navbarInnerContainer).parent('.navbar')[0];\r\n        \tvar navbarData = {\r\n        \t\tcontainer: navbarContainer,\r\n        \t\tinnerContainer: navbarInnerContainer\r\n        \t};\r\n        \tvar pageData;\r\n        \tif (pageContainer) {\r\n        \t\tpageData = pageContainer.f7PageData;\r\n        \t}\r\n        \t\r\n        \tvar eventData = {\r\n        \t\tpage: pageData,\r\n        \t\tnavbar: navbarData\r\n        \t};\r\n        \tapp.pluginHook('navbarBeforeRemove', navbarData, pageData);\r\n        \t$(navbarInnerContainer).trigger('navbarBeforeRemove navbar:beforeremove', eventData);\r\n        \tnavbarData = null;\r\n        \tpageData = null;\r\n        };\r\n        app.initNavbar = function (navbarContainer, navbarInnerContainer) {\r\n        \t// Init Subnavbar Searchbar\r\n        \tif (app.initSearchbar) app.initSearchbar(navbarInnerContainer);\r\n        };\r\n        app.reinitNavbar = function (navbarContainer, navbarInnerContainer) {\r\n        \t// Re init navbar methods\r\n        };\r\n        app.initNavbarWithCallback = function (navbarContainer) {\r\n        \tnavbarContainer = $(navbarContainer);\r\n        \tvar viewContainer = navbarContainer.parents('.' + app.params.viewClass);\r\n        \tvar view;\r\n        \tif (viewContainer.length === 0) return;\r\n        \tif (navbarContainer.parents('.navbar-through').length === 0 && viewContainer.find('.navbar-through').length === 0) return;\r\n        \tview = viewContainer[0].f7View || undefined;\r\n        \t\r\n        \tnavbarContainer.find('.navbar-inner').each(function () {\r\n        \t\tvar navbarInnerContainer = this;\r\n        \t\tvar pageContainer;\r\n        \t\tif ($(navbarInnerContainer).attr('data-page')) {\r\n        \t\t\t// For dom cache\r\n        \t\t\tpageContainer = viewContainer.find('.page[data-page=\"' + $(navbarInnerContainer).attr('data-page') + '\"]')[0];\r\n        \t\t}\r\n        \t\tif (!pageContainer) {\r\n        \t\t\tvar pages = viewContainer.find('.page');\r\n        \t\t\tif (pages.length === 1) {\r\n        \t\t\t\tpageContainer = pages[0];\r\n        \t\t\t}\r\n        \t\t\telse {\r\n        \t\t\t\tviewContainer.find('.page').each(function () {\r\n        \t\t\t\t\tif (this.f7PageData && this.f7PageData.navbarInnerContainer === navbarInnerContainer) {\r\n        \t\t\t\t\t\tpageContainer = this;\r\n        \t\t\t\t\t}\r\n        \t\t\t\t});\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\tapp.navbarInitCallback(view, pageContainer, navbarContainer[0], navbarInnerContainer);\r\n        \t});\r\n        };\r\n        \r\n        // Size Navbars\r\n        app.sizeNavbars = function (viewContainer) {\r\n        \tif (app.params.material) return;\r\n        \tvar navbarInner = viewContainer ? $(viewContainer).find('.navbar .navbar-inner:not(.cached)') : $('.navbar .navbar-inner:not(.cached)');\r\n        \tnavbarInner.each(function () {\r\n        \t\tvar n = $(this);\r\n        \t\tif (n.hasClass('cached')) return;\r\n        \t\tvar left = app.rtl ? n.find('.right') : n.find('.left'),\r\n        \t\t\tright = app.rtl ? n.find('.left') : n.find('.right'),\r\n        \t\t\tcenter = n.find('.center'),\r\n        \t\t\tsubnavbar = n.find('.subnavbar'),\r\n        \t\t\tnoLeft = left.length === 0,\r\n        \t\t\tnoRight = right.length === 0,\r\n        \t\t\tleftWidth = noLeft ? 0 : left.outerWidth(true),\r\n        \t\t\trightWidth = noRight ? 0 : right.outerWidth(true),\r\n        \t\t\tcenterWidth = center.outerWidth(true),\r\n        \t\t\tnavbarStyles = n.styles(),\r\n        \t\t\tnavbarWidth = n[0].offsetWidth - parseInt(navbarStyles.paddingLeft, 10) - parseInt(navbarStyles.paddingRight, 10),\r\n        \t\t\tonLeft = n.hasClass('navbar-on-left'),\r\n        \t\t\tcurrLeft, diff;\r\n        \t\t\r\n        \t\tif (noRight) {\r\n        \t\t\tcurrLeft = navbarWidth - centerWidth;\r\n        \t\t}\r\n        \t\tif (noLeft) {\r\n        \t\t\tcurrLeft = 0;\r\n        \t\t}\r\n        \t\tif (!noLeft && !noRight) {\r\n        \t\t\tcurrLeft = (navbarWidth - rightWidth - centerWidth + leftWidth) / 2;\r\n        \t\t}\r\n        \t\tvar requiredLeft = (navbarWidth - centerWidth) / 2;\r\n        \t\tif (navbarWidth - leftWidth - rightWidth > centerWidth) {\r\n        \t\t\tif (requiredLeft < leftWidth) {\r\n        \t\t\t\trequiredLeft = leftWidth;\r\n        \t\t\t}\r\n        \t\t\tif (requiredLeft + centerWidth > navbarWidth - rightWidth) {\r\n        \t\t\t\trequiredLeft = navbarWidth - rightWidth - centerWidth;\r\n        \t\t\t}\r\n        \t\t\tdiff = requiredLeft - currLeft;\r\n        \t\t}\r\n        \t\telse {\r\n        \t\t\tdiff = 0;\r\n        \t\t}\r\n        \t\t// RTL inverter\r\n        \t\tvar inverter = app.rtl ? -1 : 1;\r\n        \t\t\r\n        \t\tif (center.hasClass('sliding')) {\r\n        \t\t\tcenter[0].f7NavbarLeftOffset = -(currLeft + diff) * inverter;\r\n        \t\t\tcenter[0].f7NavbarRightOffset = (navbarWidth - currLeft - diff - centerWidth) * inverter;\r\n        \t\t\tif (onLeft) {\r\n        \t\t\t\tif (app.params.animateNavBackIcon) {\r\n        \t\t\t\t\tvar activeNavbarBackLink = n.parent().find('.navbar-on-center').find('.left.sliding .back .icon ~ span');\r\n        \t\t\t\t\tif (activeNavbarBackLink.length > 0) {\r\n        \t\t\t\t\t\tcenter[0].f7NavbarLeftOffset += activeNavbarBackLink[0].offsetLeft;\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t\tcenter.transform('translate3d(' + center[0].f7NavbarLeftOffset + 'px, 0, 0)');\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\tif (!noLeft && left.hasClass('sliding')) {\r\n        \t\t\tif (app.rtl) {\r\n        \t\t\t\tleft[0].f7NavbarLeftOffset = -(navbarWidth - left[0].offsetWidth) / 2 * inverter;\r\n        \t\t\t\tleft[0].f7NavbarRightOffset = leftWidth * inverter;\r\n        \t\t\t}\r\n        \t\t\telse {\r\n        \t\t\t\tleft[0].f7NavbarLeftOffset = -leftWidth;\r\n        \t\t\t\tleft[0].f7NavbarRightOffset = (navbarWidth - left[0].offsetWidth) / 2;\r\n        \t\t\t\tif (app.params.animateNavBackIcon && left.find('.back .icon').length > 0) {\r\n        \t\t\t\t\tleft[0].f7NavbarRightOffset -= left.find('.back .icon')[0].offsetWidth;\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t\tif (onLeft) left.transform('translate3d(' + left[0].f7NavbarLeftOffset + 'px, 0, 0)');\r\n        \t\t}\r\n        \t\tif (!noRight && right.hasClass('sliding')) {\r\n        \t\t\tif (app.rtl) {\r\n        \t\t\t\tright[0].f7NavbarLeftOffset = -rightWidth * inverter;\r\n        \t\t\t\tright[0].f7NavbarRightOffset = (navbarWidth - right[0].offsetWidth) / 2 * inverter;\r\n        \t\t\t}\r\n        \t\t\telse {\r\n        \t\t\t\tright[0].f7NavbarLeftOffset = -(navbarWidth - right[0].offsetWidth) / 2;\r\n        \t\t\t\tright[0].f7NavbarRightOffset = rightWidth;\r\n        \t\t\t}\r\n        \t\t\tif (onLeft) right.transform('translate3d(' + right[0].f7NavbarLeftOffset + 'px, 0, 0)');\r\n        \t\t}\r\n        \t\tif (subnavbar.length && subnavbar.hasClass('sliding')) {\r\n        \t\t\tsubnavbar[0].f7NavbarLeftOffset = app.rtl ? subnavbar[0].offsetWidth : -subnavbar[0].offsetWidth;\r\n        \t\t\tsubnavbar[0].f7NavbarRightOffset = -subnavbar[0].f7NavbarLeftOffset;\r\n        \t\t}\r\n        \t\t\r\n        \t\t// Center left\r\n        \t\tvar centerLeft = diff;\r\n        \t\tif (app.rtl && noLeft && noRight && center.length > 0) centerLeft = -centerLeft;\r\n        \t\tcenter.css({left: centerLeft + 'px'});\r\n        \t\t\r\n        \t});\r\n        };\r\n        \r\n        // Hide/Show Navbars/Toolbars\r\n        app.hideNavbar = function (navbarContainer, isAnimated) {\r\n        \tvar anim = true;\r\n        \t\r\n        \tif (typeof isAnimated != \"undefined\" && ( isAnimated === 0 || isAnimated === false ))\r\n        \t\tanim = false;\r\n        \t\r\n        \t$(navbarContainer).addClass('navbar-hidden' + (anim ? ' animated' : ''));\r\n        \t\r\n        \treturn true;\r\n        };\r\n        app.showNavbar = function (navbarContainer, isAnimated) {\r\n        \tvar anim = true,\r\n        \t\tnavbar = $(navbarContainer);\r\n        \t\r\n        \tif (typeof isAnimated != \"undefined\" && ( isAnimated === 0 || isAnimated === false ))\r\n        \t\tanim = false;\r\n        \t\r\n        \tif (anim) {\r\n        \t\tnavbar.addClass('navbar-hiding').removeClass('navbar-hidden').transitionEnd(function () {\r\n        \t\t\tnavbar.removeClass('navbar-hiding');\r\n        \t\t});\r\n        \t} else {\r\n        \t\tnavbar.removeClass('navbar-hiding navbar-hidden animated');\r\n        \t}\r\n        \t\r\n        \treturn true;\r\n        };\r\n        app.hideToolbar = function (toolbarContainer, isAnimated) {\r\n        \tvar anim = true;\r\n        \t\r\n        \tif (typeof isAnimated != \"undefined\" && ( isAnimated === 0 || isAnimated === false ))\r\n        \t\tanim = false;\r\n        \t\r\n        \t$(toolbarContainer).addClass('toolbar-hidden' + (anim ? ' animated' : ''));\r\n        \t\r\n        \treturn true;\r\n        };\r\n        app.showToolbar = function (toolbarContainer, isAnimated) {\r\n        \tvar anim = true,\r\n        \t\ttoolbar = $(toolbarContainer);\r\n        \t\r\n        \tif (typeof isAnimated != \"undefined\" && ( isAnimated === 0 || isAnimated === false ))\r\n        \t\tanim = false;\r\n        \t\r\n        \tif (anim) {\r\n        \t\ttoolbar.addClass('toolbar-hiding').removeClass('toolbar-hidden animated').transitionEnd(function () {\r\n        \t\t\ttoolbar.removeClass('toolbar-hiding');\r\n        \t\t});\r\n        \t} else {\r\n        \t\ttoolbar.removeClass('toolbar-hiding toolbar-hidden animated');\r\n        \t}\r\n        };\r\n        \n\n        /*======================================================\r\n        ************   Searchbar   ************\r\n        ======================================================*/\r\n        var Searchbar = function (container, params) {\r\n            var defaults = {\r\n                input: null,\r\n                clearButton: null,\r\n                cancelButton: null,\r\n                searchList: null,\r\n                searchIn: '.item-title',\r\n                searchBy: '',\r\n                found: null,\r\n                notFound: null,\r\n                overlay: null,\r\n                ignore: '.searchbar-ignore',\r\n                customSearch: false,\r\n                removeDiacritics: false,\r\n                hideDividers: true,\r\n                hideGroups: true,\r\n                /* Callbacks\r\n                onSearch\r\n                onEnable\r\n                onDisable\r\n                onClear\r\n                */\r\n        \r\n            };\r\n            params = params || {};\r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined' || params[def] === null) {\r\n                    params[def] = defaults[def];\r\n                }\r\n            }\r\n            \r\n            // Instance\r\n            var s = this;\r\n        \r\n            // Material\r\n            s.material = app.params.material;\r\n        \r\n            // Params\r\n            s.params = params;\r\n        \r\n            // Container\r\n            container = $(container);\r\n            s.container = container;\r\n        \r\n            // Active\r\n            s.active = false;\r\n        \r\n            // Input\r\n            s.input = s.params.input ? $(s.params.input) : s.container.find('input[type=\"search\"]');\r\n            s.clearButton = s.params.clearButton ? $(s.params.clearButton) : s.container.find('.searchbar-clear');\r\n            s.cancelButton = s.params.cancelButton ? $(s.params.cancelButton) : s.container.find('.searchbar-cancel');\r\n        \r\n            // Search List\r\n            s.searchList = $(s.params.searchList);\r\n        \r\n            // Is Virtual List\r\n            s.isVirtualList = s.searchList.hasClass('virtual-list');\r\n        \r\n            // Is In Page\r\n            s.pageContainer = s.container.parents('.page').eq(0);\r\n        \r\n            // Overlay\r\n            if (!s.params.overlay) {\r\n                s.overlay = s.pageContainer.length > 0 ? s.pageContainer.find('.searchbar-overlay') : $('.searchbar-overlay');\r\n            }\r\n            else {\r\n                s.overlay = $(s.params.overlay);\r\n            }\r\n            // Found and not found\r\n            if (!s.params.found) {\r\n                s.found = s.pageContainer.length > 0 ? s.pageContainer.find('.searchbar-found') : $('.searchbar-found');\r\n            }\r\n            else {\r\n                s.found = $(s.params.found);\r\n            }\r\n            if (!s.params.notFound) {\r\n                s.notFound = s.pageContainer.length > 0 ? s.pageContainer.find('.searchbar-not-found') : $('.searchbar-not-found');\r\n            }\r\n            else {\r\n                s.notFound = $(s.params.notFound);\r\n            }\r\n        \r\n            // Set Cancel button\r\n            var cancelMarginProp = app.rtl ? 'margin-left' : 'margin-right';\r\n            var cancelButtonHasMargin = false;\r\n            s.setCancelButtonMargin = function () {\r\n                s.cancelButton.transition(0).show();\r\n                s.cancelButton.css(cancelMarginProp, -s.cancelButton[0].offsetWidth + 'px');\r\n                var clientLeft = s.cancelButton[0].clientLeft;\r\n                s.cancelButton.transition('');\r\n                cancelButtonHasMargin = true;\r\n            };\r\n        \r\n            // Trigger\r\n            s.triggerEvent = function (eventName, callbackName, eventData) {\r\n                s.container.trigger(eventName, eventData);\r\n                if (s.searchList.length > 0) s.searchList.trigger(eventName, eventData);\r\n                if (callbackName && s.params[callbackName]) s.params[callbackName](s, eventData);\r\n            };\r\n        \r\n            // Enable/disalbe\r\n            s.enable = function (e) {\r\n                function _enable() {\r\n                    if ((s.searchList.length || s.params.customSearch) && !s.container.hasClass('searchbar-active') && !s.query) s.overlay.addClass('searchbar-overlay-active');\r\n                    s.container.addClass('searchbar-active');\r\n                    if (s.cancelButton.length > 0 && !s.material) {\r\n                        if (!cancelButtonHasMargin) {\r\n                            s.setCancelButtonMargin();\r\n                        }\r\n                        s.cancelButton.css(cancelMarginProp, '0px');\r\n                    }\r\n                    s.triggerEvent('enableSearch searchbar:enable', 'onEnable');\r\n                    s.active = true;\r\n                }\r\n                if (app.device.ios && !app.params.material && e && e.type === 'focus') {\r\n                    setTimeout(function () {\r\n                        _enable();\r\n                    }, 400);\r\n                }\r\n                else {\r\n                    _enable();\r\n                }\r\n            };\r\n        \r\n            s.disable = function () {\r\n                s.input.val('').trigger('change');\r\n                s.container.removeClass('searchbar-active searchbar-not-empty');\r\n                if (s.cancelButton.length > 0 && !s.material) s.cancelButton.css(cancelMarginProp, -s.cancelButton[0].offsetWidth + 'px');\r\n        \r\n                if (s.searchList.length || s.params.customSearch) s.overlay.removeClass('searchbar-overlay-active');\r\n        \r\n                s.active = false;\r\n                function _disable() {\r\n                    s.input.blur();\r\n                }\r\n                if (app.device.ios) {\r\n                    setTimeout(function () {\r\n                        _disable();\r\n                    }, 400);\r\n                }\r\n                else {\r\n                    _disable();\r\n                }\r\n                s.triggerEvent('disableSearch searchbar:disable', 'onDisable');\r\n            };\r\n        \r\n            // Clear\r\n            s.clear = function (e) {\r\n                if (!s.query && e && $(e.target).hasClass('searchbar-clear')) {\r\n                    s.disable();\r\n                    return;\r\n                }\r\n                s.input.val('').trigger('change').focus();\r\n                s.triggerEvent('clearSearch searchbar:clear', 'onClear');\r\n            };\r\n        \r\n            // Search\r\n            s.handleInput = function () {\r\n                setTimeout(function () {\r\n                    var value = s.input.val().trim();\r\n                    if ((s.searchList.length > 0 || s.params.customSearch) && (s.params.searchIn || s.isVirtualList)) s.search(value, true);\r\n                }, 0);\r\n            };\r\n        \r\n            var previousQuery = '';\r\n            var virtualList;\r\n            s.search = function (query, internal) {\r\n                if (query.trim() === previousQuery) return;\r\n                previousQuery = query.trim();\r\n        \r\n                if (!internal) {\r\n                    if (!s.active) {\r\n                        s.enable();\r\n                    }\r\n                    s.input.val(query);\r\n                }\r\n                s.query = s.value = query;\r\n                // Add active/inactive classes on overlay\r\n                if (query.length === 0) {\r\n                    s.container.removeClass('searchbar-not-empty');\r\n                    if (s.searchList.length && s.container.hasClass('searchbar-active')) s.overlay.addClass('searchbar-overlay-active');\r\n                }\r\n                else {\r\n                    s.container.addClass('searchbar-not-empty');\r\n                    if (s.searchList.length && s.container.hasClass('searchbar-active')) s.overlay.removeClass('searchbar-overlay-active');\r\n                }\r\n        \r\n                if (s.params.customSearch) {\r\n                    s.triggerEvent('search searchbar:search', 'onSearch', {query: query});\r\n                    return;\r\n                }\r\n        \r\n                var foundItems = [], _vlQuery;\r\n                if (s.isVirtualList) {\r\n                    virtualList = s.searchList[0].f7VirtualList;\r\n                    if (query.trim() === '') {\r\n                        virtualList.resetFilter();\r\n                        s.notFound.hide();\r\n                        s.found.show();\r\n                        return;\r\n                    }\r\n                    _vlQuery = s.params.removeDiacritics ? $.removeDiacritics(query) : query;\r\n                    if (virtualList.params.searchAll) {\r\n                        foundItems = virtualList.params.searchAll(_vlQuery, virtualList.items) || [];\r\n                    }\r\n                    else if (virtualList.params.searchByItem) {\r\n                        for (var i = 0; i < virtualList.items.length; i++) {\r\n                            if(virtualList.params.searchByItem(_vlQuery, i, virtualList.params.items[i])) {\r\n                                foundItems.push(i);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    var values;\r\n                    if (s.params.removeDiacritics) values = $.removeDiacritics(query.trim().toLowerCase()).split(' ');\r\n                    else {\r\n                        values = query.trim().toLowerCase().split(' ');\r\n                    }\r\n                    s.searchList.find('li').removeClass('hidden-by-searchbar').each(function (index, el) {\r\n                        el = $(el);\r\n                        var compareWithText = [];\r\n                        el.find(s.params.searchIn).each(function () {\r\n                            var itemText = $(this).text().trim().toLowerCase();\r\n                            if (s.params.removeDiacritics) itemText = $.removeDiacritics(itemText);\r\n                            compareWithText.push(itemText);\r\n                        });\r\n                        compareWithText = compareWithText.join(' ');\r\n                        var wordsMatch = 0;\r\n                        for (var i = 0; i < values.length; i++) {\r\n                            if (compareWithText.indexOf(values[i]) >= 0) wordsMatch++;\r\n                        }\r\n                        if (wordsMatch !== values.length && !(s.params.ignore && el.is(s.params.ignore))) {\r\n                            el.addClass('hidden-by-searchbar');\r\n                        }\r\n                        else {\r\n                            foundItems.push(el[0]);\r\n                        }\r\n                    });\r\n        \r\n                    if (s.params.hideDividers) {\r\n                        s.searchList.find('.item-divider, .list-group-title').each(function () {\r\n                            var title = $(this);\r\n                            var nextElements = title.nextAll('li');\r\n                            var hide = true;\r\n                            for (var i = 0; i < nextElements.length; i++) {\r\n                                var nextEl = $(nextElements[i]);\r\n                                if (nextEl.hasClass('list-group-title') || nextEl.hasClass('item-divider')) break;\r\n                                if (!nextEl.hasClass('hidden-by-searchbar')) {\r\n                                    hide = false;\r\n                                }\r\n                            }\r\n                            var ignore = s.params.ignore && title.is(s.params.ignore);\r\n                            if (hide && !ignore) title.addClass('hidden-by-searchbar');\r\n                            else title.removeClass('hidden-by-searchbar');\r\n                        });\r\n                    }\r\n                    if (s.params.hideGroups) {\r\n                        s.searchList.find('.list-group').each(function () {\r\n                            var group = $(this);\r\n                            var ignore = s.params.ignore && group.is(s.params.ignore);\r\n                            var notHidden = group.find('li:not(.hidden-by-searchbar)');\r\n                            if (notHidden.length === 0 && !ignore) {\r\n                                group.addClass('hidden-by-searchbar');\r\n                            }\r\n                            else {\r\n                                group.removeClass('hidden-by-searchbar');\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                s.triggerEvent('search searchbar:search', 'onSearch', {query: query, foundItems: foundItems});\r\n                if (foundItems.length === 0) {\r\n                    s.notFound.show();\r\n                    s.found.hide();\r\n                }\r\n                else {\r\n                    s.notFound.hide();\r\n                    s.found.show();\r\n                }\r\n                if (s.isVirtualList) {\r\n                    virtualList.filterItems(foundItems);\r\n                }\r\n            };\r\n        \r\n            // Events\r\n            function preventSubmit(e) {\r\n                e.preventDefault();\r\n            }\r\n        \r\n            s.attachEvents = function (destroy) {\r\n                var method = destroy ? 'off' : 'on';\r\n                s.container[method]('submit', preventSubmit);\r\n                if (!s.material) s.cancelButton[method]('click', s.disable);\r\n                s.overlay[method]('click', s.disable);\r\n                s.input[method]('focus', s.enable);\r\n                s.input[method]('change keydown keypress keyup', s.handleInput);\r\n                s.clearButton[method]('click', s.clear);\r\n                    \r\n            };\r\n            s.detachEvents = function() {\r\n                s.attachEvents(true);\r\n            };\r\n        \r\n            // Init Destroy\r\n            s.init = function () {\r\n                s.attachEvents();\r\n            };\r\n            s.destroy = function () {\r\n                if (!s) return;\r\n                s.detachEvents();\r\n                s = null;\r\n            };\r\n        \r\n            // Init\r\n            s.init();\r\n        \r\n            s.container[0].f7Searchbar = s;\r\n            return s;\r\n        \r\n        };\r\n        app.searchbar = function (container, params) {\r\n            return new Searchbar(container, params);\r\n        };\r\n        app.initSearchbar = function (container) {\r\n            container = $(container);\r\n            var searchbar = container.hasClass('searchbar') ? container : container.find('.searchbar');\r\n            if (searchbar.length === 0) return;\r\n            if (!searchbar.hasClass('searchbar-init')) return;\r\n        \r\n            var sb = app.searchbar(searchbar, searchbar.dataset());\r\n        \r\n            function onBeforeRemove() {\r\n                if (sb) sb.destroy();\r\n            }\r\n            if (container.hasClass('page')) {\r\n                container.once('pageBeforeRemove', onBeforeRemove);   \r\n            }\r\n            else if (container.hasClass('navbar-inner')) {\r\n                container.once('navbarBeforeRemove', onBeforeRemove);\r\n            }\r\n        };\n\n        /*======================================================\r\n        ************   Messagebar   ************\r\n        ======================================================*/\r\n        var Messagebar = function (container, params) {\r\n            var defaults = {\r\n                textarea: null,\r\n                maxHeight: null,\r\n            };\r\n            params = params || {};\r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined' || params[def] === null) {\r\n                    params[def] = defaults[def];\r\n                }\r\n            }\r\n            \r\n            // Instance\r\n            var m = this;\r\n        \r\n            // Params\r\n            m.params = params;\r\n        \r\n            // Container\r\n            m.container = $(container);\r\n            if (m.container.length === 0) return;\r\n        \r\n            // Textarea\r\n            m.textarea = m.params.textarea ? $(m.params.textarea) : m.container.find('textarea');\r\n        \r\n            // Is In Page\r\n            m.pageContainer = m.container.parents('.page').eq(0);\r\n            m.pageContent = m.pageContainer.find('.page-content');\r\n        \r\n            // Initial Sizes\r\n            m.pageContentPadding = parseInt(m.pageContent.css('padding-bottom'));\r\n            m.initialBarHeight = m.container[0].offsetHeight;\r\n            m.initialAreaHeight = m.textarea[0].offsetHeight;\r\n            \r\n        \r\n            // Resize textarea\r\n            m.sizeTextarea = function () {\r\n                // Reset\r\n                m.textarea.css({'height': ''});\r\n                \r\n                var height = m.textarea[0].offsetHeight;\r\n                var diff = height - m.textarea[0].clientHeight;\r\n                var scrollHeight = m.textarea[0].scrollHeight;\r\n        \r\n                // Update\r\n                if (scrollHeight + diff > height) {\r\n                    var newAreaHeight = scrollHeight + diff;\r\n                    var newBarHeight = m.initialBarHeight + (newAreaHeight - m.initialAreaHeight);\r\n                    var maxBarHeight = m.params.maxHeight || m.container.parents('.view')[0].offsetHeight - 88;\r\n                    if (newBarHeight > maxBarHeight) {\r\n                        newBarHeight = parseInt(maxBarHeight, 10);\r\n                        newAreaHeight = newBarHeight - m.initialBarHeight + m.initialAreaHeight;\r\n                    }\r\n                    m.textarea.css('height', newAreaHeight + 'px');\r\n                    m.container.css('height', newBarHeight + 'px');\r\n                    var onBottom = (m.pageContent[0].scrollTop === m.pageContent[0].scrollHeight - m.pageContent[0].offsetHeight);\r\n                    if (m.pageContent.length > 0) {\r\n                        m.pageContent.css('padding-bottom', newBarHeight + 'px');\r\n                        if (m.pageContent.find('.messages-new-first').length === 0 && onBottom) {\r\n                            m.pageContent.scrollTop(m.pageContent[0].scrollHeight - m.pageContent[0].offsetHeight);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (m.pageContent.length > 0) {\r\n                        m.container.css({'height': '', 'bottom': ''});\r\n                        m.pageContent.css({'padding-bottom': ''});\r\n                    }\r\n                }\r\n            };\r\n            \r\n            // Clear\r\n            m.clear = function () {\r\n                m.textarea.val('').trigger('change');\r\n            };\r\n            m.value = function (value) {\r\n                if (typeof value === 'undefined') return m.textarea.val();\r\n                else m.textarea.val(value).trigger('change');  \r\n            };\r\n            \r\n            // Handle textarea\r\n            m.textareaTimeout = undefined;\r\n            m.handleTextarea = function (e) {\r\n                clearTimeout(m.textareaTimeout);\r\n                m.textareaTimeout = setTimeout(function () {\r\n                    m.sizeTextarea();\r\n                }, 0);\r\n            };\r\n        \r\n            //Events\r\n            function preventSubmit(e) {\r\n                e.preventDefault();\r\n            }\r\n        \r\n            m.attachEvents = function (destroy) {\r\n                var method = destroy ? 'off' : 'on';\r\n                m.container[method]('submit', preventSubmit);\r\n                m.textarea[method]('change keydown keypress keyup paste cut', m.handleTextarea);\r\n            };\r\n            m.detachEvents = function () {\r\n                m.attachEvents(true);\r\n            };\r\n            \r\n            // Init Destroy\r\n            m.init = function () {\r\n                m.attachEvents();\r\n            };\r\n            m.destroy = function () {\r\n                m.detachEvents();\r\n                m = null;\r\n            };\r\n        \r\n            // Init\r\n            m.init();\r\n        \r\n            m.container[0].f7Messagebar = m;\r\n            return m;\r\n        };\r\n        app.messagebar = function (container, params) {\r\n            return new Messagebar(container, params);\r\n        };\r\n        app.initPageMessagebar = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var messagebar = pageContainer.hasClass('messagebar') ? pageContainer : pageContainer.find('.messagebar');\r\n            if (messagebar.length === 0) return;\r\n            if (!messagebar.hasClass('messagebar-init')) return;\r\n            var mb = app.messagebar(messagebar, messagebar.dataset());\r\n        \r\n            // Destroy on page remove\r\n            function pageBeforeRemove() {\r\n                mb.destroy();\r\n                pageContainer.off('page:beforeremove', pageBeforeRemove);\r\n            }\r\n            if (pageContainer.hasClass('page')) {\r\n                pageContainer.on('page:beforeremove', pageBeforeRemove);\r\n            }\r\n        };\n\n        /*======================================================\r\n        ************   XHR   ************\r\n        ======================================================*/\r\n        // XHR Caching\r\n        app.cache = [];\r\n        app.removeFromCache = function (url) {\r\n            var index = false;\r\n            for (var i = 0; i < app.cache.length; i++) {\r\n                if (app.cache[i].url === url) index = i;\r\n            }\r\n            if (index !== false) app.cache.splice(index, 1);\r\n        };\r\n        \r\n        // XHR\r\n        app.xhr = false;\r\n        app.get = function (url, view, ignoreCache, callback) {\r\n            // should we ignore get params or not\r\n            var _url = url;\r\n            if (app.params.cacheIgnoreGetParameters && url.indexOf('?') >= 0) {\r\n                _url = url.split('?')[0];\r\n            }\r\n            if (app.params.cache && !ignoreCache && url.indexOf('nocache') < 0 && app.params.cacheIgnore.indexOf(_url) < 0) {\r\n                // Check is the url cached\r\n                for (var i = 0; i < app.cache.length; i++) {\r\n                    if (app.cache[i].url === _url) {\r\n                        // Check expiration\r\n                        if ((new Date()).getTime() - app.cache[i].time < app.params.cacheDuration) {\r\n                            // Load from cache\r\n                            callback(app.cache[i].content);\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        \r\n            app.xhr = $.ajax({\r\n                url: url,\r\n                method: 'GET',\r\n                beforeSend: app.params.onAjaxStart,\r\n                complete: function (xhr) {\r\n                    if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 0) {\r\n                        if (app.params.cache) {\r\n                            app.removeFromCache(_url);\r\n                            app.cache.push({\r\n                                url: _url,\r\n                                time: (new Date()).getTime(),\r\n                                content: xhr.responseText\r\n                            });\r\n                        }\r\n                        callback(xhr.responseText, false);\r\n                    }\r\n                    else {\r\n                        callback(xhr.responseText, true);\r\n                    }\r\n                    if (app.params.onAjaxComplete) app.params.onAjaxComplete(xhr);\r\n                },\r\n                error: function (xhr) {\r\n                    callback(xhr.responseText, true);\r\n                    if (app.params.onAjaxError) app.params.onAjaxError(xhr);\r\n                }\r\n            });\r\n            if (view) view.xhr = app.xhr;\r\n        \r\n            return app.xhr;\r\n        };\r\n        \n\n        /*======================================================\r\n        ************   Pages   ************\r\n        ======================================================*/\r\n        // Page Callbacks API\r\n        app.pageCallbacks = {};\r\n        \r\n        app.onPage = function (callbackName, pageName, callback) {\r\n            if (pageName && pageName.split(' ').length > 1) {\r\n                var pageNames = pageName.split(' ');\r\n                var returnCallbacks = [];\r\n                for (var i = 0; i < pageNames.length; i++) {\r\n                    returnCallbacks.push(app.onPage(callbackName, pageNames[i], callback));\r\n                }\r\n                returnCallbacks.remove = function () {\r\n                    for (var i = 0; i < returnCallbacks.length; i++) {\r\n                        returnCallbacks[i].remove();\r\n                    }\r\n                };\r\n                returnCallbacks.trigger = function () {\r\n                    for (var i = 0; i < returnCallbacks.length; i++) {\r\n                        returnCallbacks[i].trigger();\r\n                    }\r\n                };\r\n                return returnCallbacks;\r\n            }\r\n            var callbacks = app.pageCallbacks[callbackName][pageName];\r\n            if (!callbacks) {\r\n                callbacks = app.pageCallbacks[callbackName][pageName] = [];\r\n            }\r\n            app.pageCallbacks[callbackName][pageName].push(callback);\r\n            return {\r\n                remove: function () {\r\n                    var removeIndex;\r\n                    for (var i = 0; i < callbacks.length; i++) {\r\n                        if (callbacks[i].toString() === callback.toString()) {\r\n                            removeIndex = i;\r\n                        }\r\n                    }\r\n                    if (typeof removeIndex !== 'undefined') callbacks.splice(removeIndex, 1);\r\n                },\r\n                trigger: callback\r\n            };\r\n        };\r\n        \r\n        //Create callbacks methods dynamically\r\n        function createPageCallback(callbackName) {\r\n            var capitalized = callbackName.replace(/^./, function (match) {\r\n                return match.toUpperCase();\r\n            });\r\n            app['onPage' + capitalized] = function (pageName, callback) {\r\n                return app.onPage(callbackName, pageName, callback);\r\n            };\r\n        }\r\n        \r\n        var pageCallbacksNames = ('beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove').split(' ');\r\n        for (var i = 0; i < pageCallbacksNames.length; i++) {\r\n            app.pageCallbacks[pageCallbacksNames[i]] = {};\r\n            createPageCallback(pageCallbacksNames[i]);\r\n        }\r\n        \r\n        app.triggerPageCallbacks = function (callbackName, pageName, pageData) {\r\n            var allPagesCallbacks = app.pageCallbacks[callbackName]['*'];\r\n            if (allPagesCallbacks) {\r\n                for (var j = 0; j < allPagesCallbacks.length; j++) {\r\n                    allPagesCallbacks[j](pageData);\r\n                }\r\n            }\r\n            var callbacks = app.pageCallbacks[callbackName][pageName];\r\n            if (!callbacks || callbacks.length === 0) return;\r\n            for (var i = 0; i < callbacks.length; i++) {\r\n                callbacks[i](pageData);\r\n            }\r\n        };\r\n        \r\n        // On Page Init Callback\r\n        app.pageInitCallback = function (view, params) {\r\n            var pageContainer = params.pageContainer;\r\n            if (!pageContainer) return;\r\n            if (pageContainer.f7PageInitialized && view && !view.params.domCache) return;\r\n        \r\n            var pageQuery = params.query;\r\n            if (!pageQuery) {\r\n                if (params.url && params.url.indexOf('?') > 0) {\r\n                    pageQuery = $.parseUrlQuery(params.url || '');\r\n                }\r\n                else if (pageContainer.f7PageData && pageContainer.f7PageData.query) {\r\n                    pageQuery = pageContainer.f7PageData.query;\r\n                }\r\n                else {\r\n                    pageQuery = {};\r\n                }\r\n            }\r\n        \r\n            // Page Data\r\n            var pageData = {\r\n                container: pageContainer,\r\n                url: params.url,\r\n                query: pageQuery,\r\n                name: $(pageContainer).attr('data-page'),\r\n                view: view,\r\n                from: params.position,\r\n                context: params.context,\r\n                navbarInnerContainer: params.navbarInnerContainer,\r\n                fromPage: params.fromPage\r\n            };\r\n            if (params.fromPage && !params.fromPage.navbarInnerContainer && params.oldNavbarInnerContainer) {\r\n                params.fromPage.navbarInnerContainer = params.oldNavbarInnerContainer;\r\n            }\r\n        \r\n            if (pageContainer.f7PageInitialized && ((view && view.params.domCache) || (!view && $(pageContainer).parents('.popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal').length > 0))) {\r\n                // Reinit Page\r\n                app.reinitPage(pageContainer);\r\n        \r\n                // Callbacks\r\n                app.pluginHook('pageReinit', pageData);\r\n                if (app.params.onPageReinit) app.params.onPageReinit(app, pageData);\r\n                app.triggerPageCallbacks('reinit', pageData.name, pageData);\r\n                $(pageData.container).trigger('pageReinit page:reinit', {page: pageData});\r\n                return;\r\n            }\r\n            pageContainer.f7PageInitialized = true;\r\n        \r\n            // Store pagedata in page\r\n            pageContainer.f7PageData = pageData;\r\n        \r\n            // Update View's activePage\r\n            if (view && !params.preloadOnly && !params.reloadPrevious) {\r\n                // Add data-page on view\r\n                $(view.container).attr('data-page', pageData.name);\r\n                // Update View active page data\r\n                view.activePage = pageData;\r\n            }\r\n        \r\n            // Before Init Callbacks\r\n            app.pluginHook('pageBeforeInit', pageData);\r\n            if (app.params.onPageBeforeInit) app.params.onPageBeforeInit(app, pageData);\r\n            app.triggerPageCallbacks('beforeInit', pageData.name, pageData);\r\n            $(pageData.container).trigger('pageBeforeInit page:beforeinit', {page: pageData});\r\n        \r\n            // Init page\r\n            app.initPage(pageContainer);\r\n        \r\n            // Init Callback\r\n            app.pluginHook('pageInit', pageData);\r\n            if (app.params.onPageInit) app.params.onPageInit(app, pageData);\r\n            app.triggerPageCallbacks('init', pageData.name, pageData);\r\n            $(pageData.container).trigger('pageInit page:init', {page: pageData});\r\n        };\r\n        app.pageRemoveCallback = function (view, pageContainer, position) {\r\n            var pageContext;\r\n            if (!pageContainer) return;\r\n            if (pageContainer.f7PageData) pageContext = pageContainer.f7PageData.context;\r\n            // Page Data\r\n            var pageData = {\r\n                container: pageContainer,\r\n                name: $(pageContainer).attr('data-page'),\r\n                view: view,\r\n                url: pageContainer.f7PageData && pageContainer.f7PageData.url,\r\n                query: pageContainer.f7PageData && pageContainer.f7PageData.query,\r\n                navbarInnerContainer: pageContainer.f7PageData && pageContainer.f7PageData.navbarInnerContainer,\r\n                from: position,\r\n                context: pageContext\r\n            };\r\n            // Before Init Callback\r\n            app.pluginHook('pageBeforeRemove', pageData);\r\n            if (app.params.onPageBeforeRemove) app.params.onPageBeforeRemove(app, pageData);\r\n            app.triggerPageCallbacks('beforeRemove', pageData.name, pageData);\r\n            $(pageData.container).trigger('pageBeforeRemove page:beforeremove', {page: pageData});\r\n            pageData = null;\r\n        };\r\n        app.pageBackCallback = function (callback, view, params) {\r\n            // Page Data\r\n            var pageContainer = params.pageContainer;\r\n            var pageContext;\r\n            if (!pageContainer) return;\r\n            if (pageContainer.f7PageData) pageContext = pageContainer.f7PageData.context;\r\n        \r\n            var pageData = {\r\n                container: pageContainer,\r\n                name: $(pageContainer).attr('data-page'),\r\n                url: pageContainer.f7PageData && pageContainer.f7PageData.url,\r\n                query: pageContainer.f7PageData && pageContainer.f7PageData.query,\r\n                view: view,\r\n                from: params.position,\r\n                context: pageContext,\r\n                navbarInnerContainer: pageContainer.f7PageData && pageContainer.f7PageData.navbarInnerContainer,\r\n                swipeBack: params.swipeBack\r\n            };\r\n        \r\n            if (callback === 'after') {\r\n                app.pluginHook('pageAfterBack', pageData);\r\n                if (app.params.onPageAfterBack) app.params.onPageAfterBack(app, pageData);\r\n                app.triggerPageCallbacks('afterBack', pageData.name, pageData);\r\n                $(pageContainer).trigger('pageAfterBack page:afterback', {page: pageData});\r\n        \r\n            }\r\n            if (callback === 'before') {\r\n                app.pluginHook('pageBack', pageData);\r\n                if (app.params.onPageBack) app.params.onPageBack(app, pageData);\r\n                app.triggerPageCallbacks('back', pageData.name, pageData);\r\n                $(pageData.container).trigger('pageBack page:back', {page: pageData});\r\n            }\r\n        };\r\n        app.pageAnimCallback = function (callback, view, params) {\r\n            var pageContainer = params.pageContainer;\r\n            var pageContext;\r\n            if (!pageContainer) return;\r\n            if (pageContainer.f7PageData) pageContext = pageContainer.f7PageData.context;\r\n        \r\n            var pageQuery = params.query;\r\n            if (!pageQuery) {\r\n                if (params.url && params.url.indexOf('?') > 0) {\r\n                    pageQuery = $.parseUrlQuery(params.url || '');\r\n                }\r\n                else if (pageContainer.f7PageData && pageContainer.f7PageData.query) {\r\n                    pageQuery = pageContainer.f7PageData.query;\r\n                }\r\n                else {\r\n                    pageQuery = {};\r\n                }\r\n            }\r\n            // Page Data\r\n            var pageData = {\r\n                container: pageContainer,\r\n                url: params.url,\r\n                query: pageQuery,\r\n                name: $(pageContainer).attr('data-page'),\r\n                view: view,\r\n                from: params.position,\r\n                context: pageContext,\r\n                swipeBack: params.swipeBack,\r\n                navbarInnerContainer: pageContainer.f7PageData && pageContainer.f7PageData.navbarInnerContainer,\r\n                fromPage: params.fromPage\r\n            };\r\n            var oldPage = params.oldPage,\r\n                newPage = params.newPage;\r\n        \r\n            // Update page date\r\n            pageContainer.f7PageData = pageData;\r\n        \r\n            if (callback === 'after') {\r\n                app.pluginHook('pageAfterAnimation', pageData);\r\n                if (app.params.onPageAfterAnimation) app.params.onPageAfterAnimation(app, pageData);\r\n                app.triggerPageCallbacks('afterAnimation', pageData.name, pageData);\r\n                $(pageData.container).trigger('pageAfterAnimation page:afteranimation', {page: pageData});\r\n        \r\n            }\r\n            if (callback === 'before') {\r\n                // Add data-page on view\r\n                $(view.container).attr('data-page', pageData.name);\r\n        \r\n                // Update View's activePage\r\n                if (view) view.activePage = pageData;\r\n        \r\n                // Hide/show navbar dynamically\r\n                if (newPage.hasClass('no-navbar') && !oldPage.hasClass('no-navbar')) {\r\n                    view.hideNavbar();\r\n                }\r\n                if (!newPage.hasClass('no-navbar') && (oldPage.hasClass('no-navbar') || oldPage.hasClass('no-navbar-by-scroll'))) {\r\n                    view.showNavbar();\r\n                }\r\n                // Hide/show navbar toolbar\r\n                if (newPage.hasClass('no-toolbar') && !oldPage.hasClass('no-toolbar')) {\r\n                    view.hideToolbar();\r\n                }\r\n                if (!newPage.hasClass('no-toolbar') && (oldPage.hasClass('no-toolbar') || oldPage.hasClass('no-toolbar-by-scroll'))) {\r\n                    view.showToolbar();\r\n                }\r\n                // Hide/show tabbar\r\n                var tabBar;\r\n                if (newPage.hasClass('no-tabbar') && !oldPage.hasClass('no-tabbar')) {\r\n                    tabBar = $(view.container).find('.tabbar');\r\n                    if (tabBar.length === 0) tabBar = $(view.container).parents('.' + app.params.viewsClass).find('.tabbar');\r\n                    app.hideToolbar(tabBar);\r\n                }\r\n                if (!newPage.hasClass('no-tabbar') && (oldPage.hasClass('no-tabbar') || oldPage.hasClass('no-tabbar-by-scroll'))) {\r\n                    tabBar = $(view.container).find('.tabbar');\r\n                    if (tabBar.length === 0) tabBar = $(view.container).parents('.' + app.params.viewsClass).find('.tabbar');\r\n                    app.showToolbar(tabBar);\r\n                }\r\n        \r\n                oldPage.removeClass('no-navbar-by-scroll no-toolbar-by-scroll');\r\n                // Callbacks\r\n                app.pluginHook('pageBeforeAnimation', pageData);\r\n                if (app.params.onPageBeforeAnimation) app.params.onPageBeforeAnimation(app, pageData);\r\n                app.triggerPageCallbacks('beforeAnimation', pageData.name, pageData);\r\n                $(pageData.container).trigger('pageBeforeAnimation page:beforeanimation', {page: pageData});\r\n            }\r\n        };\r\n        \r\n        // Init Page Events and Manipulations\r\n        app.initPage = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            if (pageContainer.length === 0) return;\r\n            // Size navbars on page load\r\n            if (app.sizeNavbars) app.sizeNavbars(pageContainer.parents('.' + app.params.viewClass)[0]);\r\n            // Init messages\r\n            if (app.initPageMessages) app.initPageMessages(pageContainer);\r\n            // Init forms storage\r\n            if (app.initFormsStorage) app.initFormsStorage(pageContainer);\r\n            // Init smart select\r\n            if (app.initSmartSelects) app.initSmartSelects(pageContainer);\r\n            // Init slider\r\n            if (app.initPageSwiper) app.initPageSwiper(pageContainer);\r\n            // Init pull to refres\r\n            if (app.initPullToRefresh) app.initPullToRefresh(pageContainer);\r\n            // Init infinite scroll\r\n            if (app.initPageInfiniteScroll) app.initPageInfiniteScroll(pageContainer);\r\n            // Init searchbar\r\n            if (app.initSearchbar) app.initSearchbar(pageContainer);\r\n            // Init message bar\r\n            if (app.initPageMessagebar) app.initPageMessagebar(pageContainer);\r\n            // Init scroll toolbars\r\n            if (app.initPageScrollToolbars) app.initPageScrollToolbars(pageContainer);\r\n            // Init lazy images\r\n            if (app.initImagesLazyLoad) app.initImagesLazyLoad(pageContainer);\r\n            // Init progress bars\r\n            if (app.initPageProgressbar) app.initPageProgressbar(pageContainer);\r\n            // Init resizeable textareas\r\n            if (app.initPageResizableTextarea) app.initPageResizableTextarea(pageContainer);\r\n            // Init Material Preloader\r\n            if (app.params.material && app.initPageMaterialPreloader) app.initPageMaterialPreloader(pageContainer);\r\n            // Init Material Inputs\r\n            if (app.params.material && app.initPageMaterialInputs) app.initPageMaterialInputs(pageContainer);\r\n            // Init Material Tabbar\r\n            if (app.params.material && app.initPageMaterialTabbar) app.initPageMaterialTabbar(pageContainer);\r\n        };\r\n        app.reinitPage = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            if (pageContainer.length === 0) return;\r\n            // Size navbars on page reinit\r\n            if (app.sizeNavbars) app.sizeNavbars(pageContainer.parents('.' + app.params.viewClass)[0]);\r\n            // Reinit slider\r\n            if (app.reinitPageSwiper) app.reinitPageSwiper(pageContainer);\r\n            // Reinit lazy load\r\n            if (app.reinitLazyLoad) app.reinitLazyLoad(pageContainer);\r\n        };\r\n        app.initPageWithCallback = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var viewContainer = pageContainer.parents('.' + app.params.viewClass);\r\n            if (viewContainer.length === 0) return;\r\n            var view = viewContainer[0].f7View || undefined;\r\n            var url = view && view.url ? view.url : undefined;\r\n            if (viewContainer && pageContainer.attr('data-page')) {\r\n                viewContainer.attr('data-page', pageContainer.attr('data-page'));\r\n            }\r\n            app.pageInitCallback(view, {pageContainer: pageContainer[0], url: url, position: 'center'});\r\n        };\n\n        /*======================================================\r\n        ************   Navigation / Router   ************\r\n        ======================================================*/\r\n        app.router = {\r\n            _remove: function (el) {\r\n                if (app.params.routerRemoveTimeout || app.params.routerRemoveWithTimeout) {\r\n                    setTimeout(function () {\r\n                        $(el).remove();\r\n                    }, 0);\r\n                }\r\n                else $(el).remove();\r\n            },\r\n            // Temporary DOM Element\r\n            temporaryDom: document.createElement('div'),\r\n        \r\n            // Find page or navbar in passed container which are related to View\r\n            findElement: function (selector, container, view, notCached) {\r\n                container = $(container);\r\n                if (notCached) selector = selector + ':not(.cached)';\r\n                var found = container.find(selector);\r\n                if (found.length > 1) {\r\n                    if (typeof view.selector === 'string') {\r\n                        // Search in related view\r\n                        found = container.find(view.selector + ' ' + selector);\r\n                    }\r\n                    if (found.length > 1) {\r\n                        // Search in main view\r\n                        found = container.find('.' + app.params.viewMainClass + ' ' + selector);\r\n                    }\r\n                }\r\n                if (found.length === 1) return found;\r\n                else {\r\n                    // Try to find non cached\r\n                    if (!notCached) found = app.router.findElement(selector, container, view, true);\r\n                    if (found && found.length === 1) return found;\r\n                    if (found && found.length > 1) return $(found[0]);\r\n                    else return undefined;\r\n                }\r\n            },\r\n        \r\n            // Set pages classes for animationEnd\r\n            animatePages: function (leftPage, rightPage, direction) {\r\n                // Loading new page\r\n                var removeClasses = 'page-on-center page-on-right page-on-left';\r\n                if (direction === 'to-left') {\r\n                    leftPage.removeClass(removeClasses).addClass('page-from-center-to-left');\r\n                    rightPage.removeClass(removeClasses).addClass('page-from-right-to-center');\r\n                }\r\n                // Go back\r\n                if (direction === 'to-right') {\r\n                    leftPage.removeClass(removeClasses).addClass('page-from-left-to-center');\r\n                    rightPage.removeClass(removeClasses).addClass('page-from-center-to-right');\r\n        \r\n                }\r\n            },\r\n        \r\n            // Prepare navbar before animarion\r\n            prepareNavbar: function (newNavbarInner, oldNavbarInner, newNavbarPosition) {\r\n                $(newNavbarInner).find('.sliding').each(function () {\r\n                    var sliding = $(this);\r\n                    var slidingOffset = newNavbarPosition === 'right' ? this.f7NavbarRightOffset : this.f7NavbarLeftOffset;\r\n        \r\n                    if (app.params.animateNavBackIcon) {\r\n                        if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\r\n                            sliding.find('.back .icon').transform('translate3d(' + (-slidingOffset) + 'px,0,0)');\r\n                        }\r\n                    }\r\n                    sliding.transform('translate3d(' + slidingOffset + 'px,0,0)');\r\n                });\r\n            },\r\n        \r\n            // Set navbars classes for animation\r\n            animateNavbars: function (leftNavbarInner, rightNavbarInner, direction) {\r\n                // Loading new page\r\n                var removeClasses = 'navbar-on-right navbar-on-center navbar-on-left';\r\n                if (direction === 'to-left') {\r\n                    rightNavbarInner.removeClass(removeClasses).addClass('navbar-from-right-to-center');\r\n                    rightNavbarInner.find('.sliding').each(function () {\r\n                        var sliding = $(this);\r\n                        sliding.transform('translate3d(0px,0,0)');\r\n                        if (app.params.animateNavBackIcon) {\r\n                            if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\r\n                                sliding.find('.back .icon').transform('translate3d(0px,0,0)');\r\n                            }\r\n                        }\r\n                    });\r\n        \r\n                    leftNavbarInner.removeClass(removeClasses).addClass('navbar-from-center-to-left');\r\n                    leftNavbarInner.find('.sliding').each(function () {\r\n                        var sliding = $(this);\r\n                        var rightText;\r\n                        if (app.params.animateNavBackIcon) {\r\n                            if (sliding.hasClass('center') && rightNavbarInner.find('.sliding.left .back .icon').length > 0) {\r\n                                rightText = rightNavbarInner.find('.sliding.left .back span');\r\n                                if (rightText.length > 0) this.f7NavbarLeftOffset += rightText[0].offsetLeft;\r\n                            }\r\n                            if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\r\n                                sliding.find('.back .icon').transform('translate3d(' + (-this.f7NavbarLeftOffset) + 'px,0,0)');\r\n                            }\r\n                        }\r\n                        sliding.transform('translate3d(' + (this.f7NavbarLeftOffset) + 'px,0,0)');\r\n                    });\r\n                }\r\n                // Go back\r\n                if (direction === 'to-right') {\r\n                    leftNavbarInner.removeClass(removeClasses).addClass('navbar-from-left-to-center');\r\n                    leftNavbarInner.find('.sliding').each(function () {\r\n                        var sliding = $(this);\r\n                        sliding.transform('translate3d(0px,0,0)');\r\n                        if (app.params.animateNavBackIcon) {\r\n                            if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\r\n                                sliding.find('.back .icon').transform('translate3d(0px,0,0)');\r\n                            }\r\n                        }\r\n                    });\r\n        \r\n                    rightNavbarInner.removeClass(removeClasses).addClass('navbar-from-center-to-right');\r\n                    rightNavbarInner.find('.sliding').each(function () {\r\n                        var sliding = $(this);\r\n                        if (app.params.animateNavBackIcon) {\r\n                            if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\r\n                                sliding.find('.back .icon').transform('translate3d(' + (-this.f7NavbarRightOffset) + 'px,0,0)');\r\n                            }\r\n                        }\r\n                        sliding.transform('translate3d(' + (this.f7NavbarRightOffset) + 'px,0,0)');\r\n                    });\r\n                }\r\n            },\r\n        \r\n            preprocess: function(view, content, url, next) {\r\n                // Plugin hook\r\n                app.pluginHook('routerPreprocess', view, content, url, next);\r\n        \r\n                // Preprocess by plugin\r\n                content = app.pluginProcess('preprocess', content);\r\n        \r\n                if (view && view.params && view.params.preprocess) {\r\n                    content = view.params.preprocess(content, url, next);\r\n                    if (typeof content !== 'undefined') {\r\n                        next(content);\r\n                    }\r\n                }\r\n                else if (app.params.preprocess) {\r\n                    content = app.params.preprocess(content, url, next);\r\n                    if (typeof content !== 'undefined') {\r\n                        next(content);\r\n                    }\r\n                }\r\n                else {\r\n                    next(content);\r\n                }\r\n            },\r\n            preroute: function(view, options, isBack) {\r\n                if (isBack) options.isBack = true;\r\n                app.pluginHook('routerPreroute', view, options);\r\n                if ((app.params.preroute && app.params.preroute(view, options) === false) || (view && view.params.preroute && view.params.preroute(view, options) === false)) {\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            },\r\n        \r\n            template7Render: function (view, options) {\r\n                var url = options.url,\r\n                    content = options.content, //initial content\r\n                    t7_rendered_content = options.content, // will be rendered using Template7\r\n                    context = options.context, // Context data for Template7\r\n                    contextName = options.contextName,\r\n                    template = options.template; // Template 7 compiled template\r\n        \r\n                var t7_ctx, t7_template;\r\n                if (typeof content === 'string') {\r\n                    if (url) {\r\n                        if (app.template7Cache[url] && !options.ignoreCache) t7_template = t7.cache[url];\r\n                        else {\r\n                            t7_template = t7.compile(content);\r\n                            t7.cache[url] = t7_template;\r\n                        }\r\n                    }\r\n                    else t7_template = t7.compile(content);\r\n                }\r\n                else if (template) {\r\n                    t7_template = template;\r\n                }\r\n        \r\n                if (context) {\r\n                    t7_ctx = context;\r\n                    if (context && url) {\r\n                        view.contextCache[url] = context;\r\n                    }\r\n                }\r\n                else {\r\n                    if (contextName) {\r\n                        if (contextName.indexOf('.') >= 0) {\r\n                            var _ctx_path = contextName.split('.');\r\n                            var _ctx = t7.data[_ctx_path[0]];\r\n                            for (var i = 1; i < _ctx_path.length; i++) {\r\n                                if (_ctx_path[i]) _ctx = _ctx[_ctx_path[i]];\r\n                            }\r\n                            t7_ctx = _ctx;\r\n                        }\r\n                        else t7_ctx = t7.data[contextName];\r\n                    }\r\n                    if (!t7_ctx && url) {\r\n                        t7_ctx = t7.data['url:' + url];\r\n                    }\r\n                    if (!t7_ctx && typeof content === 'string' && !template) {\r\n                        //try to find by page name in content\r\n                        var pageNameMatch = content.match(/(data-page=[\"'][^\"^']*[\"'])/);\r\n                        if (pageNameMatch) {\r\n                            var page = pageNameMatch[0].split('data-page=')[1].replace(/['\"]/g, '');\r\n                            if (page) t7_ctx = t7.data['page:' + page];\r\n                        }\r\n                    }\r\n                    if (!t7_ctx && template && t7.templates) {\r\n                        // Try to find matched template name in t7.templates\r\n                        for (var templateName in t7.templates) {\r\n                            if (t7.templates[templateName] === template) t7_ctx = t7.data[templateName];\r\n                        }\r\n                    }\r\n                    if (!t7_ctx && url && url in view.contextCache) {\r\n                        t7_ctx = view.contextCache[url];\r\n                    }\r\n                    if (!t7_ctx) {\r\n                        t7_ctx = {};\r\n                    }\r\n                }\r\n        \r\n                if (t7_template && t7_ctx) {\r\n                    if (typeof t7_ctx === 'function') t7_ctx = t7_ctx();\r\n                    if (url) {\r\n                        // Extend data with URL query\r\n                        var query = $.parseUrlQuery(url);\r\n                        t7_ctx.url_query = {};\r\n                        for (var key in query) {\r\n                            t7_ctx.url_query[key] = query[key];\r\n                        }\r\n                    }\r\n                    try {\r\n                        t7_rendered_content = t7_template(t7_ctx);\r\n                    }\r\n                    catch (e) {\r\n                        t7_rendered_content = '';\r\n                        if (window.console && window.console.error) {\r\n                            console.error(e);\r\n                        }\r\n                    }\r\n                }\r\n        \r\n                return {content: t7_rendered_content, context: t7_ctx};\r\n            }\r\n        };\r\n        \r\n        \r\n        app.router._load = function (view, options) {\r\n        \r\n            var url = options.url,\r\n                content = options.content, //initial content\r\n                t7_rendered = {content: options.content},\r\n                template = options.template, // Template 7 compiled template\r\n                pageName = options.pageName,\r\n                viewContainer = $(view.container),\r\n                pagesContainer = $(view.pagesContainer),\r\n                animatePages = options.animatePages,\r\n                newPage, oldPage, pagesInView, i, oldNavbarInner, newNavbarInner, navbar, dynamicNavbar, reloadPosition,\r\n                isDynamicPage = typeof url === 'undefined' && content || template,\r\n                pushState = options.pushState,\r\n                pageElement = options.pageElement;\r\n        \r\n            if (typeof animatePages === 'undefined') animatePages = view.params.animatePages;\r\n            // Plugin hook\r\n            app.pluginHook('routerLoad', view, options);\r\n        \r\n            // Render with Template7\r\n            if (app.params.template7Pages && typeof content === 'string' || template) {\r\n                t7_rendered = app.router.template7Render(view, options);\r\n                if (t7_rendered.content && !content) {\r\n                    content = t7_rendered.content;\r\n                }\r\n            }\r\n        \r\n            app.router.temporaryDom.innerHTML = '';\r\n        \r\n            // Parse DOM\r\n            if (!pageName && !pageElement) {\r\n                if ((typeof content === 'string') || (url && (typeof content === 'string'))) {\r\n                    app.router.temporaryDom.innerHTML = t7_rendered.content;\r\n                } else {\r\n                    if ('length' in content && content.length > 1) {\r\n                        for (var ci = 0; ci < content.length; ci++) {\r\n                            $(app.router.temporaryDom).append(content[ci]);\r\n                        }\r\n                    } else {\r\n                        $(app.router.temporaryDom).append(content);\r\n                    }\r\n                }\r\n            }\r\n        \r\n            // Reload position\r\n            reloadPosition = options.reload && (options.reloadPrevious ? 'left' : 'center');\r\n        \r\n            // Find new page\r\n            if (pageName) newPage = pagesContainer.find('.page[data-page=\"' + pageName + '\"]');\r\n            else {\r\n                if (pageElement) newPage = $(pageElement);\r\n                else newPage = app.router.findElement('.page', app.router.temporaryDom, view);\r\n            }\r\n        \r\n            // If page not found exit\r\n            if (!newPage || newPage.length === 0 || (pageName && view.activePage && view.activePage.name === pageName)) {\r\n                view.allowPageChange = true;\r\n                return;\r\n            }\r\n        \r\n            newPage.addClass(options.reload ? 'page-on-' + reloadPosition : 'page-on-right');\r\n        \r\n            // Find old page (should be the last one) and remove older pages\r\n            pagesInView = pagesContainer.children('.page:not(.cached)');\r\n            if (pageElement) {\r\n                pagesInView = pagesInView.filter(function (index, page) {\r\n                    if (page !== pageElement) return page;\r\n                });\r\n            }\r\n        \r\n            if (options.reload && options.reloadPrevious && pagesInView.length === 1)  {\r\n                view.allowPageChange = true;\r\n                return;\r\n            }\r\n        \r\n            if (options.reload) {\r\n                oldPage = pagesInView.eq(pagesInView.length - 1);\r\n            }\r\n            else {\r\n                if (pagesInView.length > 1) {\r\n                    for (i = 0; i < pagesInView.length - 2; i++) {\r\n                        if (!view.params.domCache) {\r\n                            app.pageRemoveCallback(view, pagesInView[i], 'left');\r\n                            app.router._remove(pagesInView[i]);\r\n                        }\r\n                        else {\r\n                            $(pagesInView[i]).addClass('cached');\r\n                        }\r\n                    }\r\n                    if (!view.params.domCache) {\r\n                        app.pageRemoveCallback(view, pagesInView[i], 'left');\r\n                        app.router._remove(pagesInView[i]);\r\n                    }\r\n                    else {\r\n                        $(pagesInView[i]).addClass('cached');\r\n                    }\r\n                }\r\n                oldPage = pagesContainer.children('.page:not(.cached)');\r\n            }\r\n            if (pageElement && oldPage.length > 1) {\r\n                oldPage = oldPage.filter(function (index, page) {\r\n                    if (page !== pageElement) return page;\r\n                });\r\n            }\r\n            if(view.params.domCache || pageElement) newPage.removeClass('cached');\r\n        \r\n            // Dynamic navbar\r\n            if (view.params.dynamicNavbar) {\r\n                dynamicNavbar = true;\r\n                // Find navbar\r\n                if (pageName) {\r\n                    newNavbarInner = viewContainer.find('.navbar-inner[data-page=\"' + pageName + '\"]');\r\n                }\r\n                else {\r\n                    newNavbarInner = app.router.findElement('.navbar-inner', app.router.temporaryDom, view);\r\n                }\r\n                if (!newNavbarInner || newNavbarInner.length === 0) {\r\n                    // Look in page\r\n                    newNavbarInner = newPage.find('.navbar-inner');\r\n                    if (!newNavbarInner || newNavbarInner.length === 0) {\r\n                        // Set false\r\n                        dynamicNavbar = false;\r\n                    }\r\n                    else {\r\n                        if (newNavbarInner.parent('.navbar').length > 0) {\r\n                            newNavbarInner.prependTo(newPage);\r\n                        }\r\n                    }\r\n                }\r\n                if (dynamicNavbar && newPage.find('.navbar').length > 0) {\r\n                    app.router._remove(newPage.find('.navbar'));\r\n                }\r\n                navbar = viewContainer.children('.navbar');\r\n                if (options.reload) {\r\n                    oldNavbarInner = navbar.find('.navbar-inner:not(.cached):last-child');\r\n                }\r\n                else {\r\n                    oldNavbarInner = navbar.find('.navbar-inner:not(.cached)');\r\n        \r\n                    if (oldNavbarInner.length > 0) {\r\n                        for (i = 0; i < oldNavbarInner.length - 1; i++) {\r\n                            if (!view.params.domCache) {\r\n                                app.navbarRemoveCallback(view, pagesInView[i], navbar[0], oldNavbarInner[i]);\r\n                                app.router._remove(oldNavbarInner[i]);\r\n                            }\r\n                            else\r\n                                $(oldNavbarInner[i]).addClass('cached');\r\n                        }\r\n                        if (!newNavbarInner && oldNavbarInner.length === 1) {\r\n                            if (!view.params.domCache) {\r\n                                app.navbarRemoveCallback(view, pagesInView[0], navbar[0], oldNavbarInner[0]);\r\n                                app.router._remove(oldNavbarInner[0]);\r\n                            }\r\n                            else\r\n                                $(oldNavbarInner[0]).addClass('cached');\r\n                        }\r\n                        oldNavbarInner = navbar.find('.navbar-inner:not(.cached)');\r\n                    }\r\n                }\r\n            }\r\n            if (dynamicNavbar) {\r\n                newNavbarInner.addClass(options.reload ? 'navbar-on-' + reloadPosition : 'navbar-on-right');\r\n                if(view.params.domCache || pageElement) newNavbarInner.removeClass('cached');\r\n                newPage[0].f7RelatedNavbar = newNavbarInner[0];\r\n                newNavbarInner[0].f7RelatedPage = newPage[0];\r\n            }\r\n        \r\n            // save content areas into view's cache\r\n            if (!url) {\r\n                var newPageName = pageName || newPage.attr('data-page');\r\n                if (isDynamicPage) url = '#' + app.params.dynamicPageUrl.replace(/{{name}}/g, newPageName).replace(/{{index}}/g, view.history.length - (options.reload ? 1 : 0));\r\n                else url = '#' + newPageName;\r\n                if (!view.params.domCache) {\r\n                    view.contentCache[url] = content;\r\n                }\r\n                if (view.params.domCache && pageName) {\r\n                    view.pagesCache[url] = pageName;\r\n                }\r\n            }\r\n            else if (url && pageElement) {\r\n                view.pageElementsCache[url] = {\r\n                    page: newPage,\r\n                    navbarInner: newNavbarInner\r\n                };\r\n            }\r\n        \r\n            // Push State\r\n            if (app.params.pushState && !options.reloadPrevious && view.main)  {\r\n                if (typeof pushState === 'undefined') pushState = true;\r\n                var pushStateRoot = app.params.pushStateRoot || '';\r\n                var method = options.reload ? 'replaceState' : 'pushState';\r\n                if (pushState) {\r\n                    if (!isDynamicPage && !pageName) {\r\n                        history[method]({url: url, viewIndex: app.views.indexOf(view)}, '', pushStateRoot + app.params.pushStateSeparator + url);\r\n                    }\r\n                    else if (isDynamicPage && content) {\r\n                        history[method]({content: typeof content === 'string' ? content : '', url: url, viewIndex: app.views.indexOf(view)}, '', pushStateRoot + app.params.pushStateSeparator + url);\r\n                    }\r\n                    else if (pageName) {\r\n                        history[method]({pageName: pageName, url: url, viewIndex: app.views.indexOf(view)}, '', pushStateRoot + app.params.pushStateSeparator + url);\r\n                    }\r\n                }\r\n            }\r\n        \r\n            // Update View history\r\n            view.url = url;\r\n            if (options.reload) {\r\n                var lastUrl = view.history[view.history.length - (options.reloadPrevious ? 2 : 1)];\r\n                if (lastUrl &&\r\n                    lastUrl.indexOf('#') === 0 &&\r\n                    lastUrl in view.contentCache &&\r\n                    lastUrl !== url &&\r\n                    view.history.indexOf(lastUrl) === -1) {\r\n                    view.contentCache[lastUrl] = null;\r\n                    delete view.contentCache[lastUrl];\r\n                }\r\n                else if (lastUrl &&\r\n                    lastUrl in view.pageElementsCache &&\r\n                    lastUrl !== url &&\r\n                    (view.history.indexOf(lastUrl) === -1 || view.history.indexOf(lastUrl) === view.history.length - 1)) {\r\n                    view.pageElementsCache[lastUrl] = null;\r\n                    delete view.pageElementsCache[lastUrl];\r\n                }\r\n                if (lastUrl &&\r\n                    lastUrl in view.contextCache &&\r\n                    lastUrl !== url &&\r\n                    (view.history.indexOf(lastUrl) === -1 || view.history.indexOf(lastUrl) === view.history.length - 1)) {\r\n                    view.contextCache[lastUrl] = null;\r\n                    delete view.contextCache[lastUrl];\r\n                }\r\n                view.history[view.history.length - (options.reloadPrevious ? 2 : 1)] = url;\r\n            }\r\n            else {\r\n                view.history.push(url);\r\n            }\r\n        \r\n            // Unique history\r\n            var historyBecameUnique = false;\r\n            if (view.params.uniqueHistory) {\r\n                var _history = view.history;\r\n                var _url = url;\r\n                if (view.params.uniqueHistoryIgnoreGetParameters) {\r\n                    _history = [];\r\n                    _url = url.split('?')[0];\r\n                    for (i = 0; i < view.history.length; i++) {\r\n                        _history.push(view.history[i].split('?')[0]);\r\n                    }\r\n                }\r\n        \r\n                if (_history.indexOf(_url) !== _history.lastIndexOf(_url)) {\r\n                    view.history = view.history.slice(0, _history.indexOf(_url));\r\n                    view.history.push(url);\r\n                    historyBecameUnique = true;\r\n                }\r\n            }\r\n            // Dom manipulations\r\n            if (options.reloadPrevious) {\r\n                oldPage = oldPage.prev('.page');\r\n                newPage.insertBefore(oldPage);\r\n                if (dynamicNavbar) {\r\n                    oldNavbarInner = oldNavbarInner.prev('.navbar-inner');\r\n                    newNavbarInner.insertAfter(oldNavbarInner);\r\n                }\r\n            }\r\n            else {\r\n                pagesContainer.append(newPage[0]);\r\n                if (dynamicNavbar) navbar.append(newNavbarInner[0]);\r\n            }\r\n            // Remove Old Page And Navbar\r\n            if (options.reload) {\r\n                if (view.params.domCache && view.initialPages.indexOf(oldPage[0]) >= 0) {\r\n                    oldPage.addClass('cached');\r\n                    if (dynamicNavbar) oldNavbarInner.addClass('cached');\r\n                }\r\n                else {\r\n                    app.pageRemoveCallback(view, oldPage[0], reloadPosition);\r\n                    if (dynamicNavbar) app.navbarRemoveCallback(view, oldPage[0], navbar[0], oldNavbarInner[0]);\r\n                    app.router._remove(oldPage);\r\n                    if (dynamicNavbar) app.router._remove(oldNavbarInner);\r\n                }\r\n            }\r\n        \r\n            // Page Init Events\r\n            app.pageInitCallback(view, {\r\n                pageContainer: newPage[0],\r\n                url: url,\r\n                position: options.reload ? reloadPosition : 'right',\r\n                navbarInnerContainer: dynamicNavbar ? newNavbarInner && newNavbarInner[0] : undefined,\r\n                oldNavbarInnerContainer: dynamicNavbar ? oldNavbarInner && oldNavbarInner[0] : undefined,\r\n                context: t7_rendered.context || options.context,\r\n                query: options.query,\r\n                fromPage: oldPage && oldPage.length && oldPage[0].f7PageData,\r\n                reload: options.reload,\r\n                reloadPrevious: options.reloadPrevious\r\n            });\r\n        \r\n            // Navbar init event\r\n            if (dynamicNavbar) {\r\n                app.navbarInitCallback(view, newPage[0], navbar[0], newNavbarInner[0], url, options.reload ? reloadPosition : 'right');\r\n            }\r\n        \r\n            if (options.reload) {\r\n                view.allowPageChange = true;\r\n                if (historyBecameUnique) view.refreshPreviousPage();\r\n                return;\r\n            }\r\n        \r\n            if (dynamicNavbar && animatePages) {\r\n                app.router.prepareNavbar(newNavbarInner, oldNavbarInner, 'right');\r\n            }\r\n            // Force reLayout\r\n            var clientLeft = newPage[0].clientLeft;\r\n        \r\n            // Before Anim Callback\r\n            app.pageAnimCallback('before', view, {\r\n                pageContainer: newPage[0],\r\n                url: url,\r\n                position: 'right',\r\n                oldPage: oldPage,\r\n                newPage: newPage,\r\n                query: options.query,\r\n                fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\r\n            });\r\n        \r\n            function afterAnimation() {\r\n                view.allowPageChange = true;\r\n                newPage.removeClass('page-from-right-to-center page-on-right page-on-left').addClass('page-on-center');\r\n                oldPage.removeClass('page-from-center-to-left page-on-center page-on-right').addClass('page-on-left');\r\n                if (dynamicNavbar) {\r\n                    newNavbarInner.removeClass('navbar-from-right-to-center navbar-on-left navbar-on-right').addClass('navbar-on-center');\r\n                    oldNavbarInner.removeClass('navbar-from-center-to-left navbar-on-center navbar-on-right').addClass('navbar-on-left');\r\n                }\r\n                app.pageAnimCallback('after', view, {\r\n                    pageContainer: newPage[0],\r\n                    url: url,\r\n                    position: 'right',\r\n                    oldPage: oldPage,\r\n                    newPage: newPage,\r\n                    query: options.query,\r\n                    fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\r\n                });\r\n                if (app.params.pushState && view.main) app.pushStateClearQueue();\r\n                if (!(view.params.swipeBackPage || view.params.preloadPreviousPage)) {\r\n                    if (view.params.domCache) {\r\n                        oldPage.addClass('cached');\r\n                        if (dynamicNavbar) oldNavbarInner.addClass('cached');\r\n                    }\r\n                    else {\r\n                        if (!(url.indexOf('#') === 0 && newPage.attr('data-page').indexOf('smart-select-') === 0)) {\r\n                            app.pageRemoveCallback(view, oldPage[0], 'left');\r\n                            if (dynamicNavbar) app.navbarRemoveCallback(view, oldPage[0], navbar[0], oldNavbarInner[0]);\r\n                            app.router._remove(oldPage);\r\n                            if (dynamicNavbar) app.router._remove(oldNavbarInner);\r\n                        }\r\n                    }\r\n                }\r\n                if (view.params.uniqueHistory && historyBecameUnique) {\r\n                    view.refreshPreviousPage();\r\n                }\r\n            }\r\n            if (animatePages) {\r\n                // Set pages before animation\r\n                if (app.params.material && app.params.materialPageLoadDelay) {\r\n                    setTimeout(function () {\r\n                        app.router.animatePages(oldPage, newPage, 'to-left', view);\r\n                    }, app.params.materialPageLoadDelay);\r\n                }\r\n                else {\r\n                    app.router.animatePages(oldPage, newPage, 'to-left', view);\r\n                }\r\n        \r\n                // Dynamic navbar animation\r\n                if (dynamicNavbar) {\r\n                    setTimeout(function() {\r\n                        app.router.animateNavbars(oldNavbarInner, newNavbarInner, 'to-left', view);\r\n                    }, 0);\r\n                }\r\n                newPage.animationEnd(function () {\r\n                    afterAnimation();\r\n                });\r\n            }\r\n            else {\r\n                if (dynamicNavbar) newNavbarInner.find('.sliding, .sliding .back .icon').transform('');\r\n                afterAnimation();\r\n            }\r\n        \r\n        };\r\n        \r\n        app.router.load = function (view, options) {\r\n            options = options || {};\r\n            if (app.router.preroute(view, options)) {\r\n                return false;\r\n            }\r\n            var url = options.url;\r\n            var content = options.content;\r\n            var pageName = options.pageName;\r\n            var pageElement = options.pageElement;\r\n            if (pageName) {\r\n                if (pageName.indexOf('?') > 0) {\r\n                    options.query = $.parseUrlQuery(pageName);\r\n                    options.pageName = pageName = pageName.split('?')[0];\r\n                }\r\n            }\r\n            var template = options.template;\r\n            if (view.params.reloadPages === true) options.reload = true;\r\n        \r\n            if (!view.allowPageChange) return false;\r\n            if (url && view.url === url && !options.reload && !view.params.allowDuplicateUrls) return false;\r\n            view.allowPageChange = false;\r\n            if (app.xhr && view.xhr && view.xhr === app.xhr) {\r\n                app.xhr.abort();\r\n                app.xhr = false;\r\n            }\r\n            function proceed(content) {\r\n                app.router.preprocess(view, content, url, function (content) {\r\n                    options.content = content;\r\n                    app.router._load(view, options);\r\n                });\r\n            }\r\n            if (content || pageName || pageElement) {\r\n                proceed(content);\r\n                return;\r\n            }\r\n            else if (template) {\r\n                app.router._load(view, options);\r\n                return;\r\n            }\r\n        \r\n            if (!options.url || options.url === '#') {\r\n                view.allowPageChange = true;\r\n                return;\r\n            }\r\n            app.get(options.url, view, options.ignoreCache, function (content, error) {\r\n                if (error) {\r\n                    view.allowPageChange = true;\r\n                    return;\r\n                }\r\n                proceed(content);\r\n            });\r\n        };\r\n        \r\n        app.router._back = function (view, options) {\r\n            options = options || {};\r\n            var url = options.url,\r\n                content = options.content,\r\n                t7_rendered = {content: options.content}, // will be rendered using Template7\r\n                template = options.template, // Template 7 compiled template\r\n                animatePages = options.animatePages,\r\n                preloadOnly = options.preloadOnly,\r\n                pushState = options.pushState,\r\n                ignoreCache = options.ignoreCache,\r\n                force = options.force,\r\n                pageName = options.pageName,\r\n                pageElement = options.pageElement;\r\n        \r\n            var viewContainer = $(view.container),\r\n                pagesContainer = $(view.pagesContainer),\r\n                pagesInView = pagesContainer.children('.page:not(.cached)'),\r\n                oldPage, newPage, oldNavbarInner, newNavbarInner, navbar, navbarInners, dynamicNavbar, manipulateDom = true;\r\n        \r\n            if (typeof animatePages === 'undefined') animatePages = view.params.animatePages;\r\n        \r\n            app.pluginHook('routerBack', view, options);\r\n        \r\n            // Render with Template7\r\n            if (app.params.template7Pages && typeof content === 'string' || template) {\r\n                t7_rendered = app.router.template7Render(view, options);\r\n                if (t7_rendered.content && !content) {\r\n                    content = t7_rendered.content;\r\n                }\r\n            }\r\n        \r\n            // Animation\r\n            function afterAnimation() {\r\n                app.pageBackCallback('after', view, {\r\n                    pageContainer: oldPage[0],\r\n                    url: url,\r\n                    position: 'center',\r\n                    oldPage: oldPage,\r\n                    newPage: newPage,\r\n                });\r\n                app.pageAnimCallback('after', view, {\r\n                    pageContainer: newPage[0],\r\n                    url: url,\r\n                    position: 'left',\r\n                    oldPage: oldPage,\r\n                    newPage: newPage,\r\n                    query: options.query,\r\n                    fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\r\n                });\r\n                app.router.afterBack(view, oldPage[0], newPage[0]);\r\n            }\r\n            function animateBack() {\r\n                // Page before animation callback\r\n                app.pageBackCallback('before', view, {\r\n                    pageContainer: oldPage[0],\r\n                    url: url,\r\n                    position: 'center',\r\n                    oldPage: oldPage,\r\n                    newPage: newPage,\r\n                });\r\n                app.pageAnimCallback('before', view, {\r\n                    pageContainer: newPage[0],\r\n                    url: url,\r\n                    position: 'left',\r\n                    oldPage: oldPage,\r\n                    newPage: newPage,\r\n                    query: options.query,\r\n                    fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\r\n                });\r\n        \r\n                if (animatePages) {\r\n                    // Set pages before animation\r\n                    app.router.animatePages(newPage, oldPage, 'to-right', view);\r\n        \r\n                    // Dynamic navbar animation\r\n                    if (dynamicNavbar) {\r\n                        setTimeout(function () {\r\n                            app.router.animateNavbars(newNavbarInner, oldNavbarInner, 'to-right', view);\r\n                        }, 0);\r\n                    }\r\n        \r\n                    newPage.animationEnd(function () {\r\n                        afterAnimation();\r\n                    });\r\n                }\r\n                else {\r\n                    if (dynamicNavbar) newNavbarInner.find('.sliding, .sliding .back .icon').transform('');\r\n                    afterAnimation();\r\n                }\r\n            }\r\n        \r\n            function parseNewPage() {\r\n                app.router.temporaryDom.innerHTML = '';\r\n                // Parse DOM\r\n                if ((typeof content === 'string') || (url && (typeof content === 'string'))) {\r\n                    app.router.temporaryDom.innerHTML = t7_rendered.content;\r\n                } else {\r\n                    if ('length' in content && content.length > 1) {\r\n                        for (var ci = 0; ci < content.length; ci++) {\r\n                            $(app.router.temporaryDom).append(content[ci]);\r\n                        }\r\n                    } else {\r\n                        $(app.router.temporaryDom).append(content);\r\n                    }\r\n                }\r\n                if (pageElement) newPage = $(pageElement);\r\n                else newPage = app.router.findElement('.page', app.router.temporaryDom, view);\r\n        \r\n                if (view.params.dynamicNavbar) {\r\n                    // Find navbar\r\n                    newNavbarInner = app.router.findElement('.navbar-inner', app.router.temporaryDom, view);\r\n                }\r\n            }\r\n            function setPages() {\r\n                // If pages not found or there are still more than one, exit\r\n                if (!newPage || newPage.length === 0) {\r\n                    view.allowPageChange = true;\r\n                    return;\r\n                }\r\n                if (view.params.dynamicNavbar && typeof dynamicNavbar === 'undefined') {\r\n                    if (!newNavbarInner || newNavbarInner.length === 0) {\r\n                        dynamicNavbar = false;\r\n                    }\r\n                    else {\r\n                        dynamicNavbar = true;\r\n                    }\r\n                }\r\n        \r\n                newPage.addClass('page-on-left').removeClass('cached');\r\n                if (dynamicNavbar) {\r\n                    navbar = viewContainer.children('.navbar');\r\n                    navbarInners = navbar.find('.navbar-inner:not(.cached)');\r\n                    newNavbarInner.addClass('navbar-on-left').removeClass('cached');\r\n                }\r\n                // Remove/hide previous page in force mode\r\n                if (force) {\r\n                    var pageToRemove, navbarToRemove;\r\n                    pageToRemove = $(pagesInView[pagesInView.length - 2]);\r\n        \r\n                    if (dynamicNavbar) navbarToRemove = $(pageToRemove[0] && pageToRemove[0].f7RelatedNavbar || navbarInners[navbarInners.length - 2]);\r\n                    if (view.params.domCache && view.initialPages.indexOf(pageToRemove[0]) >= 0) {\r\n                        if (pageToRemove.length && pageToRemove[0] !== newPage[0]) pageToRemove.addClass('cached');\r\n                        if (dynamicNavbar && navbarToRemove.length && navbarToRemove[0] !== newNavbarInner[0]) {\r\n                            navbarToRemove.addClass('cached');\r\n                        }\r\n                    }\r\n                    else {\r\n                        var removeNavbar = dynamicNavbar && navbarToRemove.length;\r\n                        if (pageToRemove.length) {\r\n                            app.pageRemoveCallback(view, pageToRemove[0], 'right');\r\n                            if (removeNavbar) {\r\n                                app.navbarRemoveCallback(view, pageToRemove[0], navbar[0], navbarToRemove[0]);\r\n                            }\r\n                            app.router._remove(pageToRemove);\r\n                            if (removeNavbar) app.router._remove(navbarToRemove);\r\n                        }\r\n                        else if (removeNavbar) {\r\n                            app.navbarRemoveCallback(view, pageToRemove[0], navbar[0], navbarToRemove[0]);\r\n                            app.router._remove(navbarToRemove);\r\n                        }\r\n                    }\r\n                    pagesInView = pagesContainer.children('.page:not(.cached)');\r\n                    if (dynamicNavbar) {\r\n                        navbarInners = viewContainer.children('.navbar').find('.navbar-inner:not(.cached)');\r\n                    }\r\n                    if (view.history.indexOf(url) >= 0) {\r\n                        view.history = view.history.slice(0, view.history.indexOf(url) + 2);\r\n                    }\r\n                    else {\r\n                        if (view.history[[view.history.length - 2]]) {\r\n                            view.history[view.history.length - 2] = url;\r\n                        }\r\n                        else {\r\n                            view.history.unshift(url);\r\n                        }\r\n                    }\r\n                }\r\n        \r\n                oldPage = $(pagesInView[pagesInView.length - 1]);\r\n                if (view.params.domCache) {\r\n                    if (oldPage[0] === newPage[0]) {\r\n                        oldPage = pagesContainer.children('.page.page-on-center');\r\n                        if (oldPage.length === 0 && view.activePage) oldPage = $(view.activePage.container);\r\n                    }\r\n                }\r\n        \r\n                if (dynamicNavbar && !oldNavbarInner) {\r\n                    oldNavbarInner = $(navbarInners[navbarInners.length - 1]);\r\n                    if (view.params.domCache) {\r\n                        if (oldNavbarInner[0] === newNavbarInner[0]) {\r\n                            oldNavbarInner = navbar.children('.navbar-inner.navbar-on-center:not(.cached)');\r\n                        }\r\n                        if (oldNavbarInner.length === 0) {\r\n                            oldNavbarInner = navbar.children('.navbar-inner[data-page=\"'+oldPage.attr('data-page')+'\"]');\r\n                        }\r\n                    }\r\n                    if (oldNavbarInner.length === 0 || newNavbarInner[0] === oldNavbarInner[0]) dynamicNavbar = false;\r\n                }\r\n        \r\n                if (dynamicNavbar) {\r\n                    if (manipulateDom) newNavbarInner.insertBefore(oldNavbarInner);\r\n                    newNavbarInner[0].f7RelatedPage = newPage[0];\r\n                    newPage[0].f7RelatedNavbar = newNavbarInner[0];\r\n                }\r\n                if (manipulateDom) newPage.insertBefore(oldPage);\r\n        \r\n                // Page Init Events\r\n                app.pageInitCallback(view, {\r\n                    pageContainer: newPage[0],\r\n                    url: url,\r\n                    position: 'left',\r\n                    navbarInnerContainer: dynamicNavbar ? newNavbarInner[0] : undefined,\r\n                    oldNavbarInnerContainer: dynamicNavbar ? oldNavbarInner && oldNavbarInner[0] : undefined,\r\n                    context: t7_rendered.context,\r\n                    query: options.query,\r\n                    fromPage: oldPage && oldPage.length && oldPage[0].f7PageData,\r\n                    preloadOnly: preloadOnly\r\n                });\r\n                if (dynamicNavbar) {\r\n                    app.navbarInitCallback(view, newPage[0], navbar[0], newNavbarInner[0], url, 'right');\r\n                }\r\n        \r\n                if (dynamicNavbar && newNavbarInner.hasClass('navbar-on-left') && animatePages) {\r\n                    app.router.prepareNavbar(newNavbarInner,  oldNavbarInner, 'left');\r\n                }\r\n        \r\n                if (preloadOnly) {\r\n                    view.allowPageChange = true;\r\n                    return;\r\n                }\r\n        \r\n                // Update View's URL\r\n                view.url = url;\r\n        \r\n                // Force reLayout\r\n                var clientLeft = newPage[0].clientLeft;\r\n        \r\n                animateBack();\r\n        \r\n                // Push state\r\n                if (app.params.pushState && view.main)  {\r\n                    if (typeof pushState === 'undefined') pushState = true;\r\n                    if (!preloadOnly && history.state && pushState) {\r\n                        history.back();\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n        \r\n            // Simple go back when we have pages on left\r\n            if (pagesInView.length > 1 && !force) {\r\n                // Exit if only preloadOnly\r\n                if (preloadOnly) {\r\n                    view.allowPageChange = true;\r\n                    return;\r\n                }\r\n                // Update View's URL\r\n                view.url = view.history[view.history.length - 2];\r\n                url = view.url;\r\n        \r\n                // Define old and new pages\r\n                newPage = $(pagesInView[pagesInView.length - 2]);\r\n                oldPage = $(pagesInView[pagesInView.length - 1]);\r\n        \r\n                // Dynamic navbar\r\n                if (view.params.dynamicNavbar) {\r\n                    dynamicNavbar = true;\r\n                    // Find navbar\r\n                    navbarInners = viewContainer.children('.navbar').find('.navbar-inner:not(.cached)');\r\n                    newNavbarInner = $(navbarInners[0]);\r\n                    oldNavbarInner = $(navbarInners[1]);\r\n                    if (newNavbarInner.length === 0 || oldNavbarInner.length === 0 || oldNavbarInner[0] === newNavbarInner[0]) {\r\n                        dynamicNavbar = false;\r\n                    }\r\n                }\r\n                manipulateDom = false;\r\n                setPages();\r\n                return;\r\n            }\r\n        \r\n            if (!force) {\r\n                // Go back when there is no pages on left\r\n                if (!preloadOnly) {\r\n                    view.url = view.history[view.history.length - 2];\r\n                    url = view.url;\r\n                }\r\n        \r\n                if (content) {\r\n                    parseNewPage();\r\n                    setPages();\r\n                    return;\r\n                }\r\n                else if (pageName) {\r\n                    // Get dom cached pages\r\n                    newPage = $(viewContainer).find('.page[data-page=\"' + pageName + '\"]');\r\n                    if (view.params.dynamicNavbar) {\r\n                        newNavbarInner = $(viewContainer).children('.navbar').find('.navbar-inner[data-page=\"' + pageName + '\"]');\r\n                        if (newNavbarInner.length === 0 && newPage[0].f7RelatedNavbar) {\r\n                            newNavbarInner = $(newPage[0].f7RelatedNavbar);\r\n                        }\r\n                        if (newNavbarInner.length === 0 && newPage[0].f7PageData) {\r\n                            newNavbarInner = $(newPage[0].f7PageData.navbarInnerContainer);\r\n                        }\r\n                    }\r\n                    setPages();\r\n                    return;\r\n                }\r\n                else if (url && url in view.pageElementsCache) {\r\n                    newPage = view.pageElementsCache[url].page;\r\n                    newNavbarInner = view.pageElementsCache[url].navbarInner;\r\n                    setPages();\r\n                    return;\r\n                }\r\n                else {\r\n                    view.allowPageChange = true;\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                if (url && url === view.url || pageName && view.activePage && view.activePage.name === pageName) {\r\n                    view.allowPageChange = true;\r\n                    return;\r\n                }\r\n                // Go back with force url\r\n                if (content) {\r\n                    parseNewPage();\r\n                    setPages();\r\n                    return;\r\n                }\r\n                else if (pageName && view.params.domCache) {\r\n                    if (pageName) url = '#' + pageName;\r\n        \r\n                    newPage = $(viewContainer).find('.page[data-page=\"' + pageName + '\"]');\r\n                    if (newPage[0].f7PageData && newPage[0].f7PageData.url) {\r\n                        url = newPage[0].f7PageData.url;\r\n                    }\r\n                    if (view.params.dynamicNavbar) {\r\n                        newNavbarInner = $(viewContainer).children('.navbar').find('.navbar-inner[data-page=\"' + pageName + '\"]');\r\n                        if (newNavbarInner.length === 0 && newPage[0].f7RelatedNavbar) {\r\n                            newNavbarInner = $(newPage[0].f7RelatedNavbar);\r\n                        }\r\n                        if (newNavbarInner.length === 0 && newPage[0].f7PageData) {\r\n                            newNavbarInner = $(newPage[0].f7PageData.navbarInnerContainer);\r\n                        }\r\n                    }\r\n                    setPages();\r\n                    return;\r\n                }\r\n                else if (pageElement && url) {\r\n                    newPage = $(pageElement);\r\n                    if (view.params.dynamicNavbar) {\r\n                        newNavbarInner = newPage.find('.navbar-inner');\r\n                        if (newNavbarInner.length > 0) {\r\n                            newPage.prepend(newNavbarInner);\r\n                            app.router._remove(newPage.find('.navbar'));\r\n                        }\r\n                    }\r\n                    setPages();\r\n                    return;\r\n                }\r\n                else {\r\n                    view.allowPageChange = true;\r\n                    return;\r\n                }\r\n            }\r\n        \r\n        };\r\n        app.router.back = function (view, options) {\r\n            options = options || {};\r\n            if (app.router.preroute(view, options, true)) {\r\n                return false;\r\n            }\r\n            var url = options.url;\r\n            var content = options.content;\r\n            var pageName = options.pageName;\r\n            var pageElement = options.pageElement;\r\n            if (pageName) {\r\n                if (pageName.indexOf('?') > 0) {\r\n                    options.query = $.parseUrlQuery(pageName);\r\n                    options.pageName = pageName = pageName.split('?')[0];\r\n                }\r\n            }\r\n            var force = options.force;\r\n            if (!view.allowPageChange) return false;\r\n            view.allowPageChange = false;\r\n            if (app.xhr && view.xhr && view.xhr === app.xhr) {\r\n                app.xhr.abort();\r\n                app.xhr = false;\r\n            }\r\n            var pagesInView = $(view.pagesContainer).find('.page:not(.cached)');\r\n        \r\n            function proceed(content) {\r\n                app.router.preprocess(view, content, url, function (content) {\r\n                    options.content = content;\r\n                    app.router._back(view, options);\r\n                });\r\n            }\r\n            if (pagesInView.length > 1 && !force) {\r\n                // Simple go back to previos page in view\r\n                app.router._back(view, options);\r\n                return;\r\n            }\r\n            if (!force) {\r\n                url = view.history[view.history.length - 2] || options.url;\r\n                if (!options.url) options.url = url;\r\n                if (!url) {\r\n                    view.allowPageChange = true;\r\n                    return;\r\n                }\r\n                if (url.indexOf('#') === 0 && view.contentCache[url]) {\r\n                    proceed(view.contentCache[url]);\r\n                    return;\r\n                }\r\n                else if (url.indexOf('#') === 0 && view.params.domCache) {\r\n                    if (!pageName) options.pageName = url.split('#')[1];\r\n                    proceed();\r\n                    return;\r\n                }\r\n                else if (url && url in view.pageElementsCache) {\r\n                    proceed();\r\n                }\r\n                else if (url.indexOf('#') !== 0) {\r\n                    // Load ajax page\r\n                    app.get(options.url, view, options.ignoreCache, function (content, error) {\r\n                        if (error) {\r\n                            view.allowPageChange = true;\r\n                            return;\r\n                        }\r\n                        proceed(content);\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                // Go back with force url\r\n                if (!url && content) {\r\n                    proceed(content);\r\n                    return;\r\n                }\r\n                else if (!url && pageName) {\r\n                    if (pageName) url = '#' + pageName;\r\n                    proceed();\r\n                    return;\r\n                }\r\n                else if (url && pageElement) {\r\n                    proceed();\r\n                    return;\r\n                }\r\n                else if (url) {\r\n                    app.get(options.url, view, options.ignoreCache, function (content, error) {\r\n                        if (error) {\r\n                            view.allowPageChange = true;\r\n                            return;\r\n                        }\r\n                        proceed(content);\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            view.allowPageChange = true;\r\n            return;\r\n        };\r\n        \r\n        app.router.afterBack = function (view, oldPage, newPage) {\r\n            // Remove old page and set classes on new one\r\n            oldPage = $(oldPage);\r\n            newPage = $(newPage);\r\n        \r\n            if (view.params.domCache && view.initialPages.indexOf(oldPage[0]) >= 0) {\r\n                oldPage.removeClass('page-from-center-to-right').addClass('cached');\r\n            }\r\n            else {\r\n                app.pageRemoveCallback(view, oldPage[0], 'right');\r\n                app.router._remove(oldPage);\r\n            }\r\n        \r\n            newPage.removeClass('page-from-left-to-center page-on-left').addClass('page-on-center');\r\n            view.allowPageChange = true;\r\n        \r\n            // Update View's History\r\n            var previousURL = view.history.pop();\r\n        \r\n            var newNavbar;\r\n        \r\n            // Updated dynamic navbar\r\n            if (view.params.dynamicNavbar) {\r\n                var inners = $(view.container).children('.navbar').find('.navbar-inner:not(.cached)');\r\n                var oldNavbar = $(oldPage[0].f7RelatedNavbar || inners[1]);\r\n                if (view.params.domCache && view.initialNavbars.indexOf(oldNavbar[0]) >= 0) {\r\n                    oldNavbar.removeClass('navbar-from-center-to-right').addClass('cached');\r\n                }\r\n                else {\r\n                    app.navbarRemoveCallback(view, oldPage[0], undefined, oldNavbar[0]);\r\n                    app.router._remove(oldNavbar);\r\n                }\r\n                newNavbar = $(inners[0]).removeClass('navbar-on-left navbar-from-left-to-center').addClass('navbar-on-center');\r\n            }\r\n        \r\n            // Remove pages in dom cache\r\n            if (view.params.domCache) {\r\n                $(view.container).find('.page.cached').each(function () {\r\n                    var page = $(this);\r\n                    var pageUrl = page[0].f7PageData && page[0].f7PageData.url;\r\n                    if (pageUrl && view.history.indexOf(pageUrl) < 0 && view.initialPages.indexOf(this) < 0) {\r\n                        app.pageRemoveCallback(view, page[0], 'right');\r\n                        if (page[0].f7RelatedNavbar && view.params.dynamicNavbar) app.navbarRemoveCallback(view, page[0], undefined, page[0].f7RelatedNavbar);\r\n                        app.router._remove(page);\r\n                        if (page[0].f7RelatedNavbar && view.params.dynamicNavbar) app.router._remove(page[0].f7RelatedNavbar);\r\n                    }\r\n                });\r\n            }\r\n        \r\n            // Check previous page is content based only and remove it from content cache\r\n            if (!view.params.domCache &&\r\n                previousURL &&\r\n                previousURL.indexOf('#') > -1 &&\r\n                (previousURL in view.contentCache) &&\r\n                // If the same page is in the history multiple times, don't remove it.\r\n                view.history.indexOf(previousURL) === -1) {\r\n                view.contentCache[previousURL] = null;\r\n                delete view.contentCache[previousURL];\r\n            }\r\n            if (previousURL &&\r\n                (previousURL in view.pageElementsCache) &&\r\n                // If the same page is in the history multiple times, don't remove it.\r\n                view.history.indexOf(previousURL) === -1) {\r\n                view.pageElementsCache[previousURL] = null;\r\n                delete view.pageElementsCache[previousURL];\r\n            }\r\n            // Check for context cache\r\n            if (previousURL &&\r\n                (previousURL in view.contextCache) &&\r\n                // If the same page is in the history multiple times, don't remove it.\r\n                view.history.indexOf(previousURL) === -1) {\r\n                view.contextCache[previousURL] = null;\r\n                delete view.contextCache[previousURL];\r\n            }\r\n        \r\n            if (app.params.pushState && view.main) app.pushStateClearQueue();\r\n        \r\n            // Preload previous page\r\n            if (view.params.preloadPreviousPage) {\r\n                if (view.params.domCache && view.history.length > 1) {\r\n                    var preloadUrl = view.history[view.history.length - 2];\r\n                    var previousPage;\r\n                    var previousNavbar;\r\n                    if (preloadUrl && view.pagesCache[preloadUrl]) {\r\n                        // Load by page name\r\n                        previousPage = $(view.container).find('.page[data-page=\"' + view.pagesCache[preloadUrl] + '\"]');\r\n                        if (previousPage.next('.page')[0] !== newPage[0]) previousPage.insertBefore(newPage);\r\n                        if (newNavbar) {\r\n                            previousNavbar = $(view.container).children('.navbar').find('.navbar-inner[data-page=\"' + view.pagesCache[preloadUrl] + '\"]');\r\n                            if(!previousNavbar || previousNavbar.length === 0) previousNavbar = newNavbar.prev('.navbar-inner.cached');\r\n                            if (previousNavbar.next('.navbar-inner')[0] !== newNavbar[0]) previousNavbar.insertBefore(newNavbar);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Just load previous page\r\n                        previousPage = newPage.prev('.page.cached');\r\n                        if (newNavbar) previousNavbar = newNavbar.prev('.navbar-inner.cached');\r\n                    }\r\n                    if (previousPage && previousPage.length > 0) previousPage.removeClass('cached page-on-right page-on-center').addClass('page-on-left');\r\n                    if (previousNavbar && previousNavbar.length > 0) previousNavbar.removeClass('cached navbar-on-right navbar-on-center').addClass('navbar-on-left');\r\n                }\r\n                else {\r\n                    app.router.back(view, {preloadOnly: true});\r\n                }\r\n            }\r\n        };\r\n        \n\n        /*======================================================\r\n        ************   Modals   ************\r\n        ======================================================*/\r\n        var _modalTemplateTempDiv = document.createElement('div');\r\n        app.modalStack = [];\r\n        app.modalStackClearQueue = function () {\r\n            if (app.modalStack.length) {\r\n                (app.modalStack.shift())();\r\n            }\r\n        };\r\n        app.modal = function (params) {\r\n            params = params || {};\r\n            var modalHTML = '';\r\n            if (app.params.modalTemplate) {\r\n                if (!app._compiledTemplates.modal) app._compiledTemplates.modal = t7.compile(app.params.modalTemplate);\r\n                modalHTML = app._compiledTemplates.modal(params);\r\n            }\r\n            else {\r\n                var buttonsHTML = '';\r\n                if (params.buttons && params.buttons.length > 0) {\r\n                    for (var i = 0; i < params.buttons.length; i++) {\r\n                        buttonsHTML += '<span class=\"modal-button' + (params.buttons[i].bold ? ' modal-button-bold' : '') + '\">' + params.buttons[i].text + '</span>';\r\n                    }\r\n                }\r\n                var titleHTML = params.title ? '<div class=\"modal-title\">' + params.title + '</div>' : '';\r\n                var textHTML = params.text ? '<div class=\"modal-text\">' + params.text + '</div>' : '';\r\n                var afterTextHTML = params.afterText ? params.afterText : '';\r\n                var noButtons = !params.buttons || params.buttons.length === 0 ? 'modal-no-buttons' : '';\r\n                var verticalButtons = params.verticalButtons ? 'modal-buttons-vertical': '';\r\n                var modalButtonsHTML = params.buttons && params.buttons.length > 0 ? '<div class=\"modal-buttons modal-buttons-' + params.buttons.length + ' ' + verticalButtons + '\">' + buttonsHTML + '</div>' : '';\r\n                modalHTML = '<div class=\"modal ' + noButtons + ' ' + (params.cssClass || '') + '\"><div class=\"modal-inner\">' + (titleHTML + textHTML + afterTextHTML) + '</div>' + modalButtonsHTML + '</div>';\r\n            }\r\n        \r\n            _modalTemplateTempDiv.innerHTML = modalHTML;\r\n        \r\n            var modal = $(_modalTemplateTempDiv).children();\r\n        \r\n            app.root.append(modal[0]);\r\n        \r\n            // Add events on buttons\r\n            modal.find('.modal-button').each(function (index, el) {\r\n                $(el).on('click', function (e) {\r\n                    if (params.buttons[index].close !== false) app.closeModal(modal);\r\n                    if (params.buttons[index].onClick) params.buttons[index].onClick(modal, e);\r\n                    if (params.onClick) params.onClick(modal, index);\r\n                });\r\n            });\r\n            app.openModal(modal);\r\n            return modal[0];\r\n        };\r\n        app.alert = function (text, title, callbackOk) {\r\n            if (typeof title === 'function') {\r\n                callbackOk = arguments[1];\r\n                title = undefined;\r\n            }\r\n            return app.modal({\r\n                text: text || '',\r\n                title: typeof title === 'undefined' ? app.params.modalTitle : title,\r\n                buttons: [ {text: app.params.modalButtonOk, bold: true, onClick: callbackOk} ]\r\n            });\r\n        };\r\n        app.confirm = function (text, title, callbackOk, callbackCancel) {\r\n            if (typeof title === 'function') {\r\n                callbackCancel = arguments[2];\r\n                callbackOk = arguments[1];\r\n                title = undefined;\r\n            }\r\n            return app.modal({\r\n                text: text || '',\r\n                title: typeof title === 'undefined' ? app.params.modalTitle : title,\r\n                buttons: [\r\n                    {text: app.params.modalButtonCancel, onClick: callbackCancel},\r\n                    {text: app.params.modalButtonOk, bold: true, onClick: callbackOk}\r\n                ]\r\n            });\r\n        };\r\n        app.prompt = function (text, title, callbackOk, callbackCancel) {\r\n            if (typeof title === 'function') {\r\n                callbackCancel = arguments[2];\r\n                callbackOk = arguments[1];\r\n                title = undefined;\r\n            }\r\n            return app.modal({\r\n                text: text || '',\r\n                title: typeof title === 'undefined' ? app.params.modalTitle : title,\r\n                afterText: '<div class=\"input-field\"><input type=\"text\" class=\"modal-text-input\"></div>',\r\n                buttons: [\r\n                    {\r\n                        text: app.params.modalButtonCancel\r\n                    },\r\n                    {\r\n                        text: app.params.modalButtonOk,\r\n                        bold: true\r\n                    }\r\n                ],\r\n                onClick: function (modal, index) {\r\n                    if (index === 0 && callbackCancel) callbackCancel($(modal).find('.modal-text-input').val());\r\n                    if (index === 1 && callbackOk) callbackOk($(modal).find('.modal-text-input').val());\r\n                }\r\n            });\r\n        };\r\n        app.modalLogin = function (text, title, callbackOk, callbackCancel) {\r\n            if (typeof title === 'function') {\r\n                callbackCancel = arguments[2];\r\n                callbackOk = arguments[1];\r\n                title = undefined;\r\n            }\r\n            return app.modal({\r\n                text: text || '',\r\n                title: typeof title === 'undefined' ? app.params.modalTitle : title,\r\n                afterText: '<div class=\"input-field modal-input-double\"><input type=\"text\" name=\"modal-username\" placeholder=\"' + app.params.modalUsernamePlaceholder + '\" class=\"modal-text-input\"></div><div class=\"input-field modal-input-double\"><input type=\"password\" name=\"modal-password\" placeholder=\"' + app.params.modalPasswordPlaceholder + '\" class=\"modal-text-input\"></div>',\r\n                buttons: [\r\n                    {\r\n                        text: app.params.modalButtonCancel\r\n                    },\r\n                    {\r\n                        text: app.params.modalButtonOk,\r\n                        bold: true\r\n                    }\r\n                ],\r\n                onClick: function (modal, index) {\r\n                    var username = $(modal).find('.modal-text-input[name=\"modal-username\"]').val();\r\n                    var password = $(modal).find('.modal-text-input[name=\"modal-password\"]').val();\r\n                    if (index === 0 && callbackCancel) callbackCancel(username, password);\r\n                    if (index === 1 && callbackOk) callbackOk(username, password);\r\n                }\r\n            });\r\n        };\r\n        app.modalPassword = function (text, title, callbackOk, callbackCancel) {\r\n            if (typeof title === 'function') {\r\n                callbackCancel = arguments[2];\r\n                callbackOk = arguments[1];\r\n                title = undefined;\r\n            }\r\n            return app.modal({\r\n                text: text || '',\r\n                title: typeof title === 'undefined' ? app.params.modalTitle : title,\r\n                afterText: '<div class=\"input-field\"><input type=\"password\" name=\"modal-password\" placeholder=\"' + app.params.modalPasswordPlaceholder + '\" class=\"modal-text-input\"></div>',\r\n                buttons: [\r\n                    {\r\n                        text: app.params.modalButtonCancel\r\n                    },\r\n                    {\r\n                        text: app.params.modalButtonOk,\r\n                        bold: true\r\n                    }\r\n                ],\r\n                onClick: function (modal, index) {\r\n                    var password = $(modal).find('.modal-text-input[name=\"modal-password\"]').val();\r\n                    if (index === 0 && callbackCancel) callbackCancel(password);\r\n                    if (index === 1 && callbackOk) callbackOk(password);\r\n                }\r\n            });\r\n        };\r\n        app.showPreloader = function (title) {\r\n            return app.modal({\r\n                title: title || app.params.modalPreloaderTitle,\r\n                text: '<div class=\"preloader\">' + (app.params.material ? app.params.materialPreloaderHtml : '') + '</div>',\r\n                cssClass: 'modal-preloader'\r\n            });\r\n        };\r\n        app.hidePreloader = function () {\r\n            app.closeModal('.modal.modal-in');\r\n        };\r\n        app.showIndicator = function () {\r\n            if ($('.preloader-indicator-overlay').length > 0) return;\r\n            app.root.append('<div class=\"preloader-indicator-overlay\"></div><div class=\"preloader-indicator-modal\"><span class=\"preloader preloader-white\">' + (app.params.material ? app.params.materialPreloaderHtml : '') + '</span></div>');\r\n        };\r\n        app.hideIndicator = function () {\r\n            $('.preloader-indicator-overlay, .preloader-indicator-modal').remove();\r\n        };\r\n        // Action Sheet\r\n        app.actions = function (target, params) {\r\n            var toPopover = false, modal, groupSelector, buttonSelector;\r\n            if (arguments.length === 1) {\r\n                // Actions\r\n                params = target;\r\n            }\r\n            else {\r\n                // Popover\r\n                if (app.device.ios) {\r\n                    if (app.device.ipad) toPopover = true;\r\n                }\r\n                else {\r\n                    if ($(window).width() >= 768) toPopover = true;\r\n                }\r\n            }\r\n            params = params || [];\r\n        \r\n            if (params.length > 0 && !$.isArray(params[0])) {\r\n                params = [params];\r\n            }\r\n            var modalHTML;\r\n            if (toPopover) {\r\n                var actionsToPopoverTemplate = app.params.modalActionsToPopoverTemplate ||\r\n                    '<div class=\"popover actions-popover\">' +\r\n                      '<div class=\"popover-inner\">' +\r\n                        '{{#each this}}' +\r\n                        '<div class=\"list-block\">' +\r\n                          '<ul>' +\r\n                            '{{#each this}}' +\r\n                            '{{#if label}}' +\r\n                            '<li class=\"actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}\">{{text}}</li>' +\r\n                            '{{else}}' +\r\n                            '<li><a href=\"#\" class=\"item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}} {{#if disabled}}disabled{{/if}}\">{{text}}</a></li>' +\r\n                            '{{/if}}' +\r\n                            '{{/each}}' +\r\n                          '</ul>' +\r\n                        '</div>' +\r\n                        '{{/each}}' +\r\n                      '</div>' +\r\n                    '</div>';\r\n                if (!app._compiledTemplates.actionsToPopover) {\r\n                    app._compiledTemplates.actionsToPopover = t7.compile(actionsToPopoverTemplate);\r\n                }\r\n                var popoverHTML = app._compiledTemplates.actionsToPopover(params);\r\n                modal = $(app.popover(popoverHTML, target, true));\r\n                groupSelector = '.list-block ul';\r\n                buttonSelector = '.list-button';\r\n            }\r\n            else {\r\n                if (app.params.modalActionsTemplate) {\r\n                    if (!app._compiledTemplates.actions) app._compiledTemplates.actions = t7.compile(app.params.modalActionsTemplate);\r\n                    modalHTML = app._compiledTemplates.actions(params);\r\n                }\r\n                else {\r\n                    var buttonsHTML = '';\r\n                    for (var i = 0; i < params.length; i++) {\r\n                        for (var j = 0; j < params[i].length; j++) {\r\n                            if (j === 0) buttonsHTML += '<div class=\"actions-modal-group\">';\r\n                            var button = params[i][j];\r\n                            var buttonClass = button.label ? 'actions-modal-label' : 'actions-modal-button';\r\n                            if (button.bold) buttonClass += ' actions-modal-button-bold';\r\n                            if (button.color) buttonClass += ' color-' + button.color;\r\n                            if (button.bg) buttonClass += ' bg-' + button.bg;\r\n                            if (button.disabled) buttonClass += ' disabled';\r\n                            buttonsHTML += '<div class=\"' + buttonClass + '\">' + button.text + '</div>';\r\n                            if (j === params[i].length - 1) buttonsHTML += '</div>';\r\n                        }\r\n                    }\r\n                    modalHTML = '<div class=\"actions-modal\">' + buttonsHTML + '</div>';\r\n                }\r\n                _modalTemplateTempDiv.innerHTML = modalHTML;\r\n                modal = $(_modalTemplateTempDiv).children();\r\n                app.root.append(modal[0]);\r\n                groupSelector = '.actions-modal-group';\r\n                buttonSelector = '.actions-modal-button';\r\n            }\r\n        \r\n            var groups = modal.find(groupSelector);\r\n            groups.each(function (index, el) {\r\n                var groupIndex = index;\r\n                $(el).children().each(function (index, el) {\r\n                    var buttonIndex = index;\r\n                    var buttonParams = params[groupIndex][buttonIndex];\r\n                    var clickTarget;\r\n                    if (!toPopover && $(el).is(buttonSelector)) clickTarget = $(el);\r\n                    if (toPopover && $(el).find(buttonSelector).length > 0) clickTarget = $(el).find(buttonSelector);\r\n        \r\n                    if (clickTarget) {\r\n                        clickTarget.on('click', function (e) {\r\n                            if (buttonParams.close !== false) app.closeModal(modal);\r\n                            if (buttonParams.onClick) buttonParams.onClick(modal, e);\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n            if (!toPopover) app.openModal(modal);\r\n            return modal[0];\r\n        };\r\n        app.popover = function (modal, target, removeOnClose) {\r\n            if (typeof removeOnClose === 'undefined') removeOnClose = true;\r\n            if (typeof modal === 'string' && modal.indexOf('<') >= 0) {\r\n                var _modal = document.createElement('div');\r\n                _modal.innerHTML = modal.trim();\r\n                if (_modal.childNodes.length > 0) {\r\n                    modal = _modal.childNodes[0];\r\n                    if (removeOnClose) modal.classList.add('remove-on-close');\r\n                    app.root.append(modal);\r\n                }\r\n                else return false; //nothing found\r\n            }\r\n            modal = $(modal);\r\n            target = $(target);\r\n            if (modal.length === 0 || target.length === 0) return false;\r\n            if (modal.parents('body').length === 0) {\r\n                if (removeOnClose) modal.addClass('remove-on-close');\r\n                app.root.append(modal[0]);\r\n            }\r\n            if (modal.find('.popover-angle').length === 0 && !app.params.material) {\r\n                modal.append('<div class=\"popover-angle\"></div>');\r\n            }\r\n            modal.show();\r\n        \r\n            var material = app.params.material;\r\n        \r\n            function sizePopover() {\r\n                modal.css({left: '', top: ''});\r\n                var modalWidth =  modal.width();\r\n                var modalHeight =  modal.height(); // 13 - height of angle\r\n                var modalAngle, modalAngleSize = 0, modalAngleLeft, modalAngleTop;\r\n                if (!material) {\r\n                    modalAngle = modal.find('.popover-angle');\r\n                    modalAngleSize = modalAngle.width() / 2;\r\n                    modalAngle.removeClass('on-left on-right on-top on-bottom').css({left: '', top: ''});\r\n                }\r\n                else {\r\n                    modal.removeClass('popover-on-left popover-on-right popover-on-top popover-on-bottom').css({left: '', top: ''});\r\n                }\r\n        \r\n                var targetWidth = target.outerWidth();\r\n                var targetHeight = target.outerHeight();\r\n                var targetOffset = target.offset();\r\n                var targetParentPage = target.parents('.page');\r\n                if (targetParentPage.length > 0) {\r\n                    targetOffset.top = targetOffset.top - targetParentPage[0].scrollTop;\r\n                }\r\n        \r\n                var windowHeight = $(window).height();\r\n                var windowWidth = $(window).width();\r\n        \r\n                var modalTop = 0;\r\n                var modalLeft = 0;\r\n                var diff = 0;\r\n                // Top Position\r\n                var modalPosition = material ? 'bottom' : 'top';\r\n                if (material) {\r\n                    if (modalHeight < windowHeight - targetOffset.top - targetHeight) {\r\n                        // On bottom\r\n                        modalPosition = 'bottom';\r\n                        modalTop = targetOffset.top;\r\n                    }\r\n                    else if (modalHeight < targetOffset.top) {\r\n                        // On top\r\n                        modalTop = targetOffset.top - modalHeight + targetHeight;\r\n                        modalPosition = 'top';\r\n                    }\r\n                    else {\r\n                        // On middle\r\n                        modalPosition = 'bottom';\r\n                        modalTop = targetOffset.top;\r\n                    }\r\n        \r\n                    if (modalTop <= 0) {\r\n                        modalTop = 8;\r\n                    }\r\n                    else if (modalTop + modalHeight >= windowHeight) {\r\n                        modalTop = windowHeight - modalHeight - 8;\r\n                    }\r\n        \r\n                    // Horizontal Position\r\n                    modalLeft = targetOffset.left;\r\n                    if (modalLeft + modalWidth >= windowWidth - 8) {\r\n                        modalLeft = targetOffset.left + targetWidth - modalWidth - 8;\r\n                    }\r\n                    if (modalLeft < 8) {\r\n                        modalLeft = 8;\r\n                    }\r\n                    if (modalPosition === 'top') {\r\n                        modal.addClass('popover-on-top');\r\n                    }\r\n                    if (modalPosition === 'bottom') {\r\n                        modal.addClass('popover-on-bottom');\r\n                    }\r\n                    if (target.hasClass('floating-button-to-popover') && !modal.hasClass('modal-in')) {\r\n                        modal.addClass('popover-floating-button');\r\n                        var diffX = (modalLeft + modalWidth / 2) - (targetOffset.left + targetWidth / 2),\r\n                            diffY = (modalTop + modalHeight / 2) - (targetOffset.top + targetHeight / 2);\r\n                        target\r\n                            .addClass('floating-button-to-popover-in')\r\n                            .transform('translate3d(' + diffX + 'px, ' + diffY + 'px,0)')\r\n                            .transitionEnd(function (e) {\r\n                                if (!target.hasClass('floating-button-to-popover-in')) return;\r\n                                target\r\n                                    .addClass('floating-button-to-popover-scale')\r\n                                    .transform('translate3d(' + diffX + 'px, ' + diffY + 'px,0) scale(' + (modalWidth/targetWidth) + ', ' + (modalHeight/targetHeight) + ')');\r\n                            });\r\n        \r\n                        modal.once('popover:close', function () {\r\n                            target\r\n                                .removeClass('floating-button-to-popover-in floating-button-to-popover-scale')\r\n                                .addClass('floating-button-to-popover-out')\r\n                                .transform('')\r\n                                .transitionEnd(function (e) {\r\n                                    target.removeClass('floating-button-to-popover-out');\r\n                                });\r\n                        });\r\n                        modal.once('popover:closed', function () {\r\n                            modal.removeClass('popover-floating-button');\r\n                        });\r\n                    }\r\n        \r\n                }\r\n                else {\r\n                    if ((modalHeight + modalAngleSize) < targetOffset.top) {\r\n                        // On top\r\n                        modalTop = targetOffset.top - modalHeight - modalAngleSize;\r\n                    }\r\n                    else if ((modalHeight + modalAngleSize) < windowHeight - targetOffset.top - targetHeight) {\r\n                        // On bottom\r\n                        modalPosition = 'bottom';\r\n                        modalTop = targetOffset.top + targetHeight + modalAngleSize;\r\n                    }\r\n                    else {\r\n                        // On middle\r\n                        modalPosition = 'middle';\r\n                        modalTop = targetHeight / 2 + targetOffset.top - modalHeight / 2;\r\n                        diff = modalTop;\r\n                        if (modalTop <= 0) {\r\n                            modalTop = 5;\r\n                        }\r\n                        else if (modalTop + modalHeight >= windowHeight) {\r\n                            modalTop = windowHeight - modalHeight - 5;\r\n                        }\r\n                        diff = diff - modalTop;\r\n                    }\r\n        \r\n                    // Horizontal Position\r\n                    if (modalPosition === 'top' || modalPosition === 'bottom') {\r\n                        modalLeft = targetWidth / 2 + targetOffset.left - modalWidth / 2;\r\n                        diff = modalLeft;\r\n                        if (modalLeft < 5) modalLeft = 5;\r\n                        if (modalLeft + modalWidth > windowWidth) modalLeft = windowWidth - modalWidth - 5;\r\n                        if (modalPosition === 'top') {\r\n                            modalAngle.addClass('on-bottom');\r\n                        }\r\n                        if (modalPosition === 'bottom') {\r\n                            modalAngle.addClass('on-top');\r\n                        }\r\n                        diff = diff - modalLeft;\r\n                        modalAngleLeft = (modalWidth / 2 - modalAngleSize + diff);\r\n                        modalAngleLeft = Math.max(Math.min(modalAngleLeft, modalWidth - modalAngleSize * 2 - 13), 13);\r\n                        modalAngle.css({left: modalAngleLeft + 'px'});\r\n        \r\n                    }\r\n                    else if (modalPosition === 'middle') {\r\n                        modalLeft = targetOffset.left - modalWidth - modalAngleSize;\r\n                        modalAngle.addClass('on-right');\r\n                        if (modalLeft < 5 || (modalLeft + modalWidth > windowWidth)) {\r\n                            if (modalLeft < 5) modalLeft = targetOffset.left + targetWidth + modalAngleSize;\r\n                            if (modalLeft + modalWidth > windowWidth) modalLeft = windowWidth - modalWidth - 5;\r\n                            modalAngle.removeClass('on-right').addClass('on-left');\r\n                        }\r\n                        modalAngleTop = (modalHeight / 2 - modalAngleSize + diff);\r\n                        modalAngleTop = Math.max(Math.min(modalAngleTop, modalHeight - modalAngleSize * 2 - 13), 13);\r\n                        modalAngle.css({top: modalAngleTop + 'px'});\r\n                    }\r\n                }\r\n        \r\n        \r\n                // Apply Styles\r\n                modal.css({top: modalTop + 'px', left: modalLeft + 'px'});\r\n            }\r\n        \r\n            sizePopover();\r\n        \r\n            $(window).on('resize', sizePopover);\r\n        \r\n            modal.on('popover:close', function () {\r\n                $(window).off('resize', sizePopover);\r\n            });\r\n        \r\n            app.openModal(modal);\r\n            return modal[0];\r\n        };\r\n        app.popup = function (modal, removeOnClose) {\r\n            if (typeof removeOnClose === 'undefined') removeOnClose = true;\r\n            if (typeof modal === 'string' && modal.indexOf('<') >= 0) {\r\n                var _modal = document.createElement('div');\r\n                _modal.innerHTML = modal.trim();\r\n                if (_modal.childNodes.length > 0) {\r\n                    modal = _modal.childNodes[0];\r\n                    if (removeOnClose) modal.classList.add('remove-on-close');\r\n                    app.root.append(modal);\r\n                }\r\n                else return false; //nothing found\r\n            }\r\n            modal = $(modal);\r\n            if (modal.length === 0) return false;\r\n            if (modal.parents('body').length === 0) {\r\n                if (removeOnClose) modal.addClass('remove-on-close');\r\n                app.root.append(modal[0]);\r\n            }\r\n            modal.show();\r\n        \r\n            app.openModal(modal);\r\n            return modal[0];\r\n        };\r\n        app.pickerModal = function (modal, removeOnClose) {\r\n            if (typeof removeOnClose === 'undefined') removeOnClose = true;\r\n            if (typeof modal === 'string' && modal.indexOf('<') >= 0) {\r\n                modal = $(modal);\r\n                if (modal.length > 0) {\r\n                    if (removeOnClose) modal.addClass('remove-on-close');\r\n                    app.root.append(modal[0]);\r\n                }\r\n                else return false; //nothing found\r\n            }\r\n            modal = $(modal);\r\n            if (modal.length === 0) return false;\r\n            if (modal.parents('body').length === 0) {\r\n                if (removeOnClose) modal.addClass('remove-on-close');\r\n                app.root.append(modal[0]);\r\n            }\r\n            if ($('.picker-modal.modal-in:not(.modal-out)').length > 0 && !modal.hasClass('modal-in')) {\r\n                app.closeModal('.picker-modal.modal-in:not(.modal-out)');\r\n            }\r\n            modal.show();\r\n            app.openModal(modal);\r\n            return modal[0];\r\n        };\r\n        app.loginScreen = function (modal) {\r\n            if (!modal) modal = '.login-screen';\r\n            modal = $(modal);\r\n            if (modal.length === 0) return false;\r\n            if ($('.login-screen.modal-in:not(.modal-out)').length > 0 && !modal.hasClass('modal-in')) {\r\n                app.closeModal('.login-screen.modal-in:not(.modal-out)');\r\n            }\r\n            modal.show();\r\n            \r\n            app.openModal(modal);\r\n            return modal[0];\r\n        };\r\n        app.openModal = function (modal) {\r\n            modal = $(modal);\r\n            var isModal = modal.hasClass('modal');\r\n            var isPopover = modal.hasClass('popover');\r\n            var isPopup = modal.hasClass('popup');\r\n            var isLoginScreen = modal.hasClass('login-screen');\r\n            var isPickerModal = modal.hasClass('picker-modal');\r\n            var isActions = modal.hasClass('actions-modal');\r\n        \r\n            // Modal Event Prefix\r\n            var modalType = 'modal';\r\n            if (isPopover) modalType = 'popover';\r\n            if (isPopup) modalType = 'popup';\r\n            if (isLoginScreen) modalType = 'loginscreen';\r\n            if (isPickerModal) modalType = 'picker';\r\n            if (isActions) modalType = 'actions';\r\n        \r\n            if ($('.modal.modal-in:not(.modal-out)').length && app.params.modalStack && isModal) {\r\n                app.modalStack.push(function () {\r\n                    app.openModal(modal);\r\n                });\r\n                return;\r\n            }\r\n            // do nothing if this modal already shown\r\n            if (true === modal.data('f7-modal-shown')) {\r\n                return;\r\n            }\r\n            modal.data('f7-modal-shown', true);\r\n            modal.once(modalType + ':close', function() {\r\n               modal.removeData('f7-modal-shown');\r\n            });\r\n        \r\n            if (isModal) {\r\n                modal.show();\r\n                modal.css({\r\n                    marginTop: - Math.round(modal.outerHeight() / 2) + 'px'\r\n                });\r\n            }\r\n        \r\n            var overlay;\r\n            if (!isLoginScreen && !isPickerModal) {\r\n                if ($('.modal-overlay').length === 0 && !isPopup) {\r\n                    app.root.append('<div class=\"modal-overlay\"></div>');\r\n                }\r\n                if ($('.popup-overlay').length === 0 && isPopup) {\r\n                    app.root.append('<div class=\"popup-overlay\"></div>');\r\n                }\r\n                overlay = isPopup ? $('.popup-overlay') : $('.modal-overlay');\r\n            }\r\n            if (app.params.material && isPickerModal) {\r\n                if (modal.hasClass('picker-calendar')) {\r\n                    if ($('.picker-modal-overlay').length === 0 && !isPopup) {\r\n                        app.root.append('<div class=\"picker-modal-overlay\"></div>');\r\n                    }\r\n                    overlay = $('.picker-modal-overlay');\r\n                }\r\n            }\r\n        \r\n            //Make sure that styles are applied, trigger relayout;\r\n            var clientLeft = modal[0].clientLeft;\r\n        \r\n            // Trugger open event\r\n            modal.trigger('open ' + modalType + ':open');\r\n        \r\n            // Picker modal body class\r\n            if (isPickerModal) {\r\n                $('body').addClass('with-picker-modal');\r\n            }\r\n        \r\n            // Init Pages and Navbars in modal\r\n            if (modal.find('.' + app.params.viewClass).length > 0) {\r\n                modal.find('.page').each(function () {\r\n                    app.initPageWithCallback(this);\r\n                });\r\n                modal.find('.navbar').each(function () {\r\n                    app.initNavbarWithCallback(this);\r\n                });\r\n            }\r\n        \r\n            // Classes for transition in\r\n            if (!isLoginScreen && !isPickerModal) overlay.addClass('modal-overlay-visible');\r\n            if (app.params.material && isPickerModal && overlay) overlay.addClass('modal-overlay-visible');\r\n            modal.removeClass('modal-out').addClass('modal-in').transitionEnd(function (e) {\r\n                if (modal.hasClass('modal-out')) modal.trigger('closed ' + modalType + ':closed');\r\n                else modal.trigger('opened ' + modalType + ':opened');\r\n            });\r\n            return true;\r\n        };\r\n        app.closeModal = function (modal) {\r\n            modal = $(modal || '.modal-in');\r\n            if (typeof modal !== 'undefined' && modal.length === 0) {\r\n                return;\r\n            }\r\n            var isModal = modal.hasClass('modal');\r\n            var isPopover = modal.hasClass('popover');\r\n            var isPopup = modal.hasClass('popup');\r\n            var isLoginScreen = modal.hasClass('login-screen');\r\n            var isPickerModal = modal.hasClass('picker-modal');\r\n            var isActions = modal.hasClass('actions-modal');\r\n        \r\n            // Modal Event Prefix\r\n            var modalType = 'modal';\r\n            if (isPopover) modalType = 'popover';\r\n            if (isPopup) modalType = 'popup';\r\n            if (isLoginScreen) modalType = 'loginscreen';\r\n            if (isPickerModal) modalType = 'picker';\r\n            if (isActions) modalType = 'actions';\r\n        \r\n            var removeOnClose = modal.hasClass('remove-on-close');\r\n        \r\n            // For Actions\r\n            var keepOnClose = modal.hasClass('keep-on-close');\r\n        \r\n            var overlay;\r\n        \r\n            if (isPopup) overlay = $('.popup-overlay');\r\n            else {\r\n                if (isPickerModal && app.params.material) overlay = $('.picker-modal-overlay');\r\n                else if (!isPickerModal) overlay = $('.modal-overlay');\r\n            }\r\n        \r\n            if (isPopup){\r\n                if (modal.length === $('.popup.modal-in').length) {\r\n                    overlay.removeClass('modal-overlay-visible');\r\n                }\r\n            }\r\n            else if (overlay && overlay.length > 0) {\r\n                overlay.removeClass('modal-overlay-visible');\r\n            }\r\n        \r\n            modal.trigger('close ' + modalType + ':close');\r\n        \r\n            // Picker modal body class\r\n            if (isPickerModal) {\r\n                $('body').removeClass('with-picker-modal');\r\n                $('body').addClass('picker-modal-closing');\r\n            }\r\n        \r\n            if (!(isPopover && !app.params.material)) {\r\n                modal.removeClass('modal-in').addClass('modal-out').transitionEnd(function (e) {\r\n                    if (modal.hasClass('modal-out')) modal.trigger('closed ' + modalType + ':closed');\r\n                    else {\r\n                        modal.trigger('opened ' + modalType + ':opened');\r\n                        if (isPopover) return;\r\n                    }\r\n        \r\n                    if (isPickerModal) {\r\n                        $('body').removeClass('picker-modal-closing');\r\n                    }\r\n                    if (isPopup || isLoginScreen || isPickerModal || isPopover) {\r\n                        modal.removeClass('modal-out').hide();\r\n                        if (removeOnClose && modal.length > 0) {\r\n                            modal.remove();\r\n                        }\r\n                    }\r\n                    else if (!keepOnClose) {\r\n                        modal.remove();\r\n                    }\r\n                });\r\n                if (isModal && app.params.modalStack) {\r\n                    app.modalStackClearQueue();\r\n                }\r\n            }\r\n            else {\r\n                modal.removeClass('modal-in modal-out').trigger('closed ' + modalType + ':closed').hide();\r\n                if (removeOnClose) {\r\n                    modal.remove();\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        \n\n        /*===============================================================================\r\n        ************   Progress Bar   ************\r\n        ===============================================================================*/\r\n        app.setProgressbar = function (container, progress, speed) {\r\n            container = $(container || app.root);\r\n            if (container.length === 0) return;\r\n            if (progress) progress = Math.min(Math.max(progress, 0), 100);\r\n            var progressbar;\r\n            if (container.hasClass('progressbar')) progressbar = container;\r\n            else {\r\n                progressbar = container.children('.progressbar');\r\n            }\r\n            if (progressbar.length === 0 || progressbar.hasClass('progressbar-infinite')) return;\r\n            var clientLeft = progressbar[0].clientLeft;\r\n            progressbar.children('span').transform('translate3d(' + (-100 + progress) + '%,0,0)');\r\n            if (typeof speed !== 'undefined') {\r\n                progressbar.children('span').transition(speed);\r\n            }\r\n            else {\r\n                progressbar.children('span').transition('');\r\n            }\r\n            return progressbar[0];\r\n        };\r\n        app.showProgressbar = function (container, progress, color) {\r\n            if (typeof container === 'number') {\r\n                container = app.root;\r\n                progress = arguments[0];\r\n                color = arguments[1];\r\n            }\r\n            if (progress && typeof progress === 'string' && parseFloat(progress) !== progress * 1) {\r\n                color = progress;\r\n                progress = undefined;\r\n            }\r\n            container = $(container || app.root);\r\n            if (container.length === 0) return;\r\n            var progressbar;\r\n            if (container.hasClass('progressbar')) progressbar = container;\r\n            else {\r\n                progressbar = container.children('.progressbar:not(.progressbar-out), .progressbar-infinite:not(.progressbar-out)');\r\n                if (progressbar.length === 0) {\r\n                    // Create one\r\n                    if (typeof progress !== 'undefined') {\r\n                        // Determined\r\n                        progressbar = $('<span class=\"progressbar progressbar-in' + (color ? ' color-' + color : '') + '\"><span></span></span>');\r\n                    }\r\n                    else {\r\n                        // Infinite\r\n                        progressbar = $('<span class=\"progressbar-infinite progressbar-in' + (color ? ' color-' + color : '') + '\"></span>');\r\n                    }\r\n                    container.append(progressbar);\r\n                }\r\n            }\r\n            if (progress) app.setProgressbar(container, progress);\r\n            return progressbar[0];\r\n        };\r\n        app.hideProgressbar = function (container) {\r\n            container = $(container || app.root);\r\n            if (container.length === 0) return;\r\n            var progressbar;\r\n            if (container.hasClass('progressbar')) progressbar = container;\r\n            else {\r\n                progressbar = container.children('.progressbar, .progressbar-infinite');\r\n            }\r\n            if (progressbar.length === 0 || !progressbar.hasClass('progressbar-in') || progressbar.hasClass('progressbar-out')) return;\r\n            progressbar.removeClass('progressbar-in').addClass('progressbar-out').animationEnd(function () {\r\n                progressbar.remove();\r\n                progressbar = null;\r\n            });\r\n            return;\r\n        };\r\n        app.initPageProgressbar = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            pageContainer.find('.progressbar').each(function () {\r\n                var p = $(this);\r\n                if (p.children('span').length === 0) p.append('<span></span>');\r\n                if (p.attr('data-progress')) app.setProgressbar(p, p.attr('data-progress'));\r\n            });\r\n        };\n\n        /*======================================================\r\n        ************   Panels   ************\r\n        ======================================================*/\r\n        app.allowPanelOpen = true;\r\n        app.openPanel = function (panelPosition) {\r\n            if (!app.allowPanelOpen) return false;\r\n            var panel = $('.panel-' + panelPosition);\r\n            if (panel.length === 0 || panel.hasClass('active')) return false;\r\n            app.closePanel(); // Close if some panel is opened\r\n            app.allowPanelOpen = false;\r\n            var effect = panel.hasClass('panel-reveal') ? 'reveal' : 'cover';\r\n            panel.css({display: 'block'}).addClass('active');\r\n            panel.trigger('open panel:open');\r\n            if (app.params.material) {\r\n                $('.panel-overlay').show();\r\n            }\r\n            if (panel.find('.' + app.params.viewClass).length > 0) {\r\n                if (app.sizeNavbars) app.sizeNavbars(panel.find('.' + app.params.viewClass)[0]);\r\n            }\r\n        \r\n            // Trigger reLayout\r\n            var clientLeft = panel[0].clientLeft;\r\n        \r\n            // Transition End;\r\n            var transitionEndTarget = effect === 'reveal' ? $('.' + app.params.viewsClass) : panel;\r\n            var openedTriggered = false;\r\n        \r\n            function panelTransitionEnd() {\r\n                transitionEndTarget.transitionEnd(function (e) {\r\n                    if ($(e.target).is(transitionEndTarget)) {\r\n                        if (panel.hasClass('active')) {\r\n                            panel.trigger('opened panel:opened');\r\n                        }\r\n                        else {\r\n                            panel.trigger('closed panel:closed');\r\n                        }\r\n                        if (app.params.material) $('.panel-overlay').css({display: ''});\r\n                        app.allowPanelOpen = true;\r\n                    }\r\n                    else panelTransitionEnd();\r\n                });\r\n            }\r\n            panelTransitionEnd();\r\n        \r\n            $('body').addClass('with-panel-' + panelPosition + '-' + effect);\r\n            return true;\r\n        };\r\n        app.closePanel = function () {\r\n            var activePanel = $('.panel.active');\r\n            if (activePanel.length === 0) return false;\r\n            var effect = activePanel.hasClass('panel-reveal') ? 'reveal' : 'cover';\r\n            var panelPosition = activePanel.hasClass('panel-left') ? 'left' : 'right';\r\n            activePanel.removeClass('active');\r\n            var transitionEndTarget = effect === 'reveal' ? $('.' + app.params.viewsClass) : activePanel;\r\n            activePanel.trigger('close panel:close');\r\n            app.allowPanelOpen = false;\r\n        \r\n            transitionEndTarget.transitionEnd(function () {\r\n                if (activePanel.hasClass('active')) return;\r\n                activePanel.css({display: ''});\r\n                activePanel.trigger('closed panel:closed');\r\n                $('body').removeClass('panel-closing');\r\n                app.allowPanelOpen = true;\r\n            });\r\n        \r\n            $('body').addClass('panel-closing').removeClass('with-panel-' + panelPosition + '-' + effect);\r\n        };\r\n        /*======================================================\r\n        ************   Swipe panels   ************\r\n        ======================================================*/\r\n        app.initSwipePanels = function () {\r\n            var panel, side;\r\n            if (app.params.swipePanel) {\r\n                panel = $('.panel.panel-' + app.params.swipePanel);\r\n                side = app.params.swipePanel;\r\n                if (panel.length === 0 && side !== 'both') return;\r\n            }\r\n            else {\r\n                if (app.params.swipePanelOnlyClose) {\r\n                    if ($('.panel').length === 0) return;\r\n                }\r\n                else return;\r\n            }\r\n        \r\n            var panelOverlay = $('.panel-overlay');\r\n            var isTouched, isMoved, isScrolling, touchesStart = {}, touchStartTime, touchesDiff, translate, overlayOpacity, opened, panelWidth, effect, direction;\r\n            var views = $('.' + app.params.viewsClass);\r\n        \r\n            function handleTouchStart(e) {\r\n                if (!app.allowPanelOpen || (!app.params.swipePanel && !app.params.swipePanelOnlyClose) || isTouched) return;\r\n                if ($('.modal-in, .photo-browser-in').length > 0) return;\r\n                if (!(app.params.swipePanelCloseOpposite || app.params.swipePanelOnlyClose)) {\r\n                    if ($('.panel.active').length > 0 && !panel.hasClass('active')) return;\r\n                }\r\n                touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\r\n                touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\r\n                if (app.params.swipePanelCloseOpposite || app.params.swipePanelOnlyClose) {\r\n                    if ($('.panel.active').length > 0) {\r\n                        side = $('.panel.active').hasClass('panel-left') ? 'left' : 'right';\r\n                    }\r\n                    else {\r\n                        if (app.params.swipePanelOnlyClose) return;\r\n                        side = app.params.swipePanel;\r\n                    }\r\n                    if (!side) return;\r\n                }\r\n                panel = $('.panel.panel-' + side);\r\n                opened = panel.hasClass('active');\r\n                if (app.params.swipePanelActiveArea && !opened) {\r\n                    if (side === 'left') {\r\n                        if (touchesStart.x > app.params.swipePanelActiveArea) return;\r\n                    }\r\n                    if (side === 'right') {\r\n                        if (touchesStart.x < window.innerWidth - app.params.swipePanelActiveArea) return;\r\n                    }\r\n                }\r\n                isMoved = false;\r\n                isTouched = true;\r\n                isScrolling = undefined;\r\n        \r\n                touchStartTime = (new Date()).getTime();\r\n                direction = undefined;\r\n            }\r\n            function handleTouchMove(e) {\r\n                if (!isTouched) return;\r\n                if (e.f7PreventPanelSwipe) return;\r\n                var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\r\n                var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n                if (typeof isScrolling === 'undefined') {\r\n                    isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\r\n                }\r\n                if (isScrolling) {\r\n                    isTouched = false;\r\n                    return;\r\n                }\r\n                if (!direction) {\r\n                    if (pageX > touchesStart.x) {\r\n                        direction = 'to-right';\r\n                    }\r\n                    else {\r\n                        direction = 'to-left';\r\n                    }\r\n        \r\n                    if(side === 'both'){\r\n                        if ($('.panel.active').length > 0) {\r\n                            side = $('.panel.active').hasClass('panel-left') ? 'left' : 'right';\r\n                        }\r\n                        else {\r\n                            side = direction === 'to-right' ? 'left' : 'right';\r\n                        }\r\n                        if (app.params.swipePanelActiveArea > 0) {\r\n                            if (side === 'left' && touchesStart.x > app.params.swipePanelActiveArea) {\r\n                                isTouched = false;\r\n                                return;\r\n                            }\r\n                            if (side === 'right' && touchesStart.x < window.innerWidth - app.params.swipePanelActiveArea) {\r\n                                isTouched = false;\r\n                                return;\r\n                            }\r\n                        }\r\n                        panel = $('.panel.panel-' + side);\r\n                    }\r\n        \r\n                    if (\r\n                        side === 'left' &&\r\n                        (\r\n                            direction === 'to-left' && !panel.hasClass('active')\r\n                        ) ||\r\n                        side === 'right' &&\r\n                        (\r\n                            direction === 'to-right' && !panel.hasClass('active')\r\n                        )\r\n                    )\r\n                    {\r\n                        isTouched = false;\r\n                        return;\r\n                    }\r\n                }\r\n        \r\n                if (app.params.swipePanelNoFollow) {\r\n                    var timeDiff = (new Date()).getTime() - touchStartTime;\r\n                    if (timeDiff < 300) {\r\n                        if (direction === 'to-left') {\r\n                            if (side === 'right') app.openPanel(side);\r\n                            if (side === 'left' && panel.hasClass('active')) app.closePanel();\r\n                        }\r\n                        if (direction === 'to-right') {\r\n                            if (side === 'left') app.openPanel(side);\r\n                            if (side === 'right' && panel.hasClass('active')) app.closePanel();\r\n                        }\r\n                    }\r\n                    isTouched = false;\r\n                    isMoved = false;\r\n                    return;\r\n                }\r\n        \r\n                if (!isMoved) {\r\n                    effect = panel.hasClass('panel-cover') ? 'cover' : 'reveal';\r\n                    if (!opened) {\r\n                        panel.show();\r\n                        panelOverlay.show();\r\n                    }\r\n                    panelWidth = panel[0].offsetWidth;\r\n                    panel.transition(0);\r\n                    if (panel.find('.' + app.params.viewClass).length > 0) {\r\n                        if (app.sizeNavbars) app.sizeNavbars(panel.find('.' + app.params.viewClass)[0]);\r\n                    }\r\n                }\r\n        \r\n                isMoved = true;\r\n        \r\n                e.preventDefault();\r\n                var threshold = opened ? 0 : -app.params.swipePanelThreshold;\r\n                if (side === 'right') threshold = -threshold;\r\n        \r\n                touchesDiff = pageX - touchesStart.x + threshold;\r\n        \r\n                if (side === 'right') {\r\n                    translate = touchesDiff  - (opened ? panelWidth : 0);\r\n                    if (translate > 0) translate = 0;\r\n                    if (translate < -panelWidth) {\r\n                        translate = -panelWidth;\r\n                    }\r\n                }\r\n                else {\r\n                    translate = touchesDiff  + (opened ? panelWidth : 0);\r\n                    if (translate < 0) translate = 0;\r\n                    if (translate > panelWidth) {\r\n                        translate = panelWidth;\r\n                    }\r\n                }\r\n                if (effect === 'reveal') {\r\n                    views.transform('translate3d(' + translate + 'px,0,0)').transition(0);\r\n                    panelOverlay.transform('translate3d(' + translate + 'px,0,0)').transition(0);\r\n        \r\n                    app.pluginHook('swipePanelSetTransform', views[0], panel[0], Math.abs(translate / panelWidth));\r\n                }\r\n                else {\r\n                    panel.transform('translate3d(' + translate + 'px,0,0)').transition(0);\r\n                    if (app.params.material) {\r\n                        panelOverlay.transition(0);\r\n                        overlayOpacity = Math.abs(translate/panelWidth);\r\n                        panelOverlay.css({opacity: overlayOpacity});\r\n                    }\r\n                    app.pluginHook('swipePanelSetTransform', views[0], panel[0], Math.abs(translate / panelWidth));\r\n                }\r\n            }\r\n            function handleTouchEnd(e) {\r\n                if (!isTouched || !isMoved) {\r\n                    isTouched = false;\r\n                    isMoved = false;\r\n                    return;\r\n                }\r\n                isTouched = false;\r\n                isMoved = false;\r\n                var timeDiff = (new Date()).getTime() - touchStartTime;\r\n                var action;\r\n                var edge = (translate === 0 || Math.abs(translate) === panelWidth);\r\n        \r\n                if (!opened) {\r\n                    if (translate === 0) {\r\n                        action = 'reset';\r\n                    }\r\n                    else if (\r\n                        timeDiff < 300 && Math.abs(translate) > 0 ||\r\n                        timeDiff >= 300 && (Math.abs(translate) >= panelWidth / 2)\r\n                    ) {\r\n                        action = 'swap';\r\n                    }\r\n                    else {\r\n                        action = 'reset';\r\n                    }\r\n                }\r\n                else {\r\n                    if (translate === -panelWidth) {\r\n                        action = 'reset';\r\n                    }\r\n                    else if (\r\n                        timeDiff < 300 && Math.abs(translate) >= 0 ||\r\n                        timeDiff >= 300 && (Math.abs(translate) <= panelWidth / 2)\r\n                    ) {\r\n                        if (side === 'left' && translate === panelWidth) action = 'reset';\r\n                        else action = 'swap';\r\n                    }\r\n                    else {\r\n                        action = 'reset';\r\n                    }\r\n                }\r\n                if (action === 'swap') {\r\n                    app.allowPanelOpen = true;\r\n                    if (opened) {\r\n                        app.closePanel();\r\n                        if (edge) {\r\n                            panel.css({display: ''});\r\n                            $('body').removeClass('panel-closing');\r\n                        }\r\n                    }\r\n                    else {\r\n                        app.openPanel(side);\r\n                    }\r\n                    if (edge) app.allowPanelOpen = true;\r\n                }\r\n                if (action === 'reset') {\r\n                    if (opened) {\r\n                        app.allowPanelOpen = true;\r\n                        app.openPanel(side);\r\n                    }\r\n                    else {\r\n                        app.closePanel();\r\n                        if (edge) {\r\n                            app.allowPanelOpen = true;\r\n                            panel.css({display: ''});\r\n                        }\r\n                        else {\r\n                            var target = effect === 'reveal' ? views : panel;\r\n                            panel.trigger('close panel:close');\r\n                            $('body').addClass('panel-closing');\r\n                            target.transitionEnd(function () {\r\n                                panel.trigger('close panel:closed');\r\n                                panel.css({display: ''});\r\n                                $('body').removeClass('panel-closing');\r\n                                app.allowPanelOpen = true;\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                if (effect === 'reveal') {\r\n                    views.transition('');\r\n                    views.transform('');\r\n                }\r\n                panel.transition('').transform('');\r\n                panelOverlay.css({display: ''}).transform('').transition('').css('opacity', '');\r\n            }\r\n            var passiveListener = app.touchEvents.start === 'touchstart' && app.support.passiveListener ? {passive: true, capture: false} : false;\r\n            $(document).on(app.touchEvents.start, handleTouchStart, passiveListener);\r\n            $(document).on(app.touchEvents.move, handleTouchMove);\r\n            $(document).on(app.touchEvents.end, handleTouchEnd, passiveListener);\r\n        };\r\n        \n\n        /*======================================================\r\n        ************   Image Lazy Loading   ************\r\n        ************   Based on solution by Marc Godard, https://github.com/MarcGodard   ************\r\n        ======================================================*/\r\n        app.initImagesLazyLoad = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n        \r\n            // Lazy images\r\n            var lazyLoadImages;\r\n            if (pageContainer.hasClass('lazy')) {\r\n                lazyLoadImages = pageContainer;\r\n                pageContainer = lazyLoadImages.parents('.page');\r\n            }\r\n            else {\r\n                lazyLoadImages = pageContainer.find('.lazy');\r\n            }\r\n            if (lazyLoadImages.length === 0) return;\r\n        \r\n            // Scrollable page content\r\n            var pageContent;\r\n            if (pageContainer.hasClass('page-content'))  {\r\n                pageContent = pageContainer;\r\n                pageContainer = pageContainer.parents('.page');\r\n            }\r\n            else  {\r\n                pageContent = pageContainer.find('.page-content');\r\n            }\r\n            if (pageContent.length === 0) return;\r\n        \r\n            // Placeholder\r\n            var placeholderSrc = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==';\r\n            if (typeof app.params.imagesLazyLoadPlaceholder === 'string') {\r\n                placeholderSrc = app.params.imagesLazyLoadPlaceholder;\r\n            }\r\n            if (app.params.imagesLazyLoadPlaceholder !== false) lazyLoadImages.each(function(){\r\n                if ($(this).attr('data-src')) $(this).attr('src', placeholderSrc);\r\n            });\r\n        \r\n            // load image\r\n            var imagesSequence = [];\r\n            var imageIsLoading = false;\r\n            function loadImage(el) {\r\n                el = $(el);\r\n        \r\n                var bg = el.attr('data-background');\r\n                var src = bg ? bg : el.attr('data-src');\r\n                if (!src) return;\r\n        \r\n                function onLoad() {\r\n                    el.removeClass('lazy').addClass('lazy-loaded');\r\n                    if (bg) {\r\n                        el.css('background-image', 'url(' + src + ')');\r\n                    }\r\n                    else {\r\n                        el.attr('src', src);\r\n                    }\r\n        \r\n                    if (app.params.imagesLazyLoadSequential) {\r\n                        imageIsLoading = false;\r\n                        if (imagesSequence.length > 0) {\r\n                            loadImage(imagesSequence.shift());\r\n                        }\r\n                    }\r\n                }\r\n                \r\n                function onError() {\r\n                    el.removeClass('lazy').addClass('lazy-loaded');\r\n                    if (bg) {\r\n                        el.css('background-image', 'url(' + placeholderSrc + ')');\r\n                    }\r\n                    else {\r\n                        el.attr('src', placeholderSrc);\r\n                    }\r\n        \r\n                    if (app.params.imagesLazyLoadSequential) {\r\n                        imageIsLoading = false;\r\n                        if (imagesSequence.length > 0) {\r\n                            loadImage(imagesSequence.shift());\r\n                        }\r\n                    }\r\n                }\r\n        \r\n                if (app.params.imagesLazyLoadSequential) {\r\n                    if (imageIsLoading) {\r\n                        if (imagesSequence.indexOf(el[0]) < 0) imagesSequence.push(el[0]);\r\n                        return;\r\n                    }\r\n                }\r\n        \r\n                // Loading flag\r\n                imageIsLoading = true;\r\n                \r\n                var image = new Image();\r\n                image.onload = onLoad;\r\n                image.onerror = onError;\r\n                image.src =src;\r\n            }\r\n            function lazyHandler() {\r\n                lazyLoadImages = pageContainer.find('.lazy');\r\n                lazyLoadImages.each(function(index, el) {\r\n                    el = $(el);\r\n                    if (el.parents('.tab:not(.active)').length > 0) {\r\n                        return;\r\n                    }\r\n                    if (isElementInViewport(el[0])) {\r\n                        loadImage(el);\r\n                    }\r\n                });\r\n            }\r\n        \r\n            function isElementInViewport (el) {\r\n                var rect = el.getBoundingClientRect();\r\n                var threshold = app.params.imagesLazyLoadThreshold || 0;\r\n                return (\r\n                    rect.top >= (0 - threshold) &&\r\n                    rect.left >= (0 - threshold) &&\r\n                    rect.top <= (window.innerHeight + threshold) &&\r\n                    rect.left <= (window.innerWidth + threshold)\r\n                );\r\n            }\r\n        \r\n            function attachEvents(destroy) {\r\n                var method = destroy ? 'off' : 'on';\r\n                lazyLoadImages[method]('lazy', lazyHandler);\r\n                lazyLoadImages.parents('.tab')[method]('show', lazyHandler);\r\n                pageContainer[method]('lazy', lazyHandler);\r\n                pageContent[method]('lazy', lazyHandler);\r\n                pageContent[method]('scroll', lazyHandler);\r\n                $(window)[method]('resize', lazyHandler);\r\n            }\r\n            function detachEvents() {\r\n                attachEvents(true);\r\n            }\r\n        \r\n            // Store detach function\r\n            pageContainer[0].f7DestroyImagesLazyLoad = detachEvents;\r\n        \r\n            // Attach events\r\n            attachEvents();\r\n        \r\n            // Destroy on page remove\r\n            if (pageContainer.hasClass('page')) {\r\n                pageContainer.once('page:beforeremove', detachEvents);\r\n            }\r\n        \r\n            // Run loader on page load/init\r\n            lazyHandler();\r\n        \r\n            // Run after page animation\r\n            pageContainer.once('page:afteranimation', lazyHandler);\r\n        };\r\n        app.destroyImagesLazyLoad = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            if (pageContainer.length > 0 && pageContainer[0].f7DestroyImagesLazyLoad) {\r\n                pageContainer[0].f7DestroyImagesLazyLoad();\r\n            }\r\n        };\r\n        app.reinitImagesLazyLoad = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            if (pageContainer.length > 0) {\r\n                pageContainer.trigger('lazy');\r\n            }\r\n        };\r\n        \n\n        /*======================================================\r\n        ************   Material Preloader   ************\r\n        ======================================================*/\r\n        app.initPageMaterialPreloader = function (pageContainer) {\r\n            $(pageContainer).find('.preloader').each(function () {\r\n                if ($(this).children().length === 0) {\r\n                    $(this).html(app.params.materialPreloaderHtml);\r\n                }\r\n            });\r\n        };\n\n        /*======================================================\r\n        ************   Messages   ************\r\n        ======================================================*/\r\n        var Messages = function (container, params) {\r\n            var defaults = {\r\n                autoLayout: true,\r\n                newMessagesFirst: false,\r\n                scrollMessages: true,\r\n                scrollMessagesOnlyOnEdge: false,\r\n                messageTemplate:\r\n                    '{{#if day}}' +\r\n                    '<div class=\"messages-date\">{{day}} {{#if time}}, <span>{{time}}</span>{{/if}}</div>' +\r\n                    '{{/if}}' +\r\n                    '<div class=\"message message-{{type}} {{#if hasImage}}message-pic{{/if}} {{#if avatar}}message-with-avatar{{/if}} {{#if position}}message-appear-from-{{position}}{{/if}}\">' +\r\n                        '{{#if name}}<div class=\"message-name\">{{name}}</div>{{/if}}' +\r\n                        '<div class=\"message-text\">{{text}}{{#if date}}<div class=\"message-date\">{{date}}</div>{{/if}}</div>' +\r\n                        '{{#if avatar}}<div class=\"message-avatar\" style=\"background-image:url({{avatar}})\"></div>{{/if}}' +\r\n                        '{{#if label}}<div class=\"message-label\">{{label}}</div>{{/if}}' +\r\n                    '</div>'\r\n            };\r\n            params = params || {};\r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined' || params[def] === null) {\r\n                    params[def] = defaults[def];\r\n                }\r\n            }\r\n        \r\n            // Instance\r\n            var m = this;\r\n        \r\n            // Params\r\n            m.params = params;\r\n        \r\n            // Container\r\n            m.container = $(container);\r\n            if (m.container.length === 0) return;\r\n        \r\n            // Autolayout\r\n            if (m.params.autoLayout) m.container.addClass('messages-auto-layout');\r\n        \r\n            // New messages first\r\n            if (m.params.newMessagesFirst) m.container.addClass('messages-new-first');\r\n        \r\n            // Is In Page\r\n            m.pageContainer = m.container.parents('.page').eq(0);\r\n            m.pageContent = m.pageContainer.find('.page-content');\r\n        \r\n            // Compiled template\r\n            m.template = Template7.compile(m.params.messageTemplate);\r\n        \r\n            // Auto Layout\r\n            m.layout = function () {\r\n                if (!m.container.hasClass('messages-auto-layout')) m.container.addClass('messages-auto-layout');\r\n                m.container.find('.message').each(function () {\r\n                    var message = $(this);\r\n                    if (message.find('.message-text img').length > 0) {\r\n                        var childNodes = message.find('.message-text')[0].childNodes;\r\n                        var onlyPic = true;\r\n                        for (var i = 0 ; i < childNodes.length; i++) {\r\n                            if (childNodes[i].nodeType === 1 && childNodes[i].nodeName.toLowerCase() !== 'img') onlyPic = false;\r\n                            if (childNodes[i].nodeType === 3 && childNodes[i].textContent.trim() !== '') onlyPic = false;\r\n                        }\r\n                        if (onlyPic) message.addClass('message-pic');\r\n                        else message.removeClass('message-pic');\r\n                    }\r\n                    if (message.find('.message-avatar').length > 0) message.addClass('message-with-avatar');\r\n                });\r\n                m.container.find('.message').each(function () {\r\n                    var message = $(this);\r\n                    var isSent = message.hasClass('message-sent');\r\n                    var next = message.next('.message-' + (isSent ? 'sent' : 'received'));\r\n                    var prev = message.prev('.message-' + (isSent ? 'sent' : 'received'));\r\n                    if (next.length === 0) {\r\n                        message.addClass('message-last message-with-tail');\r\n                    }\r\n                    else message.removeClass('message-last message-with-tail');\r\n        \r\n                    if (prev.length === 0) {\r\n                        message.addClass('message-first');\r\n                    }\r\n                    else message.removeClass('message-first');\r\n        \r\n                    if (prev.length > 0 && prev.find('.message-name').length > 0 && message.find('.message-name').length > 0) {\r\n                        if (prev.find('.message-name').text() !== message.find('.message-name').text()) {\r\n                            prev.addClass('message-last message-with-tail');\r\n                            message.addClass('message-first');\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n        \r\n            // Add Message\r\n            m.appendMessage = function (props, animate) {\r\n                return m.addMessage(props, 'append', animate);\r\n            };\r\n            m.prependMessage = function (props, animate) {\r\n                return m.addMessage(props, 'prepend', animate);\r\n            };\r\n            m.addMessage = function (props, method, animate) {\r\n                return m.addMessages([props], method, animate);\r\n            };\r\n            m.addMessages = function (newMessages, method, animate) {\r\n                if (typeof animate === 'undefined') {\r\n                    animate = true;\r\n                }\r\n                if (typeof method === 'undefined') {\r\n                    method = m.params.newMessagesFirst ? 'prepend' : 'append';\r\n                }\r\n                var newMessagesHTML = '', i;\r\n                for (i = 0; i < newMessages.length; i++) {\r\n                    var props = newMessages[i] || {};\r\n                    props.type = props.type || 'sent';\r\n                    if (!props.text) continue;\r\n                    props.hasImage = props.text.indexOf('<img') >= 0;\r\n                    if (props.onlyImage === false) props.hasImage = false;\r\n                    if (animate) props.position = method === 'append' ? 'bottom' : 'top';\r\n        \r\n                    newMessagesHTML += m.template(props);\r\n                }\r\n                var scrollHeightBefore = m.pageContent[0].scrollHeight,\r\n                    heightBefore = m.pageContent[0].offsetHeight,\r\n                    scrollBefore = m.pageContent[0].scrollTop;\r\n                m.container[method](newMessagesHTML);\r\n                if (m.params.autoLayout) m.layout();\r\n                if (method === 'prepend') {\r\n                    m.pageContent[0].scrollTop = scrollBefore + (m.pageContent[0].scrollHeight - scrollHeightBefore);\r\n                }\r\n                if (m.params.scrollMessages && (method === 'append' && !m.params.newMessagesFirst) || (method === 'prepend' && m.params.newMessagesFirst)) {\r\n                    if (m.params.scrollMessagesOnlyOnEdge) {\r\n                        var onEdge = false;\r\n                        if (m.params.newMessagesFirst) {\r\n                            if (scrollBefore === 0) onEdge = true;\r\n                        }\r\n                        else {\r\n                            if (scrollBefore - (scrollHeightBefore - heightBefore) >= -10) onEdge = true;\r\n                        }\r\n                        if (onEdge) m.scrollMessages(animate ? undefined : 0);\r\n                    }\r\n                    else m.scrollMessages(animate ? undefined : 0);\r\n                }\r\n                var messages = m.container.find('.message');\r\n                if (newMessages.length === 1) {\r\n                    return method === 'append' ? messages[messages.length - 1] : messages[0];\r\n                }\r\n                else {\r\n                    var messagesToReturn = [];\r\n                    if (method === 'append') {\r\n                        for (i = messages.length - newMessages.length; i < messages.length; i++) {\r\n                            messagesToReturn.push(messages[i]);\r\n                        }\r\n                    }\r\n                    else {\r\n                        for (i = 0; i < newMessages.length; i++) {\r\n                            messagesToReturn.push(messages[i]);\r\n                        }\r\n                    }\r\n                    return messagesToReturn;\r\n                }\r\n        \r\n            };\r\n            m.removeMessage = function (message) {\r\n                message = $(message);\r\n                if (message.length === 0) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    message.remove();\r\n                    if (m.params.autoLayout) m.layout();\r\n                    return true;\r\n                }\r\n            };\r\n            m.removeMessages = function (messages) {\r\n                m.removeMessage(messages);\r\n            };\r\n            m.clean = function () {\r\n                m.container.html('');\r\n            };\r\n        \r\n            // Scroll\r\n            m.scrollMessages = function (duration, scrollTop) {\r\n                if (typeof duration === 'undefined') duration = 400;\r\n                var currentScroll = m.pageContent[0].scrollTop;\r\n                var newScroll;\r\n                if (typeof scrollTop !== 'undefined') newScroll = scrollTop;\r\n                else {\r\n                    newScroll = m.params.newMessagesFirst ? 0 : m.pageContent[0].scrollHeight - m.pageContent[0].offsetHeight;\r\n                    if (newScroll === currentScroll) return;\r\n                }\r\n                m.pageContent.scrollTop(newScroll, duration);\r\n            };\r\n        \r\n            // Init Destroy\r\n            m.init = function () {\r\n                if (m.params.messages) {\r\n                    m.addMessages(m.params.messages, undefined, false);\r\n                }\r\n                else {\r\n                    if (m.params.autoLayout) m.layout();\r\n                    m.scrollMessages(0);\r\n                }\r\n        \r\n            };\r\n            m.destroy = function () {\r\n                m = null;\r\n            };\r\n        \r\n            // Init\r\n            m.init();\r\n        \r\n            m.container[0].f7Messages = m;\r\n            return m;\r\n        };\r\n        app.messages = function (container, params) {\r\n            return new Messages (container, params);\r\n        };\r\n        app.initPageMessages = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var messages = pageContainer.find('.messages');\r\n            if (messages.length === 0) return;\r\n            if (!messages.hasClass('messages-init')) {\r\n                return;\r\n            }\r\n            var m = app.messages(messages, messages.dataset());\r\n        \r\n            // Destroy on page remove\r\n            function pageBeforeRemove() {\r\n                m.destroy();\r\n                pageContainer.off('page:beforeremove', pageBeforeRemove);\r\n            }\r\n            if (pageContainer.hasClass('page')) {\r\n                pageContainer.on('page:beforeremove', pageBeforeRemove);\r\n            }\r\n        };\r\n        \n\n        /*===============================================================================\r\n        ************   Swipeout Actions (Swipe to delete)   ************\r\n        ===============================================================================*/\r\n        app.swipeoutOpenedEl = undefined;\r\n        app.allowSwipeout = true;\r\n        app.initSwipeout = function (swipeoutEl) {\r\n            var isTouched, isMoved, isScrolling, touchesStart = {}, touchStartTime, touchesDiff, swipeOutEl, swipeOutContent, actionsRight, actionsLeft, actionsLeftWidth, actionsRightWidth, translate, opened, openedActions, buttonsLeft, buttonsRight, direction, overswipeLeftButton, overswipeRightButton, overswipeLeft, overswipeRight, noFoldLeft, noFoldRight;\r\n            $(document).on(app.touchEvents.start, function (e) {\r\n                if (app.swipeoutOpenedEl) {\r\n                    var target = $(e.target);\r\n                    if (!(\r\n                        app.swipeoutOpenedEl.is(target[0]) ||\r\n                        target.parents('.swipeout').is(app.swipeoutOpenedEl) ||\r\n                        target.hasClass('modal-in') ||\r\n                        target.hasClass('modal-overlay') ||\r\n                        target.hasClass('actions-modal') || \r\n                        target.parents('.actions-modal.modal-in, .modal.modal-in').length > 0\r\n                        )) {\r\n                        app.swipeoutClose(app.swipeoutOpenedEl);\r\n                    }\r\n                }\r\n            });\r\n        \r\n            function handleTouchStart(e) {\r\n                if (!app.allowSwipeout) return;\r\n                isMoved = false;\r\n                isTouched = true;\r\n                isScrolling = undefined;\r\n                touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\r\n                touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\r\n                touchStartTime = (new Date()).getTime();\r\n            }\r\n            function handleTouchMove(e) {\r\n                if (!isTouched) return;\r\n                var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\r\n                var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n                if (typeof isScrolling === 'undefined') {\r\n                    isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\r\n                }\r\n                if (isScrolling) {\r\n                    isTouched = false;\r\n                    return;\r\n                }\r\n        \r\n                if (!isMoved) {\r\n                    if ($('.list-block.sortable-opened').length > 0) return;\r\n                    /*jshint validthis:true */\r\n                    swipeOutEl = $(this);\r\n                    swipeOutContent = swipeOutEl.find('.swipeout-content');\r\n                    actionsRight = swipeOutEl.find('.swipeout-actions-right');\r\n                    actionsLeft = swipeOutEl.find('.swipeout-actions-left');\r\n                    actionsLeftWidth = actionsRightWidth = buttonsLeft = buttonsRight = overswipeRightButton = overswipeLeftButton = null;\r\n                    noFoldLeft = actionsLeft.hasClass('swipeout-actions-no-fold') || app.params.swipeoutActionsNoFold;\r\n                    noFoldRight = actionsRight.hasClass('swipeout-actions-no-fold') || app.params.swipeoutActionsNoFold;\r\n                    if (actionsLeft.length > 0) {\r\n                        actionsLeftWidth = actionsLeft.outerWidth();\r\n                        buttonsLeft = actionsLeft.children('a');\r\n                        overswipeLeftButton = actionsLeft.find('.swipeout-overswipe');\r\n                    }\r\n                    if (actionsRight.length > 0) {\r\n                        actionsRightWidth = actionsRight.outerWidth();\r\n                        buttonsRight = actionsRight.children('a');\r\n                        overswipeRightButton = actionsRight.find('.swipeout-overswipe');\r\n                    }\r\n                    opened = swipeOutEl.hasClass('swipeout-opened');\r\n                    if (opened) {\r\n                        openedActions = swipeOutEl.find('.swipeout-actions-left.swipeout-actions-opened').length > 0 ? 'left' : 'right';\r\n                    }\r\n                    swipeOutEl.removeClass('transitioning');\r\n                    if (!app.params.swipeoutNoFollow) {\r\n                        swipeOutEl.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\r\n                        swipeOutEl.removeClass('swipeout-opened');\r\n                    }\r\n                }\r\n                isMoved = true;\r\n                e.preventDefault();\r\n                \r\n                touchesDiff = pageX - touchesStart.x;\r\n                translate = touchesDiff;\r\n        \r\n                if (opened) {\r\n                    if (openedActions === 'right') translate = translate - actionsRightWidth;\r\n                    else translate = translate + actionsLeftWidth;\r\n                }\r\n        \r\n                if (translate > 0 && actionsLeft.length === 0 || translate < 0 && actionsRight.length === 0) {\r\n                    if (!opened) {\r\n                        isTouched = isMoved = false;\r\n                        swipeOutContent.transform('');\r\n                        if (buttonsRight && buttonsRight.length > 0) {\r\n                            buttonsRight.transform('');\r\n                        }\r\n                        if (buttonsLeft && buttonsLeft.length > 0) {\r\n                            buttonsLeft.transform('');\r\n                        }\r\n                        return;\r\n                    }\r\n                    translate = 0;\r\n                }\r\n        \r\n                if (translate < 0) direction = 'to-left';\r\n                else if (translate > 0) direction = 'to-right';\r\n                else {\r\n                    if (!direction) direction = 'to-left';\r\n                }\r\n                \r\n                var i, buttonOffset, progress;\r\n                \r\n                e.f7PreventPanelSwipe = true;\r\n                if (app.params.swipeoutNoFollow) {\r\n                    if (opened) {\r\n                        if (openedActions === 'right' && touchesDiff > 0) {\r\n                            app.swipeoutClose(swipeOutEl);\r\n                        }\r\n                        if (openedActions === 'left' && touchesDiff < 0) {\r\n                            app.swipeoutClose(swipeOutEl);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (touchesDiff < 0 && actionsRight.length > 0) {\r\n                            app.swipeoutOpen(swipeOutEl, 'right');\r\n                        }\r\n                        if (touchesDiff > 0 && actionsLeft.length > 0) {\r\n                            app.swipeoutOpen(swipeOutEl, 'left');\r\n                        }\r\n                    }\r\n                    isTouched = false;\r\n                    isMoved = false;\r\n                    return;\r\n                }\r\n                overswipeLeft = false;\r\n                overswipeRight = false;\r\n                var $button;\r\n                if (actionsRight.length > 0) {\r\n                    // Show right actions\r\n                    progress = translate / actionsRightWidth;\r\n                    if (translate < -actionsRightWidth) {\r\n                        translate = -actionsRightWidth - Math.pow(-translate - actionsRightWidth, 0.8);\r\n                        if (overswipeRightButton.length > 0) {\r\n                            overswipeRight = true;\r\n                        }\r\n                    }\r\n                    for (i = 0; i < buttonsRight.length; i++) {\r\n                        if (typeof buttonsRight[i]._buttonOffset === 'undefined') {\r\n                            buttonsRight[i]._buttonOffset = buttonsRight[i].offsetLeft;\r\n                        }\r\n                        buttonOffset = buttonsRight[i]._buttonOffset;\r\n                        $button = $(buttonsRight[i]);\r\n                        if (overswipeRightButton.length > 0 && $button.hasClass('swipeout-overswipe')) {\r\n                            $button.css({left: (overswipeRight ? -buttonOffset : 0) + 'px'});\r\n                            if (overswipeRight) {\r\n                                $button.addClass('swipeout-overswipe-active');\r\n                            }\r\n                            else {\r\n                                $button.removeClass('swipeout-overswipe-active');   \r\n                            }\r\n                        }\r\n                        $button.transform('translate3d(' + (translate - buttonOffset * (1 + Math.max(progress, -1))) + 'px,0,0)');\r\n                    }\r\n                }\r\n                if (actionsLeft.length > 0) {\r\n                    // Show left actions\r\n                    progress = translate / actionsLeftWidth;\r\n                    if (translate > actionsLeftWidth) {\r\n                        translate = actionsLeftWidth + Math.pow(translate - actionsLeftWidth, 0.8);\r\n                        if (overswipeLeftButton.length > 0) {\r\n                            overswipeLeft = true;\r\n                        }\r\n                    }\r\n                    for (i = 0; i < buttonsLeft.length; i++) {\r\n                        if (typeof buttonsLeft[i]._buttonOffset === 'undefined') {\r\n                            buttonsLeft[i]._buttonOffset = actionsLeftWidth - buttonsLeft[i].offsetLeft - buttonsLeft[i].offsetWidth;\r\n                        }\r\n                        buttonOffset = buttonsLeft[i]._buttonOffset;\r\n                        $button = $(buttonsLeft[i]);\r\n                        if (overswipeLeftButton.length > 0 && $button.hasClass('swipeout-overswipe')) {\r\n                            $button.css({left: (overswipeLeft ? buttonOffset : 0) + 'px'});\r\n                            if (overswipeLeft) {\r\n                                $button.addClass('swipeout-overswipe-active');\r\n                            }\r\n                            else {\r\n                                $button.removeClass('swipeout-overswipe-active');   \r\n                            }\r\n                        }\r\n                        if (buttonsLeft.length > 1) {\r\n                            $button.css('z-index', buttonsLeft.length - i); \r\n                        }\r\n                        $button.transform('translate3d(' + (translate + buttonOffset * (1 - Math.min(progress, 1))) + 'px,0,0)');\r\n                    }\r\n                }\r\n                swipeOutContent.transform('translate3d(' + translate + 'px,0,0)');\r\n            }\r\n            function handleTouchEnd(e) {\r\n                if (!isTouched || !isMoved) {\r\n                    isTouched = false;\r\n                    isMoved = false;\r\n                    return;\r\n                }\r\n        \r\n                isTouched = false;\r\n                isMoved = false;\r\n                var timeDiff = (new Date()).getTime() - touchStartTime;\r\n                var action, actionsWidth, actions, buttons, i;\r\n        \r\n                actions = direction === 'to-left' ? actionsRight : actionsLeft;\r\n                actionsWidth = direction === 'to-left' ? actionsRightWidth : actionsLeftWidth;\r\n        \r\n                if (\r\n                    timeDiff < 300 && (touchesDiff < -10 && direction === 'to-left' || touchesDiff > 10 && direction === 'to-right') ||\r\n                    timeDiff >= 300 && Math.abs(translate) > actionsWidth / 2\r\n                ) {\r\n                    action = 'open';\r\n                }\r\n                else {\r\n                    action = 'close';\r\n                }\r\n                if (timeDiff < 300) {\r\n                    if (Math.abs(translate) === 0) action = 'close';\r\n                    if (Math.abs(translate) === actionsWidth) action = 'open';\r\n                }\r\n                \r\n                if (action === 'open') {\r\n                    app.swipeoutOpenedEl = swipeOutEl;\r\n                    swipeOutEl.trigger('open swipeout:open');\r\n                    swipeOutEl.addClass('swipeout-opened transitioning');\r\n                    var newTranslate = direction === 'to-left' ? -actionsWidth : actionsWidth;\r\n                    swipeOutContent.transform('translate3d(' + newTranslate + 'px,0,0)');\r\n                    actions.addClass('swipeout-actions-opened');\r\n                    buttons = direction === 'to-left' ? buttonsRight : buttonsLeft;\r\n                    if (buttons) {\r\n                        for (i = 0; i < buttons.length; i++) {\r\n                            $(buttons[i]).transform('translate3d(' + newTranslate + 'px,0,0)');\r\n                        }\r\n                    }\r\n                    if (overswipeRight) {\r\n                        actionsRight.find('.swipeout-overswipe')[0].click();\r\n                    }\r\n                    if (overswipeLeft) {\r\n                        actionsLeft.find('.swipeout-overswipe')[0].click();\r\n                    }\r\n                }\r\n                else {\r\n                    swipeOutEl.trigger('close swipeout:close');\r\n                    app.swipeoutOpenedEl = undefined;\r\n                    swipeOutEl.addClass('transitioning').removeClass('swipeout-opened');\r\n                    swipeOutContent.transform('');\r\n                    actions.removeClass('swipeout-actions-opened');\r\n                }\r\n                \r\n                var buttonOffset;\r\n                if (buttonsLeft && buttonsLeft.length > 0 && buttonsLeft !== buttons) {\r\n                    for (i = 0; i < buttonsLeft.length; i++) {\r\n                        buttonOffset = buttonsLeft[i]._buttonOffset;\r\n                        if (typeof buttonOffset === 'undefined') {\r\n                            buttonsLeft[i]._buttonOffset = actionsLeftWidth - buttonsLeft[i].offsetLeft - buttonsLeft[i].offsetWidth;\r\n                        }\r\n                        $(buttonsLeft[i]).transform('translate3d(' + (buttonOffset) + 'px,0,0)');\r\n                    }\r\n                }\r\n                if (buttonsRight && buttonsRight.length > 0 && buttonsRight !== buttons) {\r\n                    for (i = 0; i < buttonsRight.length; i++) {\r\n                        buttonOffset = buttonsRight[i]._buttonOffset;\r\n                        if (typeof buttonOffset === 'undefined') {\r\n                            buttonsRight[i]._buttonOffset = buttonsRight[i].offsetLeft;\r\n                        }\r\n                        $(buttonsRight[i]).transform('translate3d(' + (-buttonOffset) + 'px,0,0)');\r\n                    }\r\n                }\r\n                swipeOutContent.transitionEnd(function (e) {\r\n                    if (opened && action === 'open' || closed && action === 'close') return;\r\n                    swipeOutEl.trigger(action === 'open' ? 'opened' : 'closed');\r\n                    if (opened && action === 'close') {\r\n                        if (actionsRight.length > 0) {\r\n                            buttonsRight.transform('');\r\n                        }\r\n                        if (actionsLeft.length > 0) {\r\n                            buttonsLeft.transform('');\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if (swipeoutEl) {\r\n                $(swipeoutEl).on(app.touchEvents.start, handleTouchStart);\r\n                $(swipeoutEl).on(app.touchEvents.move, handleTouchMove);\r\n                $(swipeoutEl).on(app.touchEvents.end, handleTouchEnd);\r\n            }\r\n            else {\r\n                $(document).on(app.touchEvents.start, '.list-block li.swipeout', handleTouchStart);\r\n                $(document).on(app.touchEvents.move, '.list-block li.swipeout', handleTouchMove);\r\n                $(document).on(app.touchEvents.end, '.list-block li.swipeout', handleTouchEnd);\r\n            }\r\n                \r\n        };\r\n        app.swipeoutOpen = function (el, dir, callback) {\r\n            el = $(el);\r\n            if (arguments.length === 2) {\r\n                if (typeof arguments[1] === 'function') {\r\n                    callback = dir;\r\n                }\r\n            }\r\n        \r\n            if (el.length === 0) return;\r\n            if (el.length > 1) el = $(el[0]);\r\n            if (!el.hasClass('swipeout') || el.hasClass('swipeout-opened')) return;\r\n            if (!dir) {\r\n                if (el.find('.swipeout-actions-right').length > 0) dir = 'right';\r\n                else dir = 'left';\r\n            }\r\n            var swipeOutActions = el.find('.swipeout-actions-' + dir);\r\n            if (swipeOutActions.length === 0) return;\r\n            el.trigger('open swipeout:open').addClass('swipeout-opened').removeClass('transitioning');\r\n            swipeOutActions.addClass('swipeout-actions-opened');\r\n            var buttons = swipeOutActions.children('a');\r\n            var swipeOutActionsWidth = swipeOutActions.outerWidth();\r\n            var translate = dir === 'right' ? -swipeOutActionsWidth : swipeOutActionsWidth;\r\n            var i;\r\n            if (buttons.length > 1) {\r\n                for (i = 0; i < buttons.length; i++) {\r\n                    if (dir === 'right') {\r\n                        $(buttons[i]).transform('translate3d(' + (- buttons[i].offsetLeft) + 'px,0,0)');\r\n                    }\r\n                    else {\r\n                        $(buttons[i]).css('z-index', buttons.length - i).transform('translate3d(' + (swipeOutActionsWidth - buttons[i].offsetWidth - buttons[i].offsetLeft) + 'px,0,0)');\r\n                    }\r\n                }\r\n                var clientLeft = buttons[1].clientLeft;\r\n            }\r\n            el.addClass('transitioning');\r\n            for (i = 0; i < buttons.length; i++) {\r\n                $(buttons[i]).transform('translate3d(' + (translate) + 'px,0,0)');\r\n            }\r\n            el.find('.swipeout-content').transform('translate3d(' + translate + 'px,0,0)').transitionEnd(function () {\r\n                el.trigger('opened swipeout:opened');\r\n                if (callback) callback.call(el[0]);\r\n            });\r\n            app.swipeoutOpenedEl = el;\r\n        };\r\n        app.swipeoutClose = function (el, callback) {\r\n            el = $(el);\r\n            if (el.length === 0) return;\r\n            if (!el.hasClass('swipeout-opened')) return;\r\n            var dir = el.find('.swipeout-actions-opened').hasClass('swipeout-actions-right') ? 'right' : 'left';\r\n            var swipeOutActions = el.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\r\n            var buttons = swipeOutActions.children('a');\r\n            var swipeOutActionsWidth = swipeOutActions.outerWidth();\r\n            app.allowSwipeout = false;\r\n            el.trigger('close swipeout:close');\r\n            el.removeClass('swipeout-opened').addClass('transitioning');\r\n        \r\n            var closeTO;\r\n            function onSwipeoutClose() {\r\n                app.allowSwipeout = true;\r\n                if (el.hasClass('swipeout-opened')) return;\r\n                el.removeClass('transitioning');\r\n                buttons.transform('');\r\n                el.trigger('closed swipeout:closed');\r\n                if (callback) callback.call(el[0]);\r\n                if (closeTO) clearTimeout(closeTO);\r\n            }\r\n            el.find('.swipeout-content').transform('').transitionEnd(onSwipeoutClose);\r\n            closeTO = setTimeout(onSwipeoutClose, 500);\r\n            \r\n            for (var i = 0; i < buttons.length; i++) {\r\n                if (dir === 'right') {\r\n                    $(buttons[i]).transform('translate3d(' + (-buttons[i].offsetLeft) + 'px,0,0)');\r\n                }\r\n                else {\r\n                    $(buttons[i]).transform('translate3d(' + (swipeOutActionsWidth - buttons[i].offsetWidth - buttons[i].offsetLeft) + 'px,0,0)');\r\n                }\r\n                $(buttons[i]).css({left:0 + 'px'}).removeClass('swipeout-overswipe-active');\r\n            }\r\n            if (app.swipeoutOpenedEl && app.swipeoutOpenedEl[0] === el[0]) app.swipeoutOpenedEl = undefined;\r\n        };\r\n        app.swipeoutDelete = function (el, callback) {\r\n            el = $(el);\r\n            if (el.length === 0) return;\r\n            if (el.length > 1) el = $(el[0]);\r\n            app.swipeoutOpenedEl = undefined;\r\n            el.trigger('delete swipeout:delete');\r\n            el.css({height: el.outerHeight() + 'px'});\r\n            var clientLeft = el[0].clientLeft;\r\n            el.css({height: 0 + 'px'}).addClass('deleting transitioning').transitionEnd(function () {\r\n                el.trigger('deleted swipeout:deleted');\r\n                if (callback) callback.call(el[0]);\r\n                if (el.parents('.virtual-list').length > 0) {\r\n                    var virtualList = el.parents('.virtual-list')[0].f7VirtualList;\r\n                    var virtualIndex = el[0].f7VirtualListIndex;\r\n                    if (virtualList && typeof virtualIndex !== 'undefined') virtualList.deleteItem(virtualIndex);\r\n                }\r\n                else {\r\n                    if (app.params.swipeoutRemoveWithTimeout) {\r\n                        setTimeout(function () {\r\n                            el.remove();\r\n                        }, 0);\r\n                    }\r\n                    else el.remove();\r\n                }\r\n            });\r\n            var translate = '-100%';\r\n            el.find('.swipeout-content').transform('translate3d(' + translate + ',0,0)');\r\n        };\r\n        \n\n        /*===============================================================================\r\n        ************   Sortable   ************\r\n        ===============================================================================*/\r\n        app.sortableToggle = function (sortableContainer) {\r\n            sortableContainer = $(sortableContainer);\r\n            if (sortableContainer.length === 0) sortableContainer = $('.list-block.sortable');\r\n            sortableContainer.toggleClass('sortable-opened');\r\n            if (sortableContainer.hasClass('sortable-opened')) {\r\n                sortableContainer.trigger('open sortable:open');\r\n            }\r\n            else {\r\n                sortableContainer.trigger('close sortable:close');\r\n            }\r\n            return sortableContainer;\r\n        };\r\n        app.sortableOpen = function (sortableContainer) {\r\n            sortableContainer = $(sortableContainer);\r\n            if (sortableContainer.length === 0) sortableContainer = $('.list-block.sortable');\r\n            sortableContainer.addClass('sortable-opened');\r\n            sortableContainer.trigger('open sortable:open');\r\n            return sortableContainer;\r\n        };\r\n        app.sortableClose = function (sortableContainer) {\r\n            sortableContainer = $(sortableContainer);\r\n            if (sortableContainer.length === 0) sortableContainer = $('.list-block.sortable');\r\n            sortableContainer.removeClass('sortable-opened');\r\n            sortableContainer.trigger('close sortable:close');\r\n            return sortableContainer;\r\n        };\r\n        app.initSortable = function () {\r\n            var isTouched, isMoved, touchStartY, touchesDiff, sortingEl, sortingElHeight, sortingItems, minTop, maxTop, insertAfter, insertBefore, sortableContainer, startIndex;\r\n            \r\n            function handleTouchStart(e) {\r\n                isMoved = false;\r\n                isTouched = true;\r\n                touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\r\n                /*jshint validthis:true */\r\n                sortingEl = $(this).parent();\r\n                startIndex = sortingEl.index();\r\n                sortingItems = sortingEl.parent().find('li');\r\n                sortableContainer = sortingEl.parents('.sortable');\r\n                e.preventDefault();\r\n                app.allowPanelOpen = app.allowSwipeout = false;\r\n            }\r\n            function handleTouchMove(e) {\r\n                if (!isTouched || !sortingEl) return;\r\n                var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\r\n                var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n                if (!isMoved) {\r\n                    sortingEl.addClass('sorting');\r\n                    sortableContainer.addClass('sortable-sorting');\r\n                    minTop = sortingEl[0].offsetTop;\r\n                    maxTop = sortingEl.parent().height() - sortingEl[0].offsetTop - sortingEl.height();\r\n                    sortingElHeight = sortingEl[0].offsetHeight;\r\n                }\r\n                isMoved = true;\r\n        \r\n                e.preventDefault();\r\n                e.f7PreventPanelSwipe = true;\r\n                touchesDiff = pageY - touchStartY;\r\n                var translate = touchesDiff;\r\n                if (translate < -minTop) translate = -minTop;\r\n                if (translate > maxTop) translate = maxTop;\r\n                sortingEl.transform('translate3d(0,' + translate + 'px,0)');\r\n        \r\n                insertBefore = insertAfter = undefined;\r\n        \r\n                sortingItems.each(function () {\r\n                    var currentEl = $(this);\r\n                    if (currentEl[0] === sortingEl[0]) return;\r\n                    var currentElOffset = currentEl[0].offsetTop;\r\n                    var currentElHeight = currentEl.height();\r\n                    var sortingElOffset = sortingEl[0].offsetTop + translate;\r\n        \r\n                    if ((sortingElOffset >= currentElOffset - currentElHeight / 2) && sortingEl.index() < currentEl.index()) {\r\n                        currentEl.transform('translate3d(0, '+(-sortingElHeight)+'px,0)');\r\n                        insertAfter = currentEl;\r\n                        insertBefore = undefined;\r\n                    }\r\n                    else if ((sortingElOffset <= currentElOffset + currentElHeight / 2) && sortingEl.index() > currentEl.index()) {\r\n                        currentEl.transform('translate3d(0, '+(sortingElHeight)+'px,0)');\r\n                        insertAfter = undefined;\r\n                        if (!insertBefore) insertBefore = currentEl;\r\n                    }\r\n                    else {\r\n                        $(this).transform('translate3d(0, 0%,0)');\r\n                    }\r\n                });\r\n            }\r\n            function handleTouchEnd(e) {\r\n                app.allowPanelOpen = app.allowSwipeout = true;\r\n                if (!isTouched || !isMoved) {\r\n                    isTouched = false;\r\n                    isMoved = false;\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                sortingItems.transform('');\r\n                sortingEl.removeClass('sorting');\r\n                sortableContainer.removeClass('sortable-sorting');\r\n                var virtualList, oldIndex, newIndex;\r\n                if (insertAfter) {\r\n                    sortingEl.insertAfter(insertAfter);\r\n                    sortingEl.trigger('sort sortable:sort', {startIndex: startIndex, newIndex: sortingEl.index()});\r\n                }\r\n                if (insertBefore) {\r\n                    sortingEl.insertBefore(insertBefore);\r\n                    sortingEl.trigger('sort sortable:sort', {startIndex: startIndex, newIndex: sortingEl.index()});\r\n                }\r\n                if ((insertAfter || insertBefore) && sortableContainer.hasClass('virtual-list')) {\r\n                    virtualList = sortableContainer[0].f7VirtualList;\r\n                    oldIndex = sortingEl[0].f7VirtualListIndex;\r\n                    newIndex = insertBefore ? insertBefore[0].f7VirtualListIndex : insertAfter[0].f7VirtualListIndex;\r\n                    if (virtualList) virtualList.moveItem(oldIndex, newIndex);\r\n                }\r\n                insertAfter = insertBefore = undefined;\r\n                isTouched = false;\r\n                isMoved = false;\r\n            }\r\n            $(document).on(app.touchEvents.start, '.list-block.sortable .sortable-handler', handleTouchStart);\r\n            if (app.support.touch) {\r\n                $(document).on(app.touchEvents.move, '.list-block.sortable .sortable-handler', handleTouchMove);\r\n                $(document).on(app.touchEvents.end, '.list-block.sortable .sortable-handler', handleTouchEnd);\r\n            }\r\n            else {\r\n                $(document).on(app.touchEvents.move, handleTouchMove);\r\n                $(document).on(app.touchEvents.end, handleTouchEnd);\r\n            }\r\n        };\r\n        \n\n        /*===============================================================================\r\n        ************   Smart Select   ************\r\n        ===============================================================================*/\r\n        app.initSmartSelects = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var selects;\r\n            if (pageContainer.is('.smart-select')) {\r\n                selects = pageContainer;\r\n            }\r\n            else {\r\n                selects = pageContainer.find('.smart-select');\r\n            }\r\n            if (selects.length === 0) return;\r\n        \r\n            selects.each(function () {\r\n                var smartSelect = $(this);\r\n        \r\n                var $select = smartSelect.find('select');\r\n                if ($select.length === 0) return;\r\n        \r\n                var select = $select[0];\r\n                if (select.length === 0) return;\r\n        \r\n                var valueText = [];\r\n                for (var i = 0; i < select.length; i++) {\r\n                    if (select[i].selected) valueText.push(select[i].textContent.trim());\r\n                }\r\n        \r\n                var itemAfter = smartSelect.find('.item-after');\r\n                if (itemAfter.length === 0) {\r\n                    smartSelect.find('.item-inner').append('<div class=\"item-after\">' + valueText.join(', ') + '</div>');\r\n                }\r\n                else {\r\n                    var selectedText = itemAfter.text();\r\n                    if (itemAfter.hasClass('smart-select-value')) {\r\n                        for (i = 0; i < select.length; i++) {\r\n                            select[i].selected = select[i].textContent.trim() === selectedText.trim();\r\n                        }\r\n                    } else {\r\n                        itemAfter.text(valueText.join(', '));\r\n                    }\r\n                }\r\n        \r\n                $select.on('change', function () {\r\n                    var valueText = [];\r\n                    for (var i = 0; i < select.length; i++) {\r\n                        if (select[i].selected) valueText.push(select[i].textContent.trim());\r\n                    }\r\n                    smartSelect.find('.item-after').text(valueText.join(', '));\r\n                });\r\n        \r\n            });\r\n        \r\n        };\r\n        app.smartSelectAddOption = function (select, option, index) {\r\n            select = $(select);\r\n            var smartSelect = select.parents('.smart-select');\r\n            if (typeof index === 'undefined') {\r\n                select.append(option);\r\n            }\r\n            else {\r\n                $(option).insertBefore(select.find('option').eq(index));\r\n            }\r\n            app.initSmartSelects(smartSelect);\r\n            var selectName = smartSelect.find('select').attr('name');\r\n            var opened = $('.page.smart-select-page[data-select-name=\"' + selectName + '\"]').length > 0;\r\n            if (opened) {\r\n                app.smartSelectOpen(smartSelect, true);\r\n            }\r\n        };\r\n        app.smartSelectOpen = function (smartSelect, reLayout) {\r\n            smartSelect = $(smartSelect);\r\n            if (smartSelect.length === 0) return;\r\n        \r\n            // Find related view\r\n            var view = smartSelect.parents('.' + app.params.viewClass);\r\n            if (view.length === 0) return;\r\n            view = view[0].f7View;\r\n        \r\n            // Parameters\r\n            var openIn = smartSelect.attr('data-open-in') || app.params.smartSelectOpenIn;\r\n            if (openIn === 'popup') {\r\n                if ($('.popup.smart-select-popup').length > 0) return;\r\n            }\r\n            else if (openIn === 'picker') {\r\n                if ($('.picker-modal.modal-in').length > 0 && !reLayout){\r\n                    if (smartSelect[0].f7SmartSelectPicker !== $('.picker-modal.modal-in:not(.modal-out)')[0]) app.closeModal($('.picker-modal.modal-in:not(.modal-out)'));\r\n                    else return;\r\n                }\r\n            }\r\n            else {\r\n                if (!view) return;\r\n            }\r\n        \r\n            var smartSelectData = smartSelect.dataset();\r\n            var pageTitle = smartSelectData.pageTitle || smartSelect.find('.item-title').text();\r\n            var backText = smartSelectData.backText || app.params.smartSelectBackText;\r\n            var closeText;\r\n            if (openIn === 'picker') {\r\n                closeText = smartSelectData.pickerCloseText || smartSelectData.backText || app.params.smartSelectPickerCloseText ;\r\n            }\r\n            else {\r\n                closeText = smartSelectData.popupCloseText || smartSelectData.backText || app.params.smartSelectPopupCloseText ;\r\n            }\r\n            var backOnSelect = smartSelectData.backOnSelect !== undefined ? smartSelectData.backOnSelect : app.params.smartSelectBackOnSelect;\r\n            var formTheme = smartSelectData.formTheme || app.params.smartSelectFormTheme;\r\n            var navbarTheme = smartSelectData.navbarTheme || app.params.smartSelectNavbarTheme;\r\n            var toolbarTheme = smartSelectData.toolbarTheme || app.params.smartSelectToolbarTheme;\r\n            var virtualList = smartSelectData.virtualList;\r\n            var virtualListHeight = smartSelectData.virtualListHeight;\r\n            var material = app.params.material;\r\n            var pickerHeight = smartSelectData.pickerHeight || app.params.smartSelectPickerHeight;\r\n        \r\n            // Collect all options/values\r\n            var select = smartSelect.find('select')[0];\r\n            var $select = $(select);\r\n            var $selectData = $select.dataset();\r\n            if (select.disabled || smartSelect.hasClass('disabled') || $select.hasClass('disabled')) {\r\n                return;\r\n            }\r\n            var values = [];\r\n            var id = (new Date()).getTime();\r\n            var inputType = select.multiple ? 'checkbox' : 'radio';\r\n            var inputName = inputType + '-' + id;\r\n            var maxLength = $select.attr('maxlength');\r\n            var selectName = select.name;\r\n            var option, optionHasMedia, optionImage, optionIcon, optionGroup, optionGroupLabel, optionPreviousGroup, optionIsLabel, previousGroup, optionColor, optionClassName, optionData;\r\n            for (var i = 0; i < select.length; i++) {\r\n                option = $(select[i]);\r\n                optionData = option.dataset();\r\n                optionImage = optionData.optionImage || $selectData.optionImage || smartSelectData.optionImage;\r\n                optionIcon = optionData.optionIcon || $selectData.optionIcon || smartSelectData.optionIcon;\r\n                optionHasMedia = optionImage || optionIcon || inputType === 'checkbox';\r\n                if (material) optionHasMedia = optionImage || optionIcon;\r\n                optionColor = optionData.optionColor;\r\n                optionClassName = optionData.optionClass;\r\n                if (option[0].disabled) optionClassName += ' disabled';\r\n                optionGroup = option.parent('optgroup')[0];\r\n                optionGroupLabel = optionGroup && optionGroup.label;\r\n                optionIsLabel = false;\r\n                if (optionGroup) {\r\n                    if (optionGroup !== previousGroup) {\r\n                        optionIsLabel = true;\r\n                        previousGroup = optionGroup;\r\n                        values.push({\r\n                            groupLabel: optionGroupLabel,\r\n                            isLabel: optionIsLabel\r\n                        });\r\n                    }\r\n                }\r\n                values.push({\r\n                    value: option[0].value,\r\n                    text: option[0].textContent.trim(),\r\n                    selected: option[0].selected,\r\n                    group: optionGroup,\r\n                    groupLabel: optionGroupLabel,\r\n                    image: optionImage,\r\n                    icon: optionIcon,\r\n                    color: optionColor,\r\n                    className: optionClassName,\r\n                    disabled: option[0].disabled,\r\n                    inputType: inputType,\r\n                    id: id,\r\n                    hasMedia: optionHasMedia,\r\n                    checkbox: inputType === 'checkbox',\r\n                    inputName: inputName,\r\n                    material: app.params.material\r\n                });\r\n            }\r\n        \r\n        \r\n            // Item template/HTML\r\n            if (!app._compiledTemplates.smartSelectItem) {\r\n                app._compiledTemplates.smartSelectItem = t7.compile(app.params.smartSelectItemTemplate ||\r\n                    '{{#if isLabel}}' +\r\n                    '<li class=\"item-divider\">{{groupLabel}}</li>' +\r\n                    '{{else}}' +\r\n                    '<li{{#if className}} class=\"{{className}}\"{{/if}}>' +\r\n                        '<label class=\"label-{{inputType}} item-content\">' +\r\n                            '<input type=\"{{inputType}}\" name=\"{{inputName}}\" value=\"{{value}}\" {{#if selected}}checked{{/if}}>' +\r\n                            '{{#if material}}' +\r\n                                '{{#if hasMedia}}' +\r\n                                '<div class=\"item-media\">' +\r\n                                    '{{#if icon}}<i class=\"icon {{icon}}\"></i>{{/if}}' +\r\n                                    '{{#if image}}<img src=\"{{image}}\">{{/if}}' +\r\n                                '</div>' +\r\n                                '<div class=\"item-inner\">' +\r\n                                    '<div class=\"item-title{{#if color}} color-{{color}}{{/if}}\">{{text}}</div>' +\r\n                                '</div>' +\r\n                                '<div class=\"item-after\">' +\r\n                                    '<i class=\"icon icon-form-{{inputType}}\"></i>' +\r\n                                '</div>' +\r\n                                '{{else}}' +\r\n                                '<div class=\"item-media\">' +\r\n                                    '<i class=\"icon icon-form-{{inputType}}\"></i>' +\r\n                                '</div>' +\r\n                                '<div class=\"item-inner\">' +\r\n                                    '<div class=\"item-title{{#if color}} color-{{color}}{{/if}}\">{{text}}</div>' +\r\n                                '</div>' +\r\n                                '{{/if}}' +\r\n                            '{{else}}' +\r\n                                '{{#if hasMedia}}' +\r\n                                '<div class=\"item-media\">' +\r\n                                    '{{#if checkbox}}<i class=\"icon icon-form-checkbox\"></i>{{/if}}' +\r\n                                    '{{#if icon}}<i class=\"icon {{icon}}\"></i>{{/if}}' +\r\n                                    '{{#if image}}<img src=\"{{image}}\">{{/if}}' +\r\n                                '</div>' +\r\n                                '{{/if}}' +\r\n                                '<div class=\"item-inner\">' +\r\n                                    '<div class=\"item-title{{#if color}} color-{{color}}{{/if}}\">{{text}}</div>' +\r\n                                '</div>' +\r\n                            '{{/if}}' +\r\n                        '</label>' +\r\n                    '</li>' +\r\n                    '{{/if}}'\r\n                );\r\n            }\r\n            var smartSelectItemTemplate = app._compiledTemplates.smartSelectItem;\r\n        \r\n            var inputsHTML = '';\r\n            if (!virtualList) {\r\n                for (var j = 0; j < values.length; j++) {\r\n                    inputsHTML += smartSelectItemTemplate(values[j]);\r\n                }\r\n            }\r\n        \r\n            // Toolbar / Navbar\r\n            var toolbarHTML = '', navbarHTML;\r\n            var noNavbar = '', noToolbar = '', noTabbar = '', navbarLayout;\r\n        \r\n            if (openIn === 'picker') {\r\n                if (!app._compiledTemplates.smartSelectToolbar) {\r\n                    app._compiledTemplates.smartSelectToolbar = t7.compile(app.params.smartSelectToolbarTemplate ||\r\n                        '<div class=\"toolbar {{#if toolbarTheme}}theme-{{toolbarTheme}}{{/if}}\">' +\r\n                          '<div class=\"toolbar-inner\">' +\r\n                            '<div class=\"left\"></div>' +\r\n                            '<div class=\"right\"><a href=\"#\" class=\"link close-picker\"><span>{{closeText}}</span></a></div>' +\r\n                        '</div>' +\r\n                      '</div>'\r\n                    );\r\n                }\r\n        \r\n                toolbarHTML = app._compiledTemplates.smartSelectToolbar({\r\n                    pageTitle: pageTitle,\r\n                    closeText: closeText,\r\n                    openIn: openIn,\r\n                    toolbarTheme: toolbarTheme,\r\n                    inPicker: openIn === 'picker'\r\n                });\r\n            }\r\n            else {\r\n                // Navbar HTML\r\n                if (!app._compiledTemplates.smartSelectNavbar) {\r\n                    app._compiledTemplates.smartSelectNavbar = t7.compile(app.params.smartSelectNavbarTemplate ||\r\n                        '<div class=\"navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}\">' +\r\n                            '<div class=\"navbar-inner\">' +\r\n                                '{{leftTemplate}}' +\r\n                                '<div class=\"center sliding\">{{pageTitle}}</div>' +\r\n                            '</div>' +\r\n                        '</div>'\r\n                    );\r\n                }\r\n                navbarHTML = app._compiledTemplates.smartSelectNavbar({\r\n                    pageTitle: pageTitle,\r\n                    backText: backText,\r\n                    closeText: closeText,\r\n                    openIn: openIn,\r\n                    navbarTheme: navbarTheme,\r\n                    inPopup: openIn === 'popup',\r\n                    inPage: openIn === 'page',\r\n                    leftTemplate: openIn === 'popup' ?\r\n                        (app.params.smartSelectPopupCloseTemplate || (material ? '<div class=\"left\"><a href=\"#\" class=\"link close-popup icon-only\"><i class=\"icon icon-back\"></i></a></div>' : '<div class=\"left\"><a href=\"#\" class=\"link close-popup\"><i class=\"icon icon-back\"></i><span>{{closeText}}</span></a></div>')).replace(/{{closeText}}/g, closeText) :\r\n                        (app.params.smartSelectBackTemplate || (material ? '<div class=\"left\"><a href=\"#\" class=\"back link icon-only\"><i class=\"icon icon-back\"></i></a></div>' : '<div class=\"left sliding\"><a href=\"#\" class=\"back link\"><i class=\"icon icon-back\"></i><span>{{backText}}</span></a></div>')).replace(/{{backText}}/g, backText)\r\n                });\r\n                // Determine navbar layout type - static/fixed/through\r\n                if (openIn === 'page') {\r\n                    navbarLayout = 'static';\r\n                    if (smartSelect.parents('.navbar-through').length > 0) navbarLayout = 'through';\r\n                    if (smartSelect.parents('.navbar-fixed').length > 0) navbarLayout = 'fixed';\r\n                    noToolbar = smartSelect.parents('.page').hasClass('no-toolbar') ? 'no-toolbar' : '';\r\n                    noNavbar  = smartSelect.parents('.page').hasClass('no-navbar')  ? 'no-navbar'  : 'navbar-' + navbarLayout;\r\n                    noTabbar = smartSelect.parents('.page').hasClass('no-tabbar') ? 'no-tabbar' : '';\r\n                }\r\n                else {\r\n                    navbarLayout = 'fixed';\r\n                }\r\n            }\r\n        \r\n        \r\n            // Page Layout\r\n            var pageName = 'smart-select-' + inputName;\r\n        \r\n            var useSearchbar = typeof smartSelect.data('searchbar') === 'undefined' ? app.params.smartSelectSearchbar : (smartSelect.data('searchbar') === 'true' ? true : false);\r\n            var searchbarPlaceholder, searchbarCancel;\r\n        \r\n            if (useSearchbar) {\r\n                searchbarPlaceholder = smartSelect.data('searchbar-placeholder') || 'Search';\r\n                searchbarCancel = smartSelect.data('searchbar-cancel') || 'Cancel';\r\n            }\r\n        \r\n            var searchbarHTML =   '<form class=\"searchbar searchbar-init\" data-search-list=\".smart-select-list-' + id + '\" data-search-in=\".item-title\">' +\r\n                                    '<div class=\"searchbar-input\">' +\r\n                                        '<input type=\"search\" placeholder=\"' + searchbarPlaceholder + '\">' +\r\n                                        '<a href=\"#\" class=\"searchbar-clear\"></a>' +\r\n                                    '</div>' +\r\n                                    (material ? '' : '<a href=\"#\" class=\"searchbar-cancel\">' + searchbarCancel + '</a>') +\r\n                                  '</form>' +\r\n                                  '<div class=\"searchbar-overlay\"></div>';\r\n        \r\n            var pageHTML =\r\n                (openIn !== 'picker' && navbarLayout === 'through' ? navbarHTML : '') +\r\n                '<div class=\"pages\">' +\r\n                '  <div data-page=\"' + pageName + '\" data-select-name=\"' + selectName + '\" class=\"page smart-select-page ' + noNavbar + ' ' + noToolbar + ' ' + noTabbar + '\">' +\r\n                     (openIn !== 'picker' && navbarLayout === 'fixed' ? navbarHTML : '') +\r\n                     (useSearchbar ? searchbarHTML : '') +\r\n                '    <div class=\"page-content\">' +\r\n                       (openIn !== 'picker' && navbarLayout === 'static' ? navbarHTML : '') +\r\n                '      <div class=\"list-block ' + (virtualList ? 'virtual-list' : '') + ' smart-select-list-' + id + ' ' + (formTheme ? 'theme-' + formTheme : '') + '\">' +\r\n                '        <ul>' +\r\n                            (virtualList ? '' : inputsHTML) +\r\n                '        </ul>' +\r\n                '      </div>' +\r\n                '    </div>' +\r\n                '  </div>' +\r\n                '</div>';\r\n        \r\n            // Define popup and picker\r\n            var popup, picker;\r\n        \r\n            // Scroll SS Picker To Input\r\n            function scrollToInput() {\r\n                var pageContent = smartSelect.parents('.page-content');\r\n                if (pageContent.length === 0) return;\r\n                var paddingTop = parseInt(pageContent.css('padding-top'), 10),\r\n                    paddingBottom = parseInt(pageContent.css('padding-bottom'), 10),\r\n                    pageHeight = pageContent[0].offsetHeight - paddingTop - picker.height(),\r\n                    pageScrollHeight = pageContent[0].scrollHeight - paddingTop - picker.height(),\r\n                    newPaddingBottom;\r\n                var inputTop = smartSelect.offset().top - paddingTop + smartSelect[0].offsetHeight;\r\n                if (inputTop > pageHeight) {\r\n                    var scrollTop = pageContent.scrollTop() + inputTop - pageHeight;\r\n                    if (scrollTop + pageHeight > pageScrollHeight) {\r\n                        newPaddingBottom = scrollTop + pageHeight - pageScrollHeight + paddingBottom;\r\n                        if (pageHeight === pageScrollHeight) {\r\n                            newPaddingBottom = picker.height();\r\n                        }\r\n                        pageContent.css({'padding-bottom': (newPaddingBottom) + 'px'});\r\n                    }\r\n                    pageContent.scrollTop(scrollTop, 300);\r\n                }\r\n            }\r\n            // Close SS Picker on HTML Click\r\n            function closeOnHTMLClick(e) {\r\n                var close = true;\r\n                if (e.target === smartSelect[0] || $(e.target).parents(smartSelect[0]).length > 0) {\r\n                    close = false;\r\n                }\r\n                if ($(e.target).parents('.picker-modal').length > 0) {\r\n                    close = false;\r\n                }\r\n                if (close) {\r\n                    app.closeModal('.smart-select-picker.modal-in');\r\n                }\r\n            }\r\n        \r\n            // Check max length\r\n            function checkMaxLength(container) {\r\n                if (select.selectedOptions.length >= maxLength) {\r\n                    container.find('input[type=\"checkbox\"]').each(function () {\r\n                        if (!this.checked) {\r\n                            $(this).parents('li').addClass('disabled');\r\n                        }\r\n                        else {\r\n                            $(this).parents('li').removeClass('disabled');\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    container.find('.disabled').removeClass('disabled');\r\n                }\r\n            }\r\n            // Event Listeners on new page\r\n            function handleInputs(container) {\r\n                container = $(container);\r\n                if (virtualList) {\r\n                    var virtualListInstance = app.virtualList(container.find('.virtual-list'), {\r\n                        items: values,\r\n                        template: smartSelectItemTemplate,\r\n                        height: virtualListHeight || undefined,\r\n                        searchByItem: function (query, index, item) {\r\n                            if (item.text && item.text.toLowerCase().indexOf(query.trim().toLowerCase()) >=0 ) return true;\r\n                            return false;\r\n                        }\r\n                    });\r\n                    container.once(openIn === 'popup' || openIn === 'picker' ? 'closed': 'pageBeforeRemove', function () {\r\n                        if (virtualListInstance && virtualListInstance.destroy) virtualListInstance.destroy();\r\n                    });\r\n                }\r\n                if (maxLength) {\r\n                    checkMaxLength(container);\r\n                }\r\n                if (backOnSelect) {\r\n                    container.find('input[type=\"radio\"][name=\"' + inputName + '\"]:checked').parents('label').once('click', function () {\r\n                        if (openIn === 'popup') app.closeModal(popup);\r\n                        else if (openIn === 'picker') app.closeModal(picker);\r\n                        else view.router.back();\r\n                    });\r\n                }\r\n                container.on('change', 'input[name=\"' + inputName + '\"]', function () {\r\n                    var input = this;\r\n                    var value = input.value;\r\n                    var optionText = [];\r\n                    if (input.type === 'checkbox') {\r\n                        var values = [];\r\n                        for (var i = 0; i < select.options.length; i++) {\r\n                            var option = select.options[i];\r\n                            if (option.value === value) {\r\n                                option.selected = input.checked;\r\n                            }\r\n                            if (option.selected) {\r\n                                optionText.push(option.textContent.trim());\r\n                            }\r\n                        }\r\n                        if (maxLength) {\r\n                            checkMaxLength(container);\r\n                        }\r\n                    }\r\n                    else {\r\n                        optionText = [smartSelect.find('option[value=\"' + value + '\"]').text()];\r\n                        select.value = value;\r\n                    }\r\n        \r\n                    $select.trigger('change');\r\n                    smartSelect.find('.item-after').text(optionText.join(', '));\r\n                    if (backOnSelect && inputType === 'radio') {\r\n                        if (openIn === 'popup') app.closeModal(popup);\r\n                        else if (openIn === 'picker') app.closeModal(picker);\r\n                        else view.router.back();\r\n                    }\r\n                });\r\n            }\r\n            function pageInit(e) {\r\n                var page = e.detail.page;\r\n                if (page.name === pageName) {\r\n                    handleInputs(page.container);\r\n                }\r\n            }\r\n            if (openIn === 'popup') {\r\n                if (reLayout) {\r\n                    popup = $('.popup.smart-select-popup .view');\r\n                    popup.html(pageHTML);\r\n                }\r\n                else {\r\n                    popup = app.popup(\r\n                        '<div class=\"popup smart-select-popup smart-select-popup-' + inputName + '\">' +\r\n                            '<div class=\"view navbar-fixed\">' +\r\n                                pageHTML +\r\n                            '</div>' +\r\n                        '</div>'\r\n                        );\r\n                    popup = $(popup);\r\n                }\r\n                app.initPage(popup.find('.page'));\r\n                handleInputs(popup);\r\n            }\r\n            else if (openIn === 'picker') {\r\n                if (reLayout) {\r\n                    picker = $('.picker-modal.smart-select-picker .view');\r\n                    picker.html(pageHTML);\r\n                }\r\n                else {\r\n                    picker = app.pickerModal(\r\n                        '<div class=\"picker-modal smart-select-picker smart-select-picker-' + inputName + '\"' + (pickerHeight ? ' style=\"height:' + pickerHeight + '\"' : '') + '>' +\r\n                            toolbarHTML +\r\n                            '<div class=\"picker-modal-inner\">' +\r\n                                '<div class=\"view\">' +\r\n                                    pageHTML +\r\n                                '</div>' +\r\n                            '</div>' +\r\n                        '</div>'\r\n                        );\r\n                    picker = $(picker);\r\n        \r\n                    // Scroll To Input\r\n                    scrollToInput();\r\n        \r\n                    // Close On Click\r\n                    $('html').on('click', closeOnHTMLClick);\r\n        \r\n                    // On Close\r\n                    picker.once('picker:close', function () {\r\n                        // Reset linked picker\r\n                        smartSelect[0].f7SmartSelectPicker = undefined;\r\n        \r\n                        // Detach html click\r\n                        $('html').off('click', closeOnHTMLClick);\r\n        \r\n                        // Restore page padding bottom\r\n                        smartSelect.parents('.page-content').css({paddingBottom: ''});\r\n                    });\r\n        \r\n                    // Link Picker\r\n                    smartSelect[0].f7SmartSelectPicker = picker[0];\r\n                }\r\n        \r\n                // Init Page\r\n                app.initPage(picker.find('.page'));\r\n        \r\n                // Attach events\r\n                handleInputs(picker);\r\n            }\r\n            else {\r\n                $(document).once('page:init', '.smart-select-page', pageInit);\r\n                view.router.load({\r\n                    content: pageHTML,\r\n                    reload: reLayout ? true : undefined\r\n                });\r\n            }\r\n        };\r\n        \n\n        /*===============================================================================\r\n        ************   Virtual List   ************\r\n        ===============================================================================*/\r\n        var VirtualList = function (listBlock, params) {\r\n            var defaults = {\r\n                cols: 1,\r\n                height: app.params.material ? 48 : 44,\r\n                cache: true,\r\n                dynamicHeightBufferSize: 1,\r\n                showFilteredItemsOnly: false\r\n            };\r\n            params = params || {};\r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined') {\r\n                    params[def] = defaults[def];\r\n                }\r\n            }\r\n        \r\n            // Preparation\r\n            var vl = this;\r\n            vl.listBlock = $(listBlock);\r\n            vl.params = params;\r\n            vl.items = vl.params.items;\r\n            if (vl.params.showFilteredItemsOnly) {\r\n                vl.filteredItems = [];\r\n            }\r\n            if (vl.params.template) {\r\n                if (typeof vl.params.template === 'string') vl.template = t7.compile(vl.params.template);\r\n                else if (typeof vl.params.template === 'function') vl.template = vl.params.template;\r\n            }\r\n            vl.pageContent = vl.listBlock.parents('.page-content');\r\n        \r\n            // Bad scroll\r\n            var updatableScroll;\r\n            if (typeof vl.params.updatableScroll !== 'undefined') {\r\n                updatableScroll = vl.params.updatableScroll;\r\n            }\r\n            else {\r\n                updatableScroll = true;\r\n                if (app.device.ios && app.device.osVersion.split('.')[0] < 8) {\r\n                    updatableScroll = false;\r\n                }\r\n                vl.params.updatableScroll = updatableScroll;\r\n            }\r\n        \r\n            // Append <ul>\r\n            vl.ul = vl.params.ul ? $(vl.params.ul) : vl.listBlock.children('ul');\r\n            if (vl.ul.length === 0) {\r\n                vl.listBlock.append('<ul></ul>');\r\n                vl.ul = vl.listBlock.children('ul');\r\n            }\r\n        \r\n            // DOM cached items\r\n            vl.domCache = {};\r\n            vl.displayDomCache = {};\r\n        \r\n            // Temporary DOM Element\r\n            vl.tempDomElement = document.createElement('ul');\r\n        \r\n            // Last repain position\r\n            vl.lastRepaintY = null;\r\n        \r\n            // Fragment\r\n            vl.fragment = document.createDocumentFragment();\r\n        \r\n            // Filter\r\n            vl.filterItems = function (indexes, resetScrollTop) {\r\n                vl.filteredItems = [];\r\n                var firstIndex = indexes[0];\r\n                var lastIndex = indexes[indexes.length - 1];\r\n                for (var i = 0; i < indexes.length; i++) {\r\n                    vl.filteredItems.push(vl.items[indexes[i]]);\r\n                }\r\n                if (typeof resetScrollTop === 'undefined') resetScrollTop = true;\r\n                if (resetScrollTop) {\r\n                    vl.pageContent[0].scrollTop = 0;\r\n                }\r\n                vl.update();\r\n            };\r\n            vl.resetFilter = function () {\r\n                if (vl.params.showFilteredItemsOnly) {\r\n                    vl.filteredItems = [];\r\n                }\r\n                else {\r\n                    vl.filteredItems = null;\r\n                    delete vl.filteredItems;    \r\n                }\r\n                vl.update();\r\n            };\r\n        \r\n            var pageHeight, rowsPerScreen, rowsBefore, rowsAfter, rowsToRender, maxBufferHeight = 0, listHeight;\r\n            var dynamicHeight = typeof vl.params.height === 'function';\r\n        \r\n            // Set list size\r\n            vl.setListSize = function () {\r\n                var items = vl.filteredItems || vl.items;\r\n                pageHeight = vl.pageContent[0].offsetHeight;\r\n                if (dynamicHeight) {\r\n                    listHeight = 0;\r\n                    vl.heights = [];\r\n                    for (var i = 0; i < items.length; i++) {\r\n                        var itemHeight = vl.params.height(items[i]);\r\n                        listHeight += itemHeight;\r\n                        vl.heights.push(itemHeight);\r\n                    }\r\n                }\r\n                else {\r\n                    listHeight = Math.ceil(items.length /  vl.params.cols) * vl.params.height;\r\n                    rowsPerScreen = Math.ceil(pageHeight / vl.params.height);\r\n                    rowsBefore = vl.params.rowsBefore || rowsPerScreen * 2;\r\n                    rowsAfter = vl.params.rowsAfter || rowsPerScreen;\r\n                    rowsToRender = (rowsPerScreen + rowsBefore + rowsAfter);\r\n                    maxBufferHeight = rowsBefore / 2 * vl.params.height;\r\n                }\r\n        \r\n                if (updatableScroll) {\r\n                    vl.ul.css({height: listHeight + 'px'});\r\n                }\r\n            };\r\n        \r\n            // Render items\r\n            vl.render = function (force, forceScrollTop) {\r\n                if (force) vl.lastRepaintY = null;\r\n        \r\n                var scrollTop = -(vl.listBlock[0].getBoundingClientRect().top - vl.pageContent[0].getBoundingClientRect().top);\r\n        \r\n                if (typeof forceScrollTop !== 'undefined') scrollTop = forceScrollTop;\r\n        \r\n                if (vl.lastRepaintY === null || Math.abs(scrollTop - vl.lastRepaintY) > maxBufferHeight || (!updatableScroll && (vl.pageContent[0].scrollTop + pageHeight >= vl.pageContent[0].scrollHeight))) {\r\n                    vl.lastRepaintY = scrollTop;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n        \r\n                var items = vl.filteredItems || vl.items, \r\n                    fromIndex, toIndex, heightBeforeFirstItem = 0, heightBeforeLastItem = 0;\r\n                if (dynamicHeight) {\r\n                    var itemTop = 0, j, itemHeight; \r\n                    maxBufferHeight = pageHeight;\r\n        \r\n                    for (j = 0; j < vl.heights.length; j++) {\r\n                        itemHeight = vl.heights[j];\r\n                        if (typeof fromIndex === 'undefined') {\r\n                            if (itemTop + itemHeight >= scrollTop - pageHeight * 2 * vl.params.dynamicHeightBufferSize) fromIndex = j;\r\n                            else heightBeforeFirstItem += itemHeight;\r\n                        }\r\n        \r\n                        if (typeof toIndex === 'undefined') {\r\n                            if (itemTop + itemHeight >= scrollTop + pageHeight * 2 * vl.params.dynamicHeightBufferSize || j === vl.heights.length - 1) toIndex = j + 1;\r\n                            heightBeforeLastItem += itemHeight;\r\n                        }\r\n                        itemTop += itemHeight;\r\n                    }\r\n                    toIndex = Math.min(toIndex, items.length);\r\n                }\r\n                else {\r\n                    fromIndex = (parseInt(scrollTop / vl.params.height) - rowsBefore) * vl.params.cols;\r\n                    if (fromIndex < 0) {\r\n                        fromIndex = 0;\r\n                    }\r\n                    toIndex = Math.min(fromIndex + rowsToRender * vl.params.cols, items.length);\r\n                }\r\n        \r\n                var topPosition;\r\n                vl.reachEnd = false;\r\n                for (var i = fromIndex; i < toIndex; i++) {\r\n                    var item, index;\r\n                    // Define real item index\r\n                    index = vl.items.indexOf(items[i]);\r\n        \r\n                    if (i === fromIndex) vl.currentFromIndex = index;\r\n                    if (i === toIndex - 1) vl.currentToIndex = index;\r\n                    if (vl.filteredItems) {\r\n                        if (vl.items[index] === vl.filteredItems[vl.filteredItems.length - 1]) vl.reachEnd = true;\r\n                    }\r\n                    else {\r\n                        if (index === vl.items.length - 1) vl.reachEnd = true;\r\n                    }\r\n        \r\n                    // Find items\r\n                    if (vl.domCache[index]) {\r\n                        item = vl.domCache[index];\r\n                    }\r\n                    else {\r\n                        if (vl.template) {\r\n                            vl.tempDomElement.innerHTML = vl.template(items[i], {index: index}).trim();\r\n                        }\r\n                        else if (vl.params.renderItem) {\r\n                            vl.tempDomElement.innerHTML = vl.params.renderItem(index, items[i]).trim();\r\n                        }\r\n                        else {\r\n                            vl.tempDomElement.innerHTML = items[i].trim();\r\n                        }\r\n                        item = vl.tempDomElement.childNodes[0];\r\n                        if (vl.params.cache) vl.domCache[index] = item;\r\n                    }\r\n                    item.f7VirtualListIndex = index;\r\n        \r\n                    // Set item top position\r\n                    if (i === fromIndex) {\r\n                        if (dynamicHeight) {\r\n                            topPosition = heightBeforeFirstItem;\r\n                        }\r\n                        else {\r\n                            topPosition = (i * vl.params.height / vl.params.cols);\r\n                        }\r\n                    }\r\n                    item.style.top = topPosition + 'px';\r\n        \r\n                    // Before item insert\r\n                    if (vl.params.onItemBeforeInsert) vl.params.onItemBeforeInsert(vl, item);\r\n        \r\n                    // Append item to fragment\r\n                    vl.fragment.appendChild(item);\r\n        \r\n        \r\n                }\r\n        \r\n                // Update list height with not updatable scroll\r\n                if (!updatableScroll) {\r\n                    if (dynamicHeight) {\r\n                        vl.ul[0].style.height = heightBeforeLastItem + 'px';\r\n                    }\r\n                    else {\r\n                        vl.ul[0].style.height = i * vl.params.height / vl.params.cols + 'px';\r\n                    }\r\n                }\r\n        \r\n        \r\n                // Update list html\r\n                if (vl.params.onBeforeClear) vl.params.onBeforeClear(vl, vl.fragment);\r\n                vl.ul[0].innerHTML = '';\r\n        \r\n                if (vl.params.onItemsBeforeInsert) vl.params.onItemsBeforeInsert(vl, vl.fragment);\r\n                vl.ul[0].appendChild(vl.fragment);\r\n                if (vl.params.onItemsAfterInsert) vl.params.onItemsAfterInsert(vl, vl.fragment);\r\n        \r\n                if (typeof forceScrollTop !== 'undefined' && force) {\r\n                    vl.pageContent.scrollTop(forceScrollTop, 0);\r\n                }\r\n            };\r\n        \r\n            vl.scrollToItem = function (index) {\r\n                if (index > vl.items.length) return false;\r\n        \r\n                var itemTop = 0, listTop;\r\n                if (dynamicHeight) {\r\n                    for (var i = 0; i < index; i++) {\r\n                        itemTop += vl.heights[i];\r\n                    }\r\n                }\r\n                else {\r\n                    itemTop = index * vl.params.height;\r\n                }\r\n                listTop = vl.listBlock[0].offsetTop;\r\n                vl.render(true, listTop + itemTop - parseInt(vl.pageContent.css('padding-top'), 10));\r\n                return true;\r\n            };\r\n        \r\n            // Handle scroll event\r\n            vl.handleScroll = function (e) {\r\n                vl.render();\r\n            };\r\n            // Handle resize event\r\n            vl._isVisible = function (el) {\r\n                return !!( el.offsetWidth || el.offsetHeight || el.getClientRects().length );\r\n            };\r\n            vl.handleResize = function (e) {\r\n                if (vl._isVisible(vl.listBlock[0])) {\r\n                    vl.setListSize();\r\n                    vl.render(true);\r\n                }\r\n            };\r\n        \r\n            vl.attachEvents = function (detach) {\r\n                var action = detach ? 'off' : 'on';\r\n                vl.pageContent[action]('scroll', vl.handleScroll);\r\n                vl.listBlock.parents('.tab').eq(0)[action]('tab:show', vl.handleResize);\r\n                vl.listBlock.parents('.panel').eq(0)[action]('panel:open', vl.handleResize);\r\n                vl.listBlock.parents('.popup').eq(0)[action]('popup:open', vl.handleResize);\r\n                $(window)[action]('resize', vl.handleResize);\r\n            };\r\n        \r\n            // Init Virtual List\r\n            vl.init = function () {\r\n                vl.attachEvents();\r\n                vl.setListSize();\r\n                vl.render();\r\n            };\r\n        \r\n            // Append\r\n            vl.appendItems = function (items) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    vl.items.push(items[i]);\r\n                }\r\n                vl.update();\r\n            };\r\n            vl.appendItem = function (item) {\r\n                vl.appendItems([item]);\r\n            };\r\n            // Replace\r\n            vl.replaceAllItems = function (items) {\r\n                vl.items = items;\r\n                delete vl.filteredItems;\r\n                vl.domCache = {};\r\n                vl.update();\r\n            };\r\n            vl.replaceItem = function (index, item) {\r\n                vl.items[index] = item;\r\n                if (vl.params.cache) delete vl.domCache[index];\r\n                vl.update();\r\n            };\r\n            // Prepend\r\n            vl.prependItems = function (items) {\r\n                for (var i = items.length - 1; i >= 0; i--) {\r\n                    vl.items.unshift(items[i]);\r\n                }\r\n                if (vl.params.cache) {\r\n                    var newCache = {};\r\n                    for (var cached in vl.domCache) {\r\n                        newCache[parseInt(cached, 10) + items.length] = vl.domCache[cached];\r\n                    }\r\n                    vl.domCache = newCache;\r\n                }\r\n                vl.update();\r\n            };\r\n            vl.prependItem = function (item) {\r\n                vl.prependItems([item]);\r\n            };\r\n        \r\n            // Move\r\n            vl.moveItem = function (oldIndex, newIndex) {\r\n                if (oldIndex === newIndex) return;\r\n                // remove item from array\r\n                var item = vl.items.splice(oldIndex, 1)[0];\r\n                if (newIndex >= vl.items.length) {\r\n                    // Add item to the end\r\n                    vl.items.push(item);\r\n                    newIndex = vl.items.length - 1;\r\n                }\r\n                else {\r\n                    // Add item to new index\r\n                    vl.items.splice(newIndex, 0, item);\r\n                }\r\n                // Update cache\r\n                if (vl.params.cache) {\r\n                    var newCache = {};\r\n                    for (var cached in vl.domCache) {\r\n                        var cachedIndex = parseInt(cached, 10);\r\n                        var leftIndex = oldIndex < newIndex ? oldIndex : newIndex;\r\n                        var rightIndex = oldIndex < newIndex ? newIndex : oldIndex;\r\n                        var indexShift = oldIndex < newIndex ? -1 : 1;\r\n                        if (cachedIndex < leftIndex || cachedIndex > rightIndex) newCache[cachedIndex] = vl.domCache[cachedIndex];\r\n                        if (cachedIndex === leftIndex) newCache[rightIndex] = vl.domCache[cachedIndex];\r\n                        if (cachedIndex > leftIndex && cachedIndex <= rightIndex) newCache[cachedIndex + indexShift] = vl.domCache[cachedIndex];\r\n                    }\r\n                    vl.domCache = newCache;\r\n                }\r\n                vl.update();\r\n            };\r\n            // Insert before\r\n            vl.insertItemBefore = function (index, item) {\r\n                if (index === 0) {\r\n                    vl.prependItem(item);\r\n                    return;\r\n                }\r\n                if (index >= vl.items.length) {\r\n                    vl.appendItem(item);\r\n                    return;\r\n                }\r\n                vl.items.splice(index, 0, item);\r\n                // Update cache\r\n                if (vl.params.cache) {\r\n                    var newCache = {};\r\n                    for (var cached in vl.domCache) {\r\n                        var cachedIndex = parseInt(cached, 10);\r\n                        if (cachedIndex >= index) {\r\n                            newCache[cachedIndex + 1] = vl.domCache[cachedIndex];\r\n                        }\r\n                    }\r\n                    vl.domCache = newCache;\r\n                }\r\n                vl.update();\r\n            };\r\n            // Delete\r\n            vl.deleteItems = function (indexes) {\r\n                var prevIndex, indexShift = 0;\r\n                for (var i = 0; i < indexes.length; i++) {\r\n                    var index = indexes[i];\r\n                    if (typeof prevIndex !== 'undefined') {\r\n                        if (index > prevIndex) {\r\n                            indexShift = -i;\r\n                        }\r\n                    }\r\n                    index = index + indexShift;\r\n                    prevIndex = indexes[i];\r\n                    // Delete item\r\n                    var deletedItem = vl.items.splice(index, 1)[0];\r\n        \r\n                    // Delete from filtered\r\n                    if (vl.filteredItems && vl.filteredItems.indexOf(deletedItem) >= 0) {\r\n                        vl.filteredItems.splice(vl.filteredItems.indexOf(deletedItem), 1);\r\n                    }\r\n                    // Update cache\r\n                    if (vl.params.cache) {\r\n                        var newCache = {};\r\n                        for (var cached in vl.domCache) {\r\n                            var cachedIndex = parseInt(cached, 10);\r\n                            if (cachedIndex === index) {\r\n                                delete vl.domCache[index];\r\n                            }\r\n                            else if (parseInt(cached, 10) > index) {\r\n                                newCache[cachedIndex - 1] = vl.domCache[cached];\r\n                            }\r\n                            else {\r\n                                newCache[cachedIndex] = vl.domCache[cached];   \r\n                            }\r\n                        }\r\n                        vl.domCache = newCache;\r\n                    }\r\n                }\r\n                vl.update();\r\n            };\r\n            vl.deleteAllItems = function () {\r\n                vl.items = [];\r\n                delete vl.filteredItems;\r\n                if (vl.params.cache) vl.domCache = {};\r\n                vl.update();\r\n            };\r\n            vl.deleteItem = function (index) {\r\n                vl.deleteItems([index]);\r\n            };\r\n        \r\n            // Clear cache\r\n            vl.clearCache = function () {\r\n                vl.domCache = {};\r\n            };\r\n        \r\n            // Update Virtual List\r\n            vl.update = function () {\r\n                vl.setListSize();\r\n                vl.render(true);\r\n            };\r\n        \r\n            // Destroy\r\n            vl.destroy = function () {\r\n                vl.attachEvents(true);\r\n                delete vl.items;\r\n                delete vl.domCache;\r\n            };\r\n        \r\n            // Init Virtual List\r\n            vl.init();\r\n        \r\n            // Store vl in container\r\n            vl.listBlock[0].f7VirtualList = vl;\r\n            return vl;\r\n        };\r\n        \r\n        // App Method\r\n        app.virtualList = function (listBlock, params) {\r\n            return new VirtualList(listBlock, params);\r\n        };\r\n        \r\n        app.reinitVirtualList = function (pageContainer) {\r\n            var page = $(pageContainer);\r\n            var vlists = page.find('.virtual-list');\r\n            if (vlists.length === 0) return;\r\n            for (var i = 0; i < vlists.length; i++) {\r\n                var vlistInstance = vlists[i].f7VirtualList;\r\n                if (vlistInstance) {\r\n                    vlistInstance.update();\r\n                }\r\n            }\r\n        };\n\n        /*======================================================\r\n        ************   Pull To Refresh   ************\r\n        ======================================================*/\r\n        app.initPullToRefresh = function (pageContainer) {\r\n            var eventsTarget = $(pageContainer);\r\n            if (!eventsTarget.hasClass('pull-to-refresh-content')) {\r\n                eventsTarget = eventsTarget.find('.pull-to-refresh-content');\r\n            }\r\n            if (!eventsTarget || eventsTarget.length === 0) return;\r\n        \r\n            var touchId, isTouched, isMoved, touchesStart = {}, isScrolling, touchesDiff, touchStartTime, container, refresh = false, useTranslate = false, startTranslate = 0, translate, scrollTop, wasScrolled, layer, triggerDistance, dynamicTriggerDistance, pullStarted;\r\n            var page = eventsTarget.hasClass('page') ? eventsTarget : eventsTarget.parents('.page');\r\n            var hasNavbar = false;\r\n            if (page.find('.navbar').length > 0 || page.parents('.navbar-fixed, .navbar-through').length > 0 || page.hasClass('navbar-fixed') || page.hasClass('navbar-through')) hasNavbar = true;\r\n            if (page.hasClass('no-navbar')) hasNavbar = false;\r\n            if (!hasNavbar) eventsTarget.addClass('pull-to-refresh-no-navbar');\r\n        \r\n            container = eventsTarget;\r\n        \r\n            // Define trigger distance\r\n            if (container.attr('data-ptr-distance')) {\r\n                dynamicTriggerDistance = true;\r\n            }\r\n            else {\r\n                triggerDistance = 44;   \r\n            }\r\n            \r\n            function handleTouchStart(e) {\r\n                if (isTouched) {\r\n                    if (app.device.os === 'android') {\r\n                        if ('targetTouches' in e && e.targetTouches.length > 1) return;\r\n                    }\r\n                    else return;\r\n                }\r\n                \r\n                /*jshint validthis:true */\r\n                container = $(this);\r\n                if (container.hasClass('refreshing')) {\r\n                    return;\r\n                }\r\n                \r\n                isMoved = false;\r\n                pullStarted = false;\r\n                isTouched = true;\r\n                isScrolling = undefined;\r\n                wasScrolled = undefined;\r\n                if (e.type === 'touchstart') touchId = e.targetTouches[0].identifier;\r\n                touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\r\n                touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\r\n                touchStartTime = (new Date()).getTime();\r\n                \r\n            }\r\n            \r\n            function handleTouchMove(e) {\r\n                if (!isTouched) return;\r\n                var pageX, pageY, touch;\r\n                if (e.type === 'touchmove') {\r\n                    if (touchId && e.touches) {\r\n                        for (var i = 0; i < e.touches.length; i++) {\r\n                            if (e.touches[i].identifier === touchId) {\r\n                                touch = e.touches[i];\r\n                            }\r\n                        }\r\n                    }\r\n                    if (!touch) touch = e.targetTouches[0];\r\n                    pageX = touch.pageX;\r\n                    pageY = touch.pageY;\r\n                }\r\n                else {\r\n                    pageX = e.pageX;\r\n                    pageY = e.pageY;\r\n                }\r\n                if (!pageX || !pageY) return;\r\n                    \r\n        \r\n                if (typeof isScrolling === 'undefined') {\r\n                    isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\r\n                }\r\n                if (!isScrolling) {\r\n                    isTouched = false;\r\n                    return;\r\n                }\r\n        \r\n                scrollTop = container[0].scrollTop;\r\n                if (typeof wasScrolled === 'undefined' && scrollTop !== 0) wasScrolled = true; \r\n        \r\n                if (!isMoved) {\r\n                    /*jshint validthis:true */\r\n                    container.removeClass('transitioning');\r\n                    if (scrollTop > container[0].offsetHeight) {\r\n                        isTouched = false;\r\n                        return;\r\n                    }\r\n                    if (dynamicTriggerDistance) {\r\n                        triggerDistance = container.attr('data-ptr-distance');\r\n                        if (triggerDistance.indexOf('%') >= 0) triggerDistance = container[0].offsetHeight * parseInt(triggerDistance, 10) / 100;\r\n                    }\r\n                    startTranslate = container.hasClass('refreshing') ? triggerDistance : 0;\r\n                    if (container[0].scrollHeight === container[0].offsetHeight || app.device.os !== 'ios') {\r\n                        useTranslate = true;\r\n                    }\r\n                    else {\r\n                        useTranslate = false;\r\n                    }\r\n                }\r\n                isMoved = true;\r\n                touchesDiff = pageY - touchesStart.y;\r\n                \r\n                if (touchesDiff > 0 && scrollTop <= 0 || scrollTop < 0) {\r\n                    // iOS 8 fix\r\n                    if (app.device.os === 'ios' && parseInt(app.device.osVersion.split('.')[0], 10) > 7 && scrollTop === 0 && !wasScrolled) useTranslate = true;\r\n        \r\n                    if (useTranslate) {\r\n                        e.preventDefault();\r\n                        translate = (Math.pow(touchesDiff, 0.85) + startTranslate);\r\n                        container.transform('translate3d(0,' + translate + 'px,0)');\r\n                    }\r\n                    if ((useTranslate && Math.pow(touchesDiff, 0.85) > triggerDistance) || (!useTranslate && touchesDiff >= triggerDistance * 2)) {\r\n                        refresh = true;\r\n                        container.addClass('pull-up').removeClass('pull-down');\r\n                    }\r\n                    else {\r\n                        refresh = false;\r\n                        container.removeClass('pull-up').addClass('pull-down');\r\n                    }\r\n                    if (!pullStarted) {\r\n                        container.trigger('pullstart ptr:pullstart');\r\n                        pullStarted = true;\r\n                    }\r\n                    container.trigger('pullmove ptr:pullmove', {\r\n                        event: e,\r\n                        scrollTop: scrollTop,\r\n                        translate: translate,\r\n                        touchesDiff: touchesDiff\r\n                    });\r\n                }\r\n                else {\r\n                    pullStarted = false;\r\n                    container.removeClass('pull-up pull-down');\r\n                    refresh = false;\r\n                    return;\r\n                }\r\n            }\r\n            function handleTouchEnd(e) {\r\n                if (e.type === 'touchend' && e.changedTouches && e.changedTouches.length > 0 && touchId) {\r\n                    if (e.changedTouches[0].identifier !== touchId) return;\r\n                }\r\n                if (!isTouched || !isMoved) {\r\n                    isTouched = false;\r\n                    isMoved = false;\r\n                    return;\r\n                }\r\n                if (translate) {\r\n                    container.addClass('transitioning');\r\n                    translate = 0;\r\n                }\r\n                container.transform('');\r\n                if (refresh) {\r\n                    container.addClass('refreshing');\r\n                    container.trigger('refresh ptr:refresh', {\r\n                        done: function () {\r\n                            app.pullToRefreshDone(container);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    container.removeClass('pull-down');\r\n                }\r\n                isTouched = false;\r\n                isMoved = false;\r\n                if (pullStarted) container.trigger('pullend ptr:pullend');\r\n            }\r\n        \r\n            // Attach Events\r\n            var passiveListener = app.touchEvents.start === 'touchstart' && app.support.passiveListener ? {passive: true, capture: false} : false;\r\n            eventsTarget.on(app.touchEvents.start, handleTouchStart, passiveListener);\r\n            eventsTarget.on(app.touchEvents.move, handleTouchMove);\r\n            eventsTarget.on(app.touchEvents.end, handleTouchEnd, passiveListener);\r\n        \r\n            // Detach Events on page remove\r\n            if (page.length === 0) return;\r\n            function destroyPullToRefresh() {\r\n                eventsTarget.off(app.touchEvents.start, handleTouchStart);\r\n                eventsTarget.off(app.touchEvents.move, handleTouchMove);\r\n                eventsTarget.off(app.touchEvents.end, handleTouchEnd);\r\n            }\r\n            eventsTarget[0].f7DestroyPullToRefresh = destroyPullToRefresh;\r\n            function detachEvents() {\r\n                destroyPullToRefresh();\r\n                page.off('page:beforeremove', detachEvents);\r\n            }\r\n            page.on('page:beforeremove', detachEvents);\r\n        \r\n        };\r\n        \r\n        app.pullToRefreshDone = function (container) {\r\n            container = $(container);\r\n            if (container.length === 0) container = $('.pull-to-refresh-content.refreshing');\r\n            container.removeClass('refreshing').addClass('transitioning');\r\n            container.transitionEnd(function () {\r\n                container.removeClass('transitioning pull-up pull-down');\r\n                container.trigger('refreshdone ptr:done');\r\n            });\r\n        };\r\n        app.pullToRefreshTrigger = function (container) {\r\n            container = $(container);\r\n            if (container.length === 0) container = $('.pull-to-refresh-content');\r\n            if (container.hasClass('refreshing')) return;\r\n            container.addClass('transitioning refreshing');\r\n            container.trigger('refresh ptr:refresh', {\r\n                done: function () {\r\n                    app.pullToRefreshDone(container);\r\n                }\r\n            });\r\n        };\r\n        \r\n        app.destroyPullToRefresh = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var pullToRefreshContent = pageContainer.hasClass('pull-to-refresh-content') ? pageContainer : pageContainer.find('.pull-to-refresh-content');\r\n            if (pullToRefreshContent.length === 0) return;\r\n            if (pullToRefreshContent[0].f7DestroyPullToRefresh) pullToRefreshContent[0].f7DestroyPullToRefresh();\r\n        };\r\n        \n\n        /* ===============================================================================\r\n        ************   Infinite Scroll   ************\r\n        =============================================================================== */\r\n        function handleInfiniteScroll() {\r\n            /*jshint validthis:true */\r\n            var inf = $(this);\r\n            var scrollTop = inf[0].scrollTop;\r\n            var scrollHeight = inf[0].scrollHeight;\r\n            var height = inf[0].offsetHeight;\r\n            var distance = inf[0].getAttribute('data-distance');\r\n            var virtualListContainer = inf.find('.virtual-list');\r\n            var virtualList;\r\n            var onTop = inf.hasClass('infinite-scroll-top');\r\n            if (!distance) distance = 50;\r\n            if (typeof distance === 'string' && distance.indexOf('%') >= 0) {\r\n                distance = parseInt(distance, 10) / 100 * height;\r\n            }\r\n            if (distance > height) distance = height;\r\n            if (onTop) {\r\n                if (scrollTop < distance) {\r\n                    inf.trigger('infinite');\r\n                }\r\n            }\r\n            else {\r\n                if (scrollTop + height >= scrollHeight - distance) {\r\n                    if (virtualListContainer.length > 0) {\r\n                        virtualList = virtualListContainer.eq(-1)[0].f7VirtualList;\r\n                        if (virtualList && !virtualList.reachEnd && !virtualList.params.updatableScroll) {\r\n                            return;\r\n                        }\r\n                    }\r\n                    inf.trigger('infinite');\r\n                }\r\n            }\r\n        \r\n        }\r\n        app.attachInfiniteScroll = function (infiniteContent) {\r\n            $(infiniteContent).on('scroll', handleInfiniteScroll);\r\n        };\r\n        app.detachInfiniteScroll = function (infiniteContent) {\r\n            $(infiniteContent).off('scroll', handleInfiniteScroll);\r\n        };\r\n        \r\n        app.initPageInfiniteScroll = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var infiniteContent = pageContainer.find('.infinite-scroll');\r\n            if (infiniteContent.length === 0) return;\r\n            app.attachInfiniteScroll(infiniteContent);\r\n            function detachEvents() {\r\n                app.detachInfiniteScroll(infiniteContent);\r\n                pageContainer.off('page:beforeremove', detachEvents);\r\n            }\r\n            pageContainer.on('page:beforeremove', detachEvents);\r\n        };\n\n        /*=============================================================\r\n        ************   Hide/show Toolbar/Navbar on scroll   ************\r\n        =============================================================*/\r\n        app.initPageScrollToolbars = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var scrollContent = pageContainer.find('.page-content');\r\n            if (scrollContent.length === 0) return;\r\n            var hideNavbar = (app.params.hideNavbarOnPageScroll || scrollContent.hasClass('hide-navbar-on-scroll') || scrollContent.hasClass('hide-bars-on-scroll')) && !(scrollContent.hasClass('keep-navbar-on-scroll') || scrollContent.hasClass('keep-bars-on-scroll'));\r\n            var hideToolbar = (app.params.hideToolbarOnPageScroll || scrollContent.hasClass('hide-toolbar-on-scroll') || scrollContent.hasClass('hide-bars-on-scroll')) && !(scrollContent.hasClass('keep-toolbar-on-scroll') || scrollContent.hasClass('keep-bars-on-scroll'));\r\n            var hideTabbar = (app.params.hideTabbarOnPageScroll || scrollContent.hasClass('hide-tabbar-on-scroll')) && !(scrollContent.hasClass('keep-tabbar-on-scroll'));\r\n        \r\n            if (!(hideNavbar || hideToolbar || hideTabbar)) return;\r\n            \r\n            var viewContainer = scrollContent.parents('.' + app.params.viewClass);\r\n            if (viewContainer.length === 0) return;\r\n        \r\n            var navbar = viewContainer.find('.navbar'), \r\n                toolbar = viewContainer.find('.toolbar'), \r\n                tabbar;\r\n            if (hideTabbar) {\r\n                tabbar = viewContainer.find('.tabbar');\r\n                if (tabbar.length === 0) tabbar = viewContainer.parents('.' + app.params.viewsClass).find('.tabbar');\r\n            }\r\n        \r\n            var hasNavbar = navbar.length > 0,\r\n                hasToolbar = toolbar.length > 0,\r\n                hasTabbar = tabbar && tabbar.length > 0;\r\n        \r\n            var previousScroll, currentScroll;\r\n                previousScroll = currentScroll = scrollContent[0].scrollTop;\r\n        \r\n            var scrollHeight, offsetHeight, reachEnd, action, navbarHidden, toolbarHidden, tabbarHidden;\r\n        \r\n            var toolbarHeight = (hasToolbar && hideToolbar) ? toolbar[0].offsetHeight : 0;\r\n            var tabbarHeight = (hasTabbar && hideTabbar) ? tabbar[0].offsetHeight : 0;\r\n            var bottomBarHeight = tabbarHeight || toolbarHeight;\r\n        \r\n            function handleScroll(e) {\r\n                if (pageContainer.hasClass('page-on-left')) return;\r\n                currentScroll = scrollContent[0].scrollTop;\r\n                scrollHeight = scrollContent[0].scrollHeight;\r\n                offsetHeight = scrollContent[0].offsetHeight;\r\n                reachEnd =  currentScroll + offsetHeight >= scrollHeight - bottomBarHeight;\r\n                navbarHidden = navbar.hasClass('navbar-hidden');\r\n                toolbarHidden = toolbar.hasClass('toolbar-hidden');\r\n                tabbarHidden = tabbar && tabbar.hasClass('toolbar-hidden');\r\n        \r\n                if (reachEnd) {\r\n                    if (app.params.showBarsOnPageScrollEnd) {\r\n                        action = 'show';\r\n                    }\r\n                }\r\n                else if (previousScroll > currentScroll) {\r\n                    if (app.params.showBarsOnPageScrollTop || currentScroll <= 44) {\r\n                        action = 'show';\r\n                    }\r\n                    else {\r\n                        action = 'hide';\r\n                    }\r\n                }\r\n                else {\r\n                    if (currentScroll > 44) {\r\n                        action = 'hide';\r\n                    }\r\n                    else {\r\n                        action = 'show';\r\n                    }\r\n                }\r\n        \r\n                if (action === 'show') {\r\n                    if (hasNavbar && hideNavbar && navbarHidden) {\r\n                        app.showNavbar(navbar);\r\n                        pageContainer.removeClass('no-navbar-by-scroll'); \r\n                        navbarHidden = false;\r\n                    }\r\n                    if (hasToolbar && hideToolbar && toolbarHidden) {\r\n                        app.showToolbar(toolbar);\r\n                        pageContainer.removeClass('no-toolbar-by-scroll'); \r\n                        toolbarHidden = false;\r\n                    }\r\n                    if (hasTabbar && hideTabbar && tabbarHidden) {\r\n                        app.showToolbar(tabbar);\r\n                        pageContainer.removeClass('no-tabbar-by-scroll'); \r\n                        tabbarHidden = false;\r\n                    }\r\n                }\r\n                else {\r\n                    if (hasNavbar && hideNavbar && !navbarHidden) {\r\n                        app.hideNavbar(navbar);\r\n                        pageContainer.addClass('no-navbar-by-scroll'); \r\n                        navbarHidden = true;\r\n                    }\r\n                    if (hasToolbar && hideToolbar && !toolbarHidden) {\r\n                        app.hideToolbar(toolbar);\r\n                        pageContainer.addClass('no-toolbar-by-scroll'); \r\n                        toolbarHidden = true;\r\n                    }\r\n                    if (hasTabbar && hideTabbar && !tabbarHidden) {\r\n                        app.hideToolbar(tabbar);\r\n                        pageContainer.addClass('no-tabbar-by-scroll'); \r\n                        tabbarHidden = true;\r\n                    }\r\n                }\r\n                    \r\n                previousScroll = currentScroll;\r\n            }\r\n            scrollContent.on('scroll', handleScroll);\r\n            scrollContent[0].f7ScrollToolbarsHandler = handleScroll;\r\n        };\r\n        app.destroyScrollToolbars = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var scrollContent = pageContainer.find('.page-content');\r\n            if (scrollContent.length === 0) return;\r\n            var handler = scrollContent[0].f7ScrollToolbarsHandler;\r\n            if (!handler) return;\r\n            scrollContent.off('scroll', scrollContent[0].f7ScrollToolbarsHandler);\r\n        };\n\n        /*======================================================\r\n        ************   Material Tabbar   ************\r\n        ======================================================*/\r\n        app.materialTabbarSetHighlight = function (tabbar, activeLink) {\r\n            tabbar = $(tabbar);\r\n            activeLink = activeLink || tabbar.find('.tab-link.active');\r\n        \r\n            if (activeLink && activeLink.length > 0) {\r\n                var tabLinkWidth, highlightTranslate;\r\n                if (tabbar.hasClass('tabbar-scrollable')) {\r\n                    tabLinkWidth = activeLink[0].offsetWidth + 'px';\r\n                    highlightTranslate = (app.rtl ? - activeLink[0].offsetLeft: activeLink[0].offsetLeft) + 'px';\r\n                }\r\n                else {\r\n                    tabLinkWidth = 1 / tabbar.find('.tab-link').length * 100 + '%';\r\n                    highlightTranslate = (app.rtl ? - activeLink.index(): activeLink.index()) * 100 + '%';\r\n                }\r\n        \r\n                tabbar.find('.tab-link-highlight')\r\n                    .css({width: tabLinkWidth})\r\n                    .transform('translate3d(' + highlightTranslate + ',0,0)');\r\n            }\r\n        };\r\n        app.initPageMaterialTabbar = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var tabbar = $(pageContainer).find('.tabbar');\r\n        \r\n            function tabbarSetHighlight() {\r\n                app.materialTabbarSetHighlight(tabbar);\r\n            }\r\n            if (tabbar.length > 0) {\r\n                if (tabbar.find('.tab-link-highlight').length === 0) {\r\n                    tabbar.find('.toolbar-inner').append('<span class=\"tab-link-highlight\"></span>');\r\n                }\r\n        \r\n                tabbarSetHighlight();\r\n                $(window).on('resize', tabbarSetHighlight);\r\n                pageContainer.once('page:beforeremove', function () {\r\n                    $(window).off('resize', tabbarSetHighlight);\r\n                });\r\n            }\r\n        };\n\n        /* ===============================================================================\r\n        ************   Tabs   ************\r\n        =============================================================================== */\r\n        app.showTab = function (tab, tabLink, force) {\r\n            var newTab = $(tab);\r\n            if (arguments.length === 2) {\r\n                if (typeof tabLink === 'boolean') {\r\n                    force = tabLink;\r\n                }\r\n            }\r\n            if (newTab.length === 0) return false;\r\n            if (newTab.hasClass('active')) {\r\n                if (force) newTab.trigger('show tab:show');\r\n                return false;\r\n            }\r\n            var tabs = newTab.parent('.tabs');\r\n            if (tabs.length === 0) return false;\r\n        \r\n            // Return swipeouts in hidden tabs\r\n            app.allowSwipeout = true;\r\n        \r\n            // Animated tabs\r\n            var isAnimatedTabs = tabs.parent().hasClass('tabs-animated-wrap');\r\n            if (isAnimatedTabs) {\r\n                var tabTranslate = (app.rtl ? newTab.index() : -newTab.index()) * 100;\r\n                tabs.transform('translate3d(' + tabTranslate + '%,0,0)');\r\n            }\r\n        \r\n            // Swipeable tabs\r\n            var isSwipeableTabs = tabs.parent().hasClass('tabs-swipeable-wrap'), swiper;\r\n            if (isSwipeableTabs) {\r\n                swiper = tabs.parent()[0].swiper;\r\n                if (swiper.activeIndex !== newTab.index()) swiper.slideTo(newTab.index(), undefined, false);\r\n            }\r\n        \r\n            // Remove active class from old tabs\r\n            var oldTab = tabs.children('.tab.active').removeClass('active').trigger('hide tab:hide');\r\n            // Add active class to new tab\r\n            newTab.addClass('active');\r\n            // Trigger 'show' event on new tab\r\n            newTab.trigger('show tab:show');\r\n        \r\n            // Update navbars in new tab\r\n            if (!isAnimatedTabs && !isSwipeableTabs && newTab.find('.navbar').length > 0) {\r\n                // Find tab's view\r\n                var viewContainer;\r\n                if (newTab.hasClass(app.params.viewClass)) viewContainer = newTab[0];\r\n                else viewContainer = newTab.parents('.' + app.params.viewClass)[0];\r\n                app.sizeNavbars(viewContainer);\r\n            }\r\n        \r\n            // Find related link for new tab\r\n            if (tabLink) tabLink = $(tabLink);\r\n            else {\r\n                // Search by id\r\n                if (typeof tab === 'string') tabLink = $('.tab-link[href=\"' + tab + '\"]');\r\n                else tabLink = $('.tab-link[href=\"#' + newTab.attr('id') + '\"]');\r\n                // Search by data-tab\r\n                if (!tabLink || tabLink && tabLink.length === 0) {\r\n                    $('[data-tab]').each(function () {\r\n                        if (newTab.is($(this).attr('data-tab'))) tabLink = $(this);\r\n                    });\r\n                }\r\n            }\r\n            if (tabLink.length === 0) return;\r\n        \r\n            // Find related link for old tab\r\n            var oldTabLink;\r\n            if (oldTab && oldTab.length > 0) {\r\n                // Search by id\r\n                var oldTabId = oldTab.attr('id');\r\n                if (oldTabId) oldTabLink = $('.tab-link[href=\"#' + oldTabId + '\"]');\r\n                // Search by data-tab\r\n                if (!oldTabLink || oldTabLink && oldTabLink.length === 0) {\r\n                    $('[data-tab]').each(function () {\r\n                        if (oldTab.is($(this).attr('data-tab'))) oldTabLink = $(this);\r\n                    });\r\n                }\r\n            }\r\n        \r\n            // Update links' classes\r\n            if (tabLink && tabLink.length > 0) {\r\n                tabLink.addClass('active');\r\n                // Material Highlight\r\n                if (app.params.material) {\r\n                    var tabbar = tabLink.parents('.tabbar');\r\n                    if (tabbar.length > 0) {\r\n                        if (tabbar.find('.tab-link-highlight').length === 0) {\r\n                            tabbar.find('.toolbar-inner').append('<span class=\"tab-link-highlight\"></span>');\r\n                        }\r\n                        app.materialTabbarSetHighlight(tabbar, tabLink);\r\n                    }\r\n                }\r\n            }\r\n            if (oldTabLink && oldTabLink.length > 0) oldTabLink.removeClass('active');\r\n        \r\n            return true;\r\n        };\n\n        /*===============================================================================\r\n        ************   Accordion   ************\r\n        ===============================================================================*/\r\n        app.accordionToggle = function (item) {\r\n            item = $(item);\r\n            if (item.length === 0) return;\r\n            if (item.hasClass('accordion-item-expanded')) app.accordionClose(item);\r\n            else app.accordionOpen(item);\r\n        };\r\n        app.accordionOpen = function (item) {\r\n            item = $(item);\r\n            var list = item.parents('.accordion-list').eq(0);\r\n            var content = item.children('.accordion-item-content');\r\n            if (content.length === 0) content = item.find('.accordion-item-content');\r\n            var expandedItem = list.length > 0 && item.parent().children('.accordion-item-expanded');\r\n            if (expandedItem.length > 0) {\r\n                app.accordionClose(expandedItem);\r\n            }\r\n            content.css('height', content[0].scrollHeight + 'px').transitionEnd(function () {\r\n                if (item.hasClass('accordion-item-expanded')) {\r\n                    content.transition(0);\r\n                    content.css('height', 'auto');\r\n                    var clientLeft = content[0].clientLeft;\r\n                    content.transition('');\r\n                    item.trigger('opened accordion:opened');\r\n                }\r\n                else {\r\n                    content.css('height', '');\r\n                    item.trigger('closed accordion:closed');\r\n                }\r\n            });\r\n            item.trigger('open accordion:open');\r\n            item.addClass('accordion-item-expanded');\r\n        };\r\n        app.accordionClose = function (item) {\r\n            item = $(item);\r\n            var content = item.children('.accordion-item-content');\r\n            if (content.length === 0) content = item.find('.accordion-item-content');\r\n            item.removeClass('accordion-item-expanded');\r\n            content.transition(0);\r\n            content.css('height', content[0].scrollHeight + 'px');\r\n            // Relayout\r\n            var clientLeft = content[0].clientLeft;\r\n            // Close\r\n            content.transition('');\r\n            content.css('height', '').transitionEnd(function () {\r\n                if (item.hasClass('accordion-item-expanded')) {\r\n                    content.transition(0);\r\n                    content.css('height', 'auto');\r\n                    var clientLeft = content[0].clientLeft;\r\n                    content.transition('');\r\n                    item.trigger('opened accordion:opened');\r\n                }\r\n                else {\r\n                    content.css('height', '');\r\n                    item.trigger('closed accordion:closed');\r\n                }\r\n            });\r\n            item.trigger('close accordion:close');\r\n        };\n\n        /*===============================================================================\r\n        ************   Fast Clicks   ************\r\n        ************   Inspired by https://github.com/ftlabs/fastclick   ************\r\n        ===============================================================================*/\r\n        app.initFastClicks = function () {\r\n            if (app.params.activeState) {\r\n                $('html').addClass('watch-active-state');\r\n            }\r\n            if (app.device.ios && app.device.webView) {\r\n                // Strange hack required for iOS 8 webview to work on inputs\r\n                window.addEventListener('touchstart', function () {});\r\n            }\r\n        \r\n            var touchStartX, touchStartY, touchStartTime, targetElement, trackClick, activeSelection, scrollParent, lastClickTime, isMoved, tapHoldFired, tapHoldTimeout;\r\n            var activableElement, activeTimeout, needsFastClick, needsFastClickTimeOut;\r\n            var rippleWave, rippleTarget, rippleTransform, rippleTimeout;\r\n            function findActivableElement(el) {\r\n                var target = $(el);\r\n                var parents = target.parents(app.params.activeStateElements);\r\n                var activable;\r\n                if (target.is(app.params.activeStateElements)) {\r\n                    activable = target;\r\n                }\r\n                if (parents.length > 0) {\r\n                    activable = activable ? activable.add(parents) : parents;\r\n                }\r\n                return activable ? activable : target;\r\n            }\r\n            function isInsideScrollableView(el) {\r\n                var pageContent = el.parents('.page-content, .panel');\r\n        \r\n                if (pageContent.length === 0) {\r\n                    return false;\r\n                }\r\n        \r\n                // This event handler covers the \"tap to stop scrolling\".\r\n                if (pageContent.prop('scrollHandlerSet') !== 'yes') {\r\n                    pageContent.on('scroll', function() {\r\n                      clearTimeout(activeTimeout);\r\n                      clearTimeout(rippleTimeout);\r\n                    });\r\n                    pageContent.prop('scrollHandlerSet', 'yes');\r\n                }\r\n        \r\n                return true;\r\n            }\r\n            function addActive() {\r\n                if (!activableElement) return;\r\n                activableElement.addClass('active-state');\r\n            }\r\n            function removeActive(el) {\r\n                if (!activableElement) return;\r\n                activableElement.removeClass('active-state');\r\n                activableElement = null;\r\n            }\r\n            function isFormElement(el) {\r\n                var nodes = ('input select textarea label').split(' ');\r\n                if (el.nodeName && nodes.indexOf(el.nodeName.toLowerCase()) >= 0) return true;\r\n                return false;\r\n            }\r\n            function androidNeedsBlur(el) {\r\n                var noBlur = ('button input textarea select').split(' ');\r\n                if (document.activeElement && el !== document.activeElement && document.activeElement !== document.body) {\r\n                    if (noBlur.indexOf(el.nodeName.toLowerCase()) >= 0) {\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n            function targetNeedsFastClick(el) {\r\n                var $el = $(el);\r\n                if (el.nodeName.toLowerCase() === 'input' && (el.type === 'file' || el.type === 'range')) return false;\r\n                if (el.nodeName.toLowerCase() === 'select' && app.device.android) return false;\r\n                if ($el.hasClass('no-fastclick') || $el.parents('.no-fastclick').length > 0) return false;\r\n                if (app.params.fastClicksExclude && $el.is(app.params.fastClicksExclude)) return false;\r\n                return true;\r\n            }\r\n            function targetNeedsFocus(el) {\r\n                if (document.activeElement === el) {\r\n                    return false;\r\n                }\r\n                var tag = el.nodeName.toLowerCase();\r\n                var skipInputs = ('button checkbox file image radio submit').split(' ');\r\n                if (el.disabled || el.readOnly) return false;\r\n                if (tag === 'textarea') return true;\r\n                if (tag === 'select') {\r\n                    if (app.device.android) return false;\r\n                    else return true;\r\n                }\r\n                if (tag === 'input' && skipInputs.indexOf(el.type) < 0) return true;\r\n            }\r\n            function targetNeedsPrevent(el) {\r\n                el = $(el);\r\n                var prevent = true;\r\n                if (el.is('label') || el.parents('label').length > 0) {\r\n                    if (app.device.android) {\r\n                        prevent = false;\r\n                    }\r\n                    else if (app.device.ios && el.is('input')) {\r\n                        prevent = true;\r\n                    }\r\n                    else prevent = false;\r\n                }\r\n                return prevent;\r\n            }\r\n        \r\n            // Mouse Handlers\r\n            function handleMouseDown (e) {\r\n                findActivableElement(e.target).addClass('active-state');\r\n                if ('which' in e && e.which === 3) {\r\n                    setTimeout(function () {\r\n                        $('.active-state').removeClass('active-state');\r\n                    }, 0);\r\n                }\r\n                if (app.params.material && app.params.materialRipple) {\r\n                    touchStartX = e.pageX;\r\n                    touchStartY = e.pageY;\r\n                    rippleTouchStart(e.target, e.pageX, e.pageY);\r\n                }\r\n            }\r\n            function handleMouseMove (e) {\r\n                $('.active-state').removeClass('active-state');\r\n                if (app.params.material && app.params.materialRipple) {\r\n                    rippleTouchMove();\r\n                }\r\n            }\r\n            function handleMouseUp (e) {\r\n                $('.active-state').removeClass('active-state');\r\n                if (app.params.material && app.params.materialRipple) {\r\n                    rippleTouchEnd();\r\n                }\r\n            }\r\n        \r\n            // Material Touch Ripple Effect\r\n            function findRippleElement(el) {\r\n                var needsRipple = app.params.materialRippleElements;\r\n                var $el = $(el);\r\n                if ($el.is(needsRipple)) {\r\n                    if ($el.hasClass('no-ripple')) {\r\n                        return false;\r\n                    }\r\n                    return $el;\r\n                }\r\n                else if ($el.parents(needsRipple).length > 0) {\r\n                    var rippleParent = $el.parents(needsRipple).eq(0);\r\n                    if (rippleParent.hasClass('no-ripple')) {\r\n                        return false;\r\n                    }\r\n                    return rippleParent;\r\n                }\r\n                else return false;\r\n            }\r\n            function createRipple(x, y, el) {\r\n                if (!el) return;\r\n                var box = el[0].getBoundingClientRect();\r\n                var center = {\r\n                    x: x - box.left,\r\n                    y: y - box.top\r\n                },\r\n                    height = box.height,\r\n                    width = box.width;\r\n                var diameter = Math.max(Math.pow((Math.pow(height, 2) + Math.pow(width, 2)), 0.5), 48);\r\n        \r\n                rippleWave = $(\r\n                    '<div class=\"ripple-wave\" style=\"width: ' + diameter + 'px; height: '+diameter+'px; margin-top:-'+diameter/2+'px; margin-left:-'+diameter/2+'px; left:'+center.x+'px; top:'+center.y+'px;\"></div>'\r\n                );\r\n                el.prepend(rippleWave);\r\n                var clientLeft = rippleWave[0].clientLeft;\r\n                rippleTransform = 'translate3d('+(-center.x + width/2)+'px, '+(-center.y + height/2)+'px, 0) scale(1)';\r\n                rippleWave.transform(rippleTransform);\r\n            }\r\n        \r\n            function removeRipple() {\r\n                if (!rippleWave) return;\r\n                var toRemove = rippleWave;\r\n        \r\n                var removeTimeout = setTimeout(function () {\r\n                    toRemove.remove();\r\n                }, 400);\r\n        \r\n                rippleWave\r\n                    .addClass('ripple-wave-fill')\r\n                    .transform(rippleTransform.replace('scale(1)', 'scale(1.01)'))\r\n                    .transitionEnd(function () {\r\n                        clearTimeout(removeTimeout);\r\n        \r\n                        var rippleWave = $(this)\r\n                            .addClass('ripple-wave-out')\r\n                            .transform(rippleTransform.replace('scale(1)', 'scale(1.01)'));\r\n        \r\n                        removeTimeout = setTimeout(function () {\r\n                            rippleWave.remove();\r\n                        }, 700);\r\n        \r\n                        setTimeout(function () {\r\n                            rippleWave.transitionEnd(function(){\r\n                                clearTimeout(removeTimeout);\r\n                                $(this).remove();\r\n                            });\r\n                        }, 0);\r\n                    });\r\n        \r\n                rippleWave = rippleTarget = undefined;\r\n            }\r\n        \r\n            function rippleTouchStart (el, x, y) {\r\n                rippleTarget = findRippleElement(el);\r\n                if (!rippleTarget || rippleTarget.length === 0) {\r\n                    rippleTarget = undefined;\r\n                    return;\r\n                }\r\n                if (!isInsideScrollableView(rippleTarget)) {\r\n                    createRipple(touchStartX, touchStartY, rippleTarget);\r\n                }\r\n                else {\r\n                    rippleTimeout = setTimeout(function () {\r\n                        createRipple(touchStartX, touchStartY, rippleTarget);\r\n                    }, 80);\r\n                }\r\n            }\r\n            function rippleTouchMove() {\r\n                clearTimeout(rippleTimeout);\r\n                removeRipple();\r\n            }\r\n            function rippleTouchEnd() {\r\n                if (rippleWave) {\r\n                    removeRipple();\r\n                }\r\n                else if (rippleTarget && !isMoved) {\r\n                    clearTimeout(rippleTimeout);\r\n                    createRipple(touchStartX, touchStartY, rippleTarget);\r\n                    setTimeout(removeRipple, 0);\r\n                }\r\n                else {\r\n                    removeRipple();\r\n                }\r\n            }\r\n        \r\n            // Send Click\r\n            function sendClick(e) {\r\n                var touch = e.changedTouches[0];\r\n                var evt = document.createEvent('MouseEvents');\r\n                var eventType = 'click';\r\n                if (app.device.android && targetElement.nodeName.toLowerCase() === 'select') {\r\n                    eventType = 'mousedown';\r\n                }\r\n                evt.initMouseEvent(eventType, true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\r\n                evt.forwardedTouchEvent = true;\r\n                targetElement.dispatchEvent(evt);\r\n            }\r\n        \r\n            // Touch Handlers\r\n            function handleTouchStart(e) {\r\n                isMoved = false;\r\n                tapHoldFired = false;\r\n                if (e.targetTouches.length > 1) {\r\n                    if (activableElement) removeActive();\r\n                    return true;\r\n                }\r\n                if (e.touches.length > 1 && activableElement) {\r\n                    removeActive();\r\n                }\r\n                if (app.params.tapHold) {\r\n                    if (tapHoldTimeout) clearTimeout(tapHoldTimeout);\r\n                    tapHoldTimeout = setTimeout(function () {\r\n                        if (e && e.touches && e.touches.length > 1) return;\r\n                        tapHoldFired = true;\r\n                        e.preventDefault();\r\n                        $(e.target).trigger('taphold');\r\n                    }, app.params.tapHoldDelay);\r\n                }\r\n                if (needsFastClickTimeOut) clearTimeout(needsFastClickTimeOut);\r\n                needsFastClick = targetNeedsFastClick(e.target);\r\n        \r\n                if (!needsFastClick) {\r\n                    trackClick = false;\r\n                    return true;\r\n                }\r\n                if (app.device.ios || (app.device.android && 'getSelection' in window)) {\r\n                    var selection = window.getSelection();\r\n                    if (selection.rangeCount && selection.focusNode !== document.body && (!selection.isCollapsed || document.activeElement === selection.focusNode)) {\r\n                        activeSelection = true;\r\n                        return true;\r\n                    }\r\n                    else {\r\n                        activeSelection = false;\r\n                    }\r\n                }\r\n                if (app.device.android)  {\r\n                    if (androidNeedsBlur(e.target)) {\r\n                        document.activeElement.blur();\r\n                    }\r\n                }\r\n        \r\n                trackClick = true;\r\n                targetElement = e.target;\r\n                touchStartTime = (new Date()).getTime();\r\n                touchStartX = e.targetTouches[0].pageX;\r\n                touchStartY = e.targetTouches[0].pageY;\r\n        \r\n                // Detect scroll parent\r\n                if (app.device.ios) {\r\n                    scrollParent = undefined;\r\n                    $(targetElement).parents().each(function () {\r\n                        var parent = this;\r\n                        if (parent.scrollHeight > parent.offsetHeight && !scrollParent) {\r\n                            scrollParent = parent;\r\n                            scrollParent.f7ScrollTop = scrollParent.scrollTop;\r\n                        }\r\n                    });\r\n                }\r\n                if ((e.timeStamp - lastClickTime) < app.params.fastClicksDelayBetweenClicks) {\r\n                    e.preventDefault();\r\n                }\r\n        \r\n                if (app.params.activeState) {\r\n                    activableElement = findActivableElement(targetElement);\r\n                    // If it's inside a scrollable view, we don't trigger active-state yet,\r\n                    // because it can be a scroll instead. Based on the link:\r\n                    // http://labnote.beedesk.com/click-scroll-and-pseudo-active-on-mobile-webk\r\n                    if (!isInsideScrollableView(activableElement)) {\r\n                        addActive();\r\n                    } else {\r\n                        activeTimeout = setTimeout(addActive, 80);\r\n                    }\r\n                }\r\n                if (app.params.material && app.params.materialRipple) {\r\n                    rippleTouchStart(targetElement, touchStartX, touchStartY);\r\n                }\r\n            }\r\n            function handleTouchMove(e) {\r\n                if (!trackClick) return;\r\n                var _isMoved = false;\r\n                var distance = app.params.fastClicksDistanceThreshold;\r\n                if (distance) {\r\n                    var pageX = e.targetTouches[0].pageX;\r\n                    var pageY = e.targetTouches[0].pageY;\r\n                    if (Math.abs(pageX - touchStartX) > distance ||  Math.abs(pageY - touchStartY) > distance) {\r\n                        _isMoved = true;\r\n                    }\r\n                }\r\n                else {\r\n                    _isMoved = true;\r\n                }\r\n                if (_isMoved) {\r\n                    trackClick = false;\r\n                    targetElement = null;\r\n                    isMoved = true;\r\n                    if (app.params.tapHold) {\r\n                        clearTimeout(tapHoldTimeout);\r\n                    }\r\n        \t\t\tif (app.params.activeState) {\r\n        \t\t\t\tclearTimeout(activeTimeout);\r\n        \t\t\t\tremoveActive();\r\n        \t\t\t}\r\n                    if (app.params.material && app.params.materialRipple) {\r\n                        rippleTouchMove();\r\n                    }\r\n                }\r\n            }\r\n            function handleTouchEnd(e) {\r\n                clearTimeout(activeTimeout);\r\n                clearTimeout(tapHoldTimeout);\r\n        \r\n                if (!trackClick) {\r\n                    if (!activeSelection && needsFastClick) {\r\n                        if (!(app.device.android && !e.cancelable)) {\r\n                            e.preventDefault();\r\n                        }\r\n                    }\r\n                    return true;\r\n                }\r\n        \r\n                if (document.activeElement === e.target) {\r\n                    if (app.params.activeState) removeActive();\r\n                    if (app.params.material && app.params.materialRipple) {\r\n                        rippleTouchEnd();\r\n                    }\r\n                    return true;\r\n                }\r\n        \r\n                if (!activeSelection) {\r\n                    e.preventDefault();\r\n                }\r\n        \r\n                if ((e.timeStamp - lastClickTime) < app.params.fastClicksDelayBetweenClicks) {\r\n                    setTimeout(removeActive, 0);\r\n                    return true;\r\n                }\r\n        \r\n                lastClickTime = e.timeStamp;\r\n        \r\n                trackClick = false;\r\n        \r\n                if (app.device.ios && scrollParent) {\r\n                    if (scrollParent.scrollTop !== scrollParent.f7ScrollTop) {\r\n                        return false;\r\n                    }\r\n                }\r\n        \r\n                // Add active-state here because, in a very fast tap, the timeout didn't\r\n                // have the chance to execute. Removing active-state in a timeout gives\r\n                // the chance to the animation execute.\r\n                if (app.params.activeState) {\r\n                    addActive();\r\n                    setTimeout(removeActive, 0);\r\n                }\r\n                // Remove Ripple\r\n                if (app.params.material && app.params.materialRipple) {\r\n                    rippleTouchEnd();\r\n                }\r\n        \r\n                // Trigger focus when required\r\n                if (targetNeedsFocus(targetElement)) {\r\n                    if (app.device.ios && app.device.webView) {\r\n                        if ((event.timeStamp - touchStartTime) > 159) {\r\n                            targetElement = null;\r\n                            return false;\r\n                        }\r\n                        targetElement.focus();\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        targetElement.focus();\r\n                    }\r\n                }\r\n        \r\n                // Blur active elements\r\n                if (document.activeElement && targetElement !== document.activeElement && document.activeElement !== document.body && targetElement.nodeName.toLowerCase() !== 'label') {\r\n                    document.activeElement.blur();\r\n                }\r\n        \r\n                // Send click\r\n                e.preventDefault();\r\n                sendClick(e);\r\n                return false;\r\n            }\r\n            function handleTouchCancel(e) {\r\n                trackClick = false;\r\n                targetElement = null;\r\n        \r\n                // Remove Active State\r\n                clearTimeout(activeTimeout);\r\n                clearTimeout(tapHoldTimeout);\r\n                if (app.params.activeState) {\r\n                    removeActive();\r\n                }\r\n        \r\n                // Remove Ripple\r\n                if (app.params.material && app.params.materialRipple) {\r\n                    rippleTouchEnd();\r\n                }\r\n            }\r\n        \r\n            function handleClick(e) {\r\n                var allowClick = false;\r\n        \r\n                if (trackClick) {\r\n                    targetElement = null;\r\n                    trackClick = false;\r\n                    return true;\r\n                }\r\n                if (e.target.type === 'submit' && e.detail === 0 || e.target.type === 'file') {\r\n                    return true;\r\n                }\r\n                if (!targetElement) {\r\n                    if (!isFormElement(e.target)) {\r\n                        allowClick =  true;\r\n                    }\r\n                }\r\n                if (!needsFastClick) {\r\n                    allowClick = true;\r\n                }\r\n                if (document.activeElement === targetElement) {\r\n                    allowClick =  true;\r\n                }\r\n                if (e.forwardedTouchEvent) {\r\n                    allowClick =  true;\r\n                }\r\n                if (!e.cancelable) {\r\n                    allowClick =  true;\r\n                }\r\n                if (app.params.tapHold && app.params.tapHoldPreventClicks && tapHoldFired) {\r\n                    allowClick = false;\r\n                }\r\n                if (!allowClick) {\r\n                    e.stopImmediatePropagation();\r\n                    e.stopPropagation();\r\n                    if (targetElement) {\r\n                        if (targetNeedsPrevent(targetElement) || isMoved) {\r\n                            e.preventDefault();\r\n                        }\r\n                    }\r\n                    else {\r\n                        e.preventDefault();\r\n                    }\r\n                    targetElement = null;\r\n                }\r\n                needsFastClickTimeOut = setTimeout(function () {\r\n                    needsFastClick = false;\r\n                }, (app.device.ios || app.device.androidChrome ? 100 : 400));\r\n        \r\n                if (app.params.tapHold) {\r\n                    tapHoldTimeout = setTimeout(function () {\r\n                        tapHoldFired = false;\r\n                    }, (app.device.ios || app.device.androidChrome ? 100 : 400));\r\n                }\r\n        \r\n                return allowClick;\r\n            }\r\n            if (app.support.touch) {\r\n                document.addEventListener('click', handleClick, true);\r\n        \r\n                document.addEventListener('touchstart', handleTouchStart);\r\n                document.addEventListener('touchmove', handleTouchMove);\r\n                document.addEventListener('touchend', handleTouchEnd);\r\n                document.addEventListener('touchcancel', handleTouchCancel);\r\n            }\r\n            else {\r\n                if (app.params.activeState) {\r\n                    document.addEventListener('mousedown', handleMouseDown);\r\n                    document.addEventListener('mousemove', handleMouseMove);\r\n                    document.addEventListener('mouseup', handleMouseUp);\r\n                }\r\n            }\r\n            if (app.params.material && app.params.materialRipple) {\r\n                document.addEventListener('contextmenu', function (e) {\r\n                    if (activableElement) removeActive();\r\n                    rippleTouchEnd();\r\n                });\r\n            }\r\n        \r\n        };\r\n        \n\n        /*===============================================================================\r\n        ************   Handle clicks and make them fast (on tap);   ************\r\n        ===============================================================================*/\r\n        app.initClickEvents = function () {\r\n            function handleScrollTop(e) {\r\n                /*jshint validthis:true */\r\n                var clicked = $(this);\r\n                var target = $(e.target);\r\n                var isLink = clicked[0].nodeName.toLowerCase() === 'a' ||\r\n                             clicked.parents('a').length > 0 ||\r\n                             target[0].nodeName.toLowerCase() === 'a' ||\r\n                             target.parents('a').length > 0;\r\n        \r\n                if (isLink) return;\r\n                var pageContent, page;\r\n                if (app.params.scrollTopOnNavbarClick && clicked.is('.navbar .center')) {\r\n                    // Find active page\r\n                    var navbar = clicked.parents('.navbar');\r\n        \r\n                    // Static Layout\r\n                    pageContent = navbar.parents('.page-content');\r\n        \r\n                    if (pageContent.length === 0) {\r\n                        // Fixed Layout\r\n                        if (navbar.parents('.page').length > 0) {\r\n                            pageContent = navbar.parents('.page').find('.page-content');\r\n                        }\r\n                        // Through Layout\r\n                        if (pageContent.length === 0) {\r\n                            if (navbar.nextAll('.pages').length > 0) {\r\n                                pageContent = navbar.nextAll('.pages').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (app.params.scrollTopOnStatusbarClick && clicked.is('.statusbar-overlay')) {\r\n                    if ($('.popup.modal-in').length > 0) {\r\n                        // Check for opened popup\r\n                        pageContent = $('.popup.modal-in').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\r\n                    }\r\n                    else if ($('.panel.active').length > 0) {\r\n                        // Check for opened panel\r\n                        pageContent = $('.panel.active').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\r\n                    }\r\n                    else if ($('.views > .view.active').length > 0) {\r\n                        // View in tab bar app layout\r\n                        pageContent = $('.views > .view.active').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\r\n                    }\r\n                    else {\r\n                        // Usual case\r\n                        pageContent = $('.views').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\r\n                    }\r\n                }\r\n        \r\n                if (pageContent && pageContent.length > 0) {\r\n                    // Check for tab\r\n                    if (pageContent.hasClass('tab')) {\r\n                        pageContent = pageContent.parent('.tabs').children('.page-content.active');\r\n                    }\r\n                    if (pageContent.length > 0) pageContent.scrollTop(0, 300);\r\n                }\r\n            }\r\n            function handleClicks(e) {\r\n                /*jshint validthis:true */\r\n                var clicked = $(this);\r\n                var url = clicked.attr('href');\r\n                var isLink = clicked[0].nodeName.toLowerCase() === 'a';\r\n        \r\n                // Check if link is external\r\n                if (isLink) {\r\n                    if (clicked.is(app.params.externalLinks) || (url && url.indexOf('javascript:') >= 0)) {\r\n                        if(url && clicked.attr('target') === '_system') {\r\n                            e.preventDefault();\r\n                            window.open(url, '_system');\r\n                        }\r\n                        return;\r\n                    }\r\n                }\r\n        \r\n                // Collect Clicked data- attributes\r\n                var clickedData = clicked.dataset();\r\n        \r\n                // Smart Select\r\n                if (clicked.hasClass('smart-select')) {\r\n                    if (app.smartSelectOpen) app.smartSelectOpen(clicked);\r\n                }\r\n        \r\n                // Open Panel\r\n                if (clicked.hasClass('open-panel')) {\r\n                    if ($('.panel').length === 1) {\r\n                        if ($('.panel').hasClass('panel-left')) app.openPanel('left');\r\n                        else app.openPanel('right');\r\n                    }\r\n                    else {\r\n                        if (clickedData.panel === 'right') app.openPanel('right');\r\n                        else app.openPanel('left');\r\n                    }\r\n                }\r\n                // Close Panel\r\n                if (clicked.hasClass('close-panel')) {\r\n                    app.closePanel();\r\n                }\r\n        \r\n                if (clicked.hasClass('panel-overlay') && app.params.panelsCloseByOutside) {\r\n                    app.closePanel();\r\n                }\r\n                // Popover\r\n                if (clicked.hasClass('open-popover')) {\r\n                    var popover;\r\n                    if (clickedData.popover) {\r\n                        popover = clickedData.popover;\r\n                    }\r\n                    else popover = '.popover';\r\n                    app.popover(popover, clicked);\r\n                }\r\n                if (clicked.hasClass('close-popover')) {\r\n                    app.closeModal('.popover.modal-in');\r\n                }\r\n                // Popup\r\n                var popup;\r\n                if (clicked.hasClass('open-popup')) {\r\n                    if (clickedData.popup) {\r\n                        popup = clickedData.popup;\r\n                    }\r\n                    else popup = '.popup';\r\n                    app.popup(popup);\r\n                }\r\n                if (clicked.hasClass('close-popup')) {\r\n                    if (clickedData.popup) {\r\n                        popup = clickedData.popup;\r\n                    }\r\n                    else popup = '.popup.modal-in';\r\n                    app.closeModal(popup);\r\n                }\r\n                // Login Screen\r\n                var loginScreen;\r\n                if (clicked.hasClass('open-login-screen')) {\r\n                    if (clickedData.loginScreen) {\r\n                        loginScreen = clickedData.loginScreen;\r\n                    }\r\n                    else loginScreen = '.login-screen';\r\n                    app.loginScreen(loginScreen);\r\n                }\r\n                if (clicked.hasClass('close-login-screen')) {\r\n                    app.closeModal('.login-screen.modal-in');\r\n                }\r\n                // Close Modal\r\n                if (clicked.hasClass('modal-overlay')) {\r\n                    if ($('.modal.modal-in').length > 0 && app.params.modalCloseByOutside)\r\n                        app.closeModal('.modal.modal-in');\r\n                    if ($('.actions-modal.modal-in').length > 0 && app.params.actionsCloseByOutside)\r\n                        app.closeModal('.actions-modal.modal-in');\r\n        \r\n                    if ($('.popover.modal-in').length > 0) app.closeModal('.popover.modal-in');\r\n                }\r\n                if (clicked.hasClass('popup-overlay')) {\r\n                    if ($('.popup.modal-in').length > 0 && app.params.popupCloseByOutside)\r\n                        app.closeModal('.popup.modal-in');\r\n                }\r\n                if (clicked.hasClass('picker-modal-overlay')) {\r\n                    if ($('.picker-modal.modal-in').length > 0)\r\n                        app.closeModal('.picker-modal.modal-in');\r\n                }\r\n        \r\n                // Picker\r\n                if (clicked.hasClass('close-picker')) {\r\n                    var pickerToClose = $('.picker-modal.modal-in');\r\n                    if (pickerToClose.length > 0) {\r\n                        app.closeModal(pickerToClose);\r\n                    }\r\n                    else {\r\n                        pickerToClose = $('.popover.modal-in .picker-modal');\r\n                        if (pickerToClose.length > 0) {\r\n                            app.closeModal(pickerToClose.parents('.popover'));\r\n                        }\r\n                    }\r\n                }\r\n                if (clicked.hasClass('open-picker')) {\r\n                    var pickerToOpen;\r\n                    if (clickedData.picker) {\r\n                        pickerToOpen = clickedData.picker;\r\n                    }\r\n                    else pickerToOpen = '.picker-modal';\r\n                    app.pickerModal(pickerToOpen, clicked);\r\n                }\r\n        \r\n                // Tabs\r\n                var isTabLink;\r\n                if (clicked.hasClass('tab-link')) {\r\n                    isTabLink = true;\r\n                    app.showTab(clickedData.tab || clicked.attr('href'), clicked);\r\n                }\r\n                // Swipeout Close\r\n                if (clicked.hasClass('swipeout-close')) {\r\n                    app.swipeoutClose(clicked.parents('.swipeout-opened'));\r\n                }\r\n                // Swipeout Delete\r\n                if (clicked.hasClass('swipeout-delete')) {\r\n                    if (clickedData.confirm) {\r\n                        var text = clickedData.confirm;\r\n                        var title = clickedData.confirmTitle;\r\n                        if (title) {\r\n                            app.confirm(text, title, function () {\r\n                                app.swipeoutDelete(clicked.parents('.swipeout'));\r\n                            }, function () {\r\n                                if (clickedData.closeOnCancel) app.swipeoutClose(clicked.parents('.swipeout'));\r\n                            });\r\n                        }\r\n                        else {\r\n                            app.confirm(text, function () {\r\n                                app.swipeoutDelete(clicked.parents('.swipeout'));\r\n                            }, function () {\r\n                                if (clickedData.closeOnCancel) app.swipeoutClose(clicked.parents('.swipeout'));\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        app.swipeoutDelete(clicked.parents('.swipeout'));\r\n                    }\r\n        \r\n                }\r\n                // Sortable\r\n                if (clicked.hasClass('toggle-sortable')) {\r\n                    app.sortableToggle(clickedData.sortable);\r\n                }\r\n                if (clicked.hasClass('open-sortable')) {\r\n                    app.sortableOpen(clickedData.sortable);\r\n                }\r\n                if (clicked.hasClass('close-sortable')) {\r\n                    app.sortableClose(clickedData.sortable);\r\n                }\r\n                // Accordion\r\n                if (clicked.hasClass('accordion-item-toggle') || (clicked.hasClass('item-link') && clicked.parent().hasClass('accordion-item'))) {\r\n                    var accordionItem = clicked.parent('.accordion-item');\r\n                    if (accordionItem.length === 0) accordionItem = clicked.parents('.accordion-item');\r\n                    if (accordionItem.length === 0) accordionItem = clicked.parents('li');\r\n                    app.accordionToggle(accordionItem);\r\n                }\r\n        \r\n                // Speed Dial\r\n                if (clicked.hasClass('floating-button') && clicked.parent().hasClass('speed-dial')) {\r\n                    clicked.parent().toggleClass('speed-dial-opened');\r\n                }\r\n                if (clicked.hasClass('close-speed-dial')) {\r\n                    $('.speed-dial-opened').removeClass('speed-dial-opened');\r\n                }\r\n        \r\n                // Load Page\r\n                if (app.params.ajaxLinks && !clicked.is(app.params.ajaxLinks) || !isLink || !app.params.router) {\r\n                    return;\r\n                }\r\n                if (isLink) {\r\n                    e.preventDefault();\r\n                }\r\n        \r\n                var validUrl = url && url.length > 0 && url !== '#' && !isTabLink;\r\n                var template = clickedData.template;\r\n                if (validUrl || clicked.hasClass('back') || template) {\r\n                    var view;\r\n                    if (clickedData.view) {\r\n                        view = $(clickedData.view)[0].f7View;\r\n                    }\r\n                    else {\r\n                        view = clicked.parents('.' + app.params.viewClass)[0] && clicked.parents('.' + app.params.viewClass)[0].f7View;\r\n                        if (view && view.params.linksView) {\r\n                            if (typeof view.params.linksView === 'string') view = $(view.params.linksView)[0].f7View;\r\n                            else if (view.params.linksView instanceof View) view = view.params.linksView;\r\n                        }\r\n                    }\r\n                    if (!view) {\r\n                        if (app.mainView) view = app.mainView;\r\n                    }\r\n                    if (!view) return;\r\n        \r\n                    var pageName;\r\n                    if (!template) {\r\n                        if (url && url.indexOf('#') === 0 && url !== '#')  {\r\n                            if (view.params.domCache) {\r\n                                pageName = url.split('#')[1];\r\n                            }\r\n                            else return;\r\n                        }\r\n                        if (url === '#' && !clicked.hasClass('back')) return;\r\n                    }\r\n                    else {\r\n                        url = undefined;\r\n                    }\r\n        \r\n                    var animatePages;\r\n                    if (typeof clickedData.animatePages !== 'undefined') {\r\n                        animatePages = clickedData.animatePages;\r\n                    }\r\n                    else {\r\n                        if (clicked.hasClass('with-animation')) animatePages = true;\r\n                        if (clicked.hasClass('no-animation')) animatePages = false;\r\n                    }\r\n        \r\n                    var options = {\r\n                        animatePages: animatePages,\r\n                        ignoreCache: clickedData.ignoreCache,\r\n                        force: clickedData.force,\r\n                        reload: clickedData.reload,\r\n                        reloadPrevious: clickedData.reloadPrevious,\r\n                        pageName: pageName,\r\n                        pushState: clickedData.pushState,\r\n                        url: url\r\n                    };\r\n        \r\n                    if (app.params.template7Pages) {\r\n                        options.contextName = clickedData.contextName;\r\n                        var context = clickedData.context;\r\n                        if (context) {\r\n                            options.context = JSON.parse(context);\r\n                        }\r\n                    }\r\n                    if (template && template in t7.templates) {\r\n                        options.template = t7.templates[template];\r\n                    }\r\n        \r\n                    if (clicked.hasClass('back')) view.router.back(options);\r\n                    else view.router.load(options);\r\n                }\r\n            }\r\n            $(document).on('click', 'a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .swipeout-close, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle, .close-picker, .picker-modal-overlay', handleClicks);\r\n            if (app.params.scrollTopOnNavbarClick || app.params.scrollTopOnStatusbarClick) {\r\n                $(document).on('click', '.statusbar-overlay, .navbar .center', handleScrollTop);\r\n            }\r\n        \r\n            // Prevent scrolling on overlays\r\n            function preventScrolling(e) {\r\n                e.preventDefault();\r\n            }\r\n            if (app.support.touch && !app.device.android) {\r\n                $(document).on((app.params.fastClicks ? 'touchstart' : 'touchmove'), '.panel-overlay, .modal-overlay, .preloader-indicator-overlay, .popup-overlay, .searchbar-overlay', preventScrolling);\r\n            }\r\n        };\r\n        \n\n        /*======================================================\r\n        ************   App Resize Actions   ************\r\n        ======================================================*/\r\n        // Prevent iPad horizontal body scrolling when soft keyboard is opened\r\n        function _fixIpadBodyScrolLeft() {\r\n            if (app.device.ipad) {\r\n                document.body.scrollLeft = 0;\r\n                setTimeout(function () {\r\n                    document.body.scrollLeft = 0;\r\n                }, 0);\r\n            }\r\n        }\r\n        app.initResize = function () {\r\n            $(window).on('resize', app.resize);\r\n            $(window).on('orientationchange', app.orientationchange);\r\n        };\r\n        app.resize = function () {\r\n            if (app.sizeNavbars) app.sizeNavbars();\r\n            _fixIpadBodyScrolLeft();\r\n            \r\n        };\r\n        app.orientationchange = function () {\r\n            if (app.device && app.device.minimalUi) {\r\n                if (window.orientation === 90 || window.orientation === -90) document.body.scrollTop = 0;\r\n            }\r\n            _fixIpadBodyScrolLeft();\r\n        };\r\n        \n\n        /*===============================================================================\r\n        ************   Store and parse forms data   ************\r\n        ===============================================================================*/\r\n        app.formsData = {};\r\n        app.formStoreData = function (formId, formJSON) {\r\n            // Store form data in app.formsData\r\n            app.formsData[formId] = formJSON;\r\n        \r\n            // Store form data in local storage also\r\n            app.ls['f7form-' + formId] = JSON.stringify(formJSON);\r\n        };\r\n        app.formDeleteData = function (formId) {\r\n            // Delete form data from app.formsData\r\n            if (app.formsData[formId]) {\r\n                app.formsData[formId] = '';\r\n                delete app.formsData[formId];\r\n            }\r\n        \r\n            // Delete form data from local storage also\r\n            if (app.ls['f7form-' + formId]) {\r\n                app.ls['f7form-' + formId] = '';\r\n                app.ls.removeItem('f7form-' + formId);\r\n            }\r\n        };\r\n        app.formGetData = function (formId) {\r\n            // First of all check in local storage\r\n            if (app.ls['f7form-' + formId]) {\r\n                return JSON.parse(app.ls['f7form-' + formId]);\r\n            }\r\n            // Try to get it from formsData obj\r\n            else if (app.formsData[formId]) return app.formsData[formId];\r\n        };\r\n        app.formToData = function (form) {\r\n            form = $(form);\r\n            if (form.length !== 1) return false;\r\n        \r\n            // Form data\r\n            var formData = {};\r\n        \r\n            // Skip input types\r\n            var skipTypes = ['submit', 'image', 'button', 'file'];\r\n            var skipNames = [];\r\n            form.find('input, select, textarea').each(function () {\r\n                var input = $(this);\r\n                var name = input.attr('name');\r\n                var type = input.attr('type');\r\n                var tag = this.nodeName.toLowerCase();\r\n                if (skipTypes.indexOf(type) >= 0) return;\r\n                if (skipNames.indexOf(name) >= 0 || !name) return;\r\n                if (tag === 'select' && input.prop('multiple')) {\r\n                    skipNames.push(name);\r\n                    formData[name] = [];\r\n                    form.find('select[name=\"' + name + '\"] option').each(function () {\r\n                        if (this.selected) formData[name].push(this.value);\r\n                    });\r\n                }\r\n                else {\r\n                    switch (type) {\r\n                        case 'checkbox' :\r\n                            skipNames.push(name);\r\n                            formData[name] = [];\r\n                            form.find('input[name=\"' + name + '\"]').each(function () {\r\n                                if (this.checked) formData[name].push(this.value);\r\n                            });\r\n                            break;\r\n                        case 'radio' :\r\n                            skipNames.push(name);\r\n                            form.find('input[name=\"' + name + '\"]').each(function () {\r\n                                if (this.checked) formData[name] = this.value;\r\n                            });\r\n                            break;\r\n                        default :\r\n                            formData[name] = input.val();\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n            form.trigger('formToJSON formToData form:todata', {formData: formData});\r\n        \r\n            return formData;\r\n        };\r\n        app.formToJSON = app.formToData;\r\n        app.formFromData = function (form, formData) {\r\n            form = $(form);\r\n            if (form.length !== 1) return false;\r\n        \r\n            // Skip input types\r\n            var skipTypes = ['submit', 'image', 'button', 'file'];\r\n            var skipNames = [];\r\n        \r\n            form.find('input, select, textarea').each(function () {\r\n                var input = $(this);\r\n                var name = input.attr('name');\r\n                var type = input.attr('type');\r\n                var tag = this.nodeName.toLowerCase();\r\n                if (typeof formData[name] === 'undefined' || formData[name] === null) return;\r\n                if (skipTypes.indexOf(type) >= 0) return;\r\n                if (skipNames.indexOf(name) >= 0 || !name) return;\r\n                if (tag === 'select' && input.prop('multiple')) {\r\n                    skipNames.push(name);\r\n                    form.find('select[name=\"' + name + '\"] option').each(function () {\r\n                        if (formData[name].indexOf(this.value) >= 0) this.selected = true;\r\n                        else this.selected = false;\r\n                    });\r\n                }\r\n                else {\r\n                    switch (type) {\r\n                        case 'checkbox' :\r\n                            skipNames.push(name);\r\n                            form.find('input[name=\"' + name + '\"]').each(function () {\r\n                                if (formData[name].indexOf(this.value) >= 0) this.checked = true;\r\n                                else this.checked = false;\r\n                            });\r\n                            break;\r\n                        case 'radio' :\r\n                            skipNames.push(name);\r\n                            form.find('input[name=\"' + name + '\"]').each(function () {\r\n                                if (formData[name] === this.value) this.checked = true;\r\n                                else this.checked = false;\r\n                            });\r\n                            break;\r\n                        default :\r\n                            input.val(formData[name]);\r\n                            break;\r\n                    }\r\n                }\r\n                if (tag === 'select' && input.parents('.smart-select').length > 0) {\r\n                    input.trigger('change');\r\n                }\r\n            });\r\n            form.trigger('formFromJSON formFromData form:fromdata', {formData: formData});\r\n        };\r\n        app.formFromJSON = app.formFromData;\r\n        \r\n        app.initFormsStorage = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var forms = pageContainer.find('form.store-data');\r\n            if (forms.length === 0) return;\r\n        \r\n            // Parse forms data and fill form if there is such data\r\n            forms.each(function () {\r\n                var id = this.getAttribute('id');\r\n                if (!id) return;\r\n                var formData = app.formGetData(id);\r\n                if (formData) app.formFromData(this, formData);\r\n            });\r\n            // Update forms data on inputs change\r\n            function storeForm() {\r\n                /*jshint validthis:true */\r\n                var form = $(this);\r\n                var formId = form[0].id;\r\n                if (!formId) return;\r\n                var formJSON = app.formToData(form);\r\n                if (!formJSON) return;\r\n                app.formStoreData(formId, formJSON);\r\n                form.trigger('store form:storedata', {data: formJSON});\r\n            }\r\n            forms.on('change submit', storeForm);\r\n        \r\n            // Detach Listeners\r\n            function pageBeforeRemove() {\r\n                forms.off('change submit', storeForm);\r\n                pageContainer.off('page:beforeremove', pageBeforeRemove);\r\n            }\r\n            pageContainer.on('page:beforeremove', pageBeforeRemove);\r\n        };\n\n        /*===============================================================================\r\n        ************   Ajax submit for forms   ************\r\n        ===============================================================================*/\r\n        // Ajax submit on forms\r\n        $(document).on('submit change', 'form.ajax-submit, form.ajax-submit-onchange', function (e) {\r\n            var form = $(this);\r\n            if (e.type === 'change' && !form.hasClass('ajax-submit-onchange')) return;\r\n            if (e.type === 'submit') e.preventDefault();\r\n        \r\n            var method = (form.attr('method') || 'GET').toUpperCase();\r\n            var contentType = form.prop('enctype') || form.attr('enctype');\r\n        \r\n            var url = form.attr('action');\r\n            if (!url) return;\r\n        \r\n            var data;\r\n            if (method === 'POST') data = new FormData(form[0]);\r\n            else data = $.serializeObject(app.formToJSON(form[0]));\r\n        \r\n            var xhr = $.ajax({\r\n                method: method,\r\n                url: url,\r\n                contentType: contentType,\r\n                data: data,\r\n                beforeSend: function (xhr) {\r\n                    form.trigger('beforeSubmit form:beforesend', {data:data, xhr: xhr});\r\n                },\r\n                error: function (xhr) {\r\n                    form.trigger('submitError form:error', {data:data, xhr: xhr});\r\n                },\r\n                success: function (data) {\r\n                    form.trigger('submitted form:success', {data: data, xhr: xhr});\r\n                }\r\n            });\r\n        });\r\n        \r\n        \n\n        /*===============================================================================\r\n        ************   Resizable textarea   ************\r\n        ===============================================================================*/\r\n        app.resizeTextarea = function (textarea) {\r\n            textarea = $(textarea);\r\n            if (!textarea.hasClass('resizable')) {\r\n                return;\r\n            }\r\n            textarea.css({'height': ''});\r\n            var height = textarea[0].offsetHeight;\r\n            var diff = height - textarea[0].clientHeight;\r\n            var scrollHeight = textarea[0].scrollHeight;\r\n        \r\n            if (scrollHeight + diff > height) {\r\n                var newAreaHeight = scrollHeight + diff;\r\n                textarea.css('height', newAreaHeight + 'px');\r\n            }\r\n        };\r\n        app.resizableTextarea = function (textarea) {\r\n            textarea = $(textarea);\r\n            if (textarea.length === 0) return;\r\n            var textareaTimeout;\r\n            function handleTextarea() {\r\n                clearTimeout(textareaTimeout);\r\n                textareaTimeout = setTimeout(function () {\r\n                    app.resizeTextarea(textarea);\r\n                }, 0);\r\n            }\r\n            textarea[0].f7DestroyResizableTextarea = function () {\r\n                textarea.off('change keydown keypress keyup paste cut', handleTextarea);\r\n            };\r\n            return textarea.on('change keydown keypress keyup paste cut', handleTextarea);\r\n        };\r\n        app.destroyResizableTextarea = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            if (pageContainer.length > 0 && pageContainer.is('textarea') && pageContainer[0].f7DestroyResizableTextarea) {\r\n                pageContainer[0].f7DestroyResizableTextarea();\r\n            }\r\n            else if (pageContainer.length > 0) {\r\n                pageContainer.find('textarea.resiable').each(function () {\r\n                    var textarea = this;\r\n                    if (textarea.f7DestroyResizableTextarea) {\r\n                        textarea.f7DestroyResizableTextarea ();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        app.initPageResizableTextarea = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var textareas = pageContainer.find('textarea.resizable');\r\n            textareas.each(function () {\r\n                app.resizableTextarea(this);\r\n            });\r\n        };\n\n        /*======================================================\r\n        ************   Material Text Inputs   ************\r\n        ======================================================*/\r\n        app.initPageMaterialInputs = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var textareas = pageContainer.find('textarea.resizable');\r\n            pageContainer.find('.item-input').each(function () {\r\n                var itemInput = $(this);\r\n                var notInputs = ['checkbox', 'button', 'submit', 'range', 'radio', 'image'];\r\n                itemInput.find('input, select, textarea').each(function () {\r\n                    var input = $(this);\r\n                    if (notInputs.indexOf(input.attr('type')) < 0) {\r\n                        itemInput.addClass('item-input-field');\r\n                        if (input.val().trim() !== '') {\r\n                            input.parents('.item-input, .input-field').add(input.parents('.item-inner')).addClass('not-empty-state');\r\n                        }\r\n                    }\r\n                });\r\n                if (itemInput.parents('.input-item, .inputs-list').length > 0) return;\r\n                itemInput.parents('.list-block').eq(0).addClass('inputs-list');\r\n            });\r\n        };\r\n        /*======================================================\r\n        ************   Material Focus Inputs   ************\r\n        ======================================================*/\r\n        app.initMaterialWatchInputs = function () {\r\n            var notInputs = ['checkbox', 'button', 'submit', 'range', 'radio', 'image'];\r\n            function addFocusState(e) {\r\n                /*jshint validthis:true*/\r\n                var i = $(this);\r\n                var type = i.attr('type');\r\n                if (notInputs.indexOf(type) >= 0) return;\r\n                var els = i.add(i.parents('.item-input, .input-field')).add(i.parents('.item-inner').eq(0));\r\n                els.addClass('focus-state');\r\n            }\r\n            function removeFocusState(e) {\r\n                /*jshint validthis:true*/\r\n                var i = $(this), value = i.val();\r\n                var type = i.attr('type');\r\n                if (notInputs.indexOf(type) >= 0) return;\r\n                var els = i.add(i.parents('.item-input, .input-field')).add(i.parents('.item-inner').eq(0));\r\n                els.removeClass('focus-state');\r\n                if (value && value.trim() !== '') {\r\n                    els.addClass('not-empty-state');\r\n                }\r\n                else {\r\n                    els.removeClass('not-empty-state');\r\n                }\r\n            }\r\n            function watchChangeState(e) {\r\n                /*jshint validthis:true*/\r\n                var i = $(this), value = i.val();\r\n                var type = i.attr('type');\r\n                if (notInputs.indexOf(type) >= 0) return;\r\n                var els = i.add(i.parents('.item-input, .input-field')).add(i.parents('.item-inner').eq(0));\r\n                if (value && value.trim() !== '') {\r\n                    els.addClass('not-empty-state');\r\n                }\r\n                else {\r\n                    els.removeClass('not-empty-state');\r\n                }\r\n            }\r\n            $(document).on('change', '.item-input input, .item-input select, .item-input textarea, input, textarea, select', watchChangeState, true);\r\n            $(document).on('focus', '.item-input input, .item-input select, .item-input textarea, input, textarea, select', addFocusState, true);\r\n            $(document).on('blur', '.item-input input, .item-input select, .item-input textarea, input, textarea, select', removeFocusState, true);\r\n        };\n\n        /*======================================================\r\n        ************   Handle Browser's History   ************\r\n        ======================================================*/\r\n        app.pushStateQueue = [];\r\n        app.pushStateClearQueue = function () {\r\n            if (app.pushStateQueue.length === 0) return;\r\n            var queue = app.pushStateQueue.pop();\r\n            var animatePages;\r\n            if (app.params.pushStateNoAnimation === true) animatePages = false;\r\n            if (queue.action === 'back') {\r\n                app.router.back(queue.view, {animatePages: animatePages});\r\n            }\r\n            if (queue.action === 'loadPage') {\r\n                app.router.load(queue.view, {url: queue.stateUrl, animatePages: animatePages, pushState: false});\r\n            }\r\n            if (queue.action === 'loadContent') {\r\n                app.router.load(queue.view, {content: queue.stateContent, animatePages: animatePages, pushState: false});\r\n            }\r\n            if (queue.action === 'loadPageName') {\r\n                app.router.load(queue.view, {pageName: queue.statePageName, url: queue.stateUrl, animatePages: animatePages, pushState: false});\r\n            }\r\n        };\r\n        \r\n        app.initPushState = function () {\r\n            var blockPopstate = true;\r\n            $(window).on('load', function () {\r\n                setTimeout(function () {\r\n                    blockPopstate = false;\r\n                }, 0);\r\n            });\r\n        \r\n            if (document.readyState && document.readyState === 'complete') {\r\n                blockPopstate = false;\r\n            }\r\n        \r\n            function handlePopState(e) {\r\n                if (blockPopstate) return;\r\n                var mainView = app.mainView;\r\n                if (!mainView) return;\r\n                var state = e.state;\r\n                if (!state) {\r\n                    state = {\r\n                        viewIndex: app.views.indexOf(mainView),\r\n                        url : mainView.history[0]\r\n                    };\r\n                }\r\n                if (state.viewIndex < 0) return;\r\n                var view = app.views[state.viewIndex];\r\n                var stateUrl = state && state.url || undefined;\r\n                var stateContent = state && state.content || undefined;\r\n                var statePageName = state && state.pageName || undefined;\r\n                var animatePages;\r\n        \r\n                if (app.params.pushStateNoAnimation === true) animatePages = false;\r\n        \r\n                if (stateUrl !== view.url) {\r\n                    if (view.history.indexOf(stateUrl) >= 0) {\r\n                        // Go Back\r\n                        if (view.allowPageChange) {\r\n                            app.router.back(view, {url:undefined, animatePages: animatePages, pushState: false, preloadOnly:false});\r\n                        }\r\n                        else {\r\n                            app.pushStateQueue.push({\r\n                                action: 'back',\r\n                                view: view\r\n                            });\r\n                        }\r\n                    }\r\n                    else if (stateContent) {\r\n                        // Load Page\r\n                        if (view.allowPageChange) {\r\n                            app.router.load(view, {content:stateContent, animatePages: animatePages, pushState: false});\r\n                        }\r\n                        else {\r\n                            app.pushStateQueue.unshift({\r\n                                action: 'loadContent',\r\n                                stateContent: stateContent,\r\n                                view: view\r\n                            });\r\n                        }\r\n        \r\n                    }\r\n                    else if (statePageName) {\r\n                        // Load Page by page name with Dom Cache\r\n                        if (view.allowPageChange) {\r\n                            app.router.load(view, {pageName:statePageName, url: stateUrl, animatePages: animatePages, pushState: false});\r\n                        }\r\n                        else {\r\n                            app.pushStateQueue.unshift({\r\n                                action: 'loadPageName',\r\n                                statePageName: statePageName,\r\n                                view: view\r\n                            });\r\n                        }\r\n                    }\r\n                    else  {\r\n                        // Load Page\r\n                        if (view.allowPageChange) {\r\n                            app.router.load(view, {url:stateUrl, animatePages: animatePages, pushState: false});\r\n                        }\r\n                        else {\r\n                            app.pushStateQueue.unshift({\r\n                                action: 'loadPage',\r\n                                stateUrl: stateUrl,\r\n                                view: view\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            $(window).on('popstate', handlePopState);\r\n        };\r\n        \n\n        /*===========================\r\n        Framework7 Swiper Additions\r\n        ===========================*/\r\n        app.swiper = function (container, params) {\r\n            return new Swiper(container, params);\r\n        };\r\n        app.initPageSwiper = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var swipers = pageContainer.find('.swiper-init, .tabs-swipeable-wrap');\r\n            if (swipers.length === 0) return;\r\n            function destroySwiperOnRemove(slider) {\r\n                function destroySwiper() {\r\n                    slider.destroy();\r\n                    pageContainer.off('page:beforeremove', destroySwiper);\r\n                }\r\n                pageContainer.on('page:beforeremove', destroySwiper);\r\n            }\r\n            swipers.each(function () {\r\n                var swiper = $(this), initialSlide;\r\n                var params;\r\n                if (swiper.hasClass('tabs-swipeable-wrap')) {\r\n                    swiper.addClass('swiper-container').children('.tabs').addClass('swiper-wrapper').children('.tab').addClass('swiper-slide');\r\n                    initialSlide = swiper.children('.tabs').children('.tab.active').index();\r\n                }\r\n                if (swiper.data('swiper')) {\r\n                    params = JSON.parse(swiper.data('swiper'));\r\n                }\r\n                else {\r\n                    params = swiper.dataset();\r\n                }\r\n                if (typeof params.initialSlide === 'undefined' && typeof initialSlide !== 'undefined') {\r\n                    params.initialSlide = initialSlide;\r\n                }\r\n                if (swiper.hasClass('tabs-swipeable-wrap')) {\r\n                    params.onSlideChangeStart = function (s) {\r\n                        app.showTab(s.slides.eq(s.activeIndex));\r\n                    };\r\n                }\r\n                var _slider = app.swiper(swiper[0], params);\r\n                destroySwiperOnRemove(_slider);\r\n            });\r\n        };\r\n        app.reinitPageSwiper = function (pageContainer) {\r\n            pageContainer = $(pageContainer);\r\n            var sliders = pageContainer.find('.swiper-init, .tabs-swipeable-wrap');\r\n            if (sliders.length === 0) return;\r\n            for (var i = 0; i < sliders.length; i++) {\r\n                var sliderInstance = sliders[0].swiper;\r\n                if (sliderInstance) {\r\n                    sliderInstance.update(true);\r\n                }\r\n            }\r\n        };\r\n        \n\n        /*======================================================\r\n        ************   Photo Browser   ************\r\n        ======================================================*/\r\n        var PhotoBrowser = function (params) {\r\n            var pb = this, i;\r\n        \r\n            var defaults = {\r\n                photos : [],\r\n                initialSlide: 0,\r\n                spaceBetween: 20,\r\n                speed: 300,\r\n                zoom: true,\r\n                zoomMax: 3,\r\n                zoomMin: 1,\r\n                exposition: true,\r\n                expositionHideCaptions: false,\r\n                type: 'standalone',\r\n                navbar: true,\r\n                toolbar: true,\r\n                theme: 'light',\r\n                swipeToClose: true,\r\n                backLinkText: 'Close',\r\n                ofText: 'of',\r\n                loop: false,\r\n                lazyLoading: false,\r\n                lazyLoadingInPrevNext: false,\r\n                lazyLoadingOnTransitionStart: false,\r\n                material: app.params.material,\r\n                materialPreloaderSvg: app.params.materialPreloaderSvg,\r\n                materialPreloaderHtml: app.params.materialPreloaderHtml,\r\n                /*\r\n                Callbacks:\r\n                onLazyImageLoad(pb, slide, img)\r\n                onLazyImageReady(pb, slide, img)\r\n                onOpen(pb)\r\n                onClose(pb)\r\n                onTransitionStart(swiper)\r\n                onTransitionEnd(swiper)\r\n                onSlideChangeStart(swiper)\r\n                onSlideChangeEnd(swiper)\r\n                onTap(swiper, e)\r\n                onClick(swiper, e)\r\n                onDoubleTap(swiper, e)\r\n                onSwipeToClose(pb)\r\n                */\r\n            };\r\n        \r\n            params = params || {};\r\n            if (!params.backLinkText && app.params.material) defaults.backLinkText = '';\r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined') {\r\n                    params[def] = defaults[def];\r\n                }\r\n            }\r\n            if (params.maxZoom) {\r\n                params.zoomMax = params.maxZoom;\r\n            }\r\n            if (params.minZoom) {\r\n                params.zoomMin = params.minZoom;\r\n            }\r\n        \r\n            pb.params = params;\r\n            pb.params.iconsColorClass = pb.params.iconsColor ? 'color-' + pb.params.iconsColor : (pb.params.theme === 'dark' ? 'color-white' : '');\r\n            pb.params.preloaderColorClass = pb.params.theme === 'dark' ? 'preloader-white' : '';\r\n        \r\n            // Templates\r\n            var photoTemplate = pb.params.photoTemplate || \r\n                '<div class=\"photo-browser-slide swiper-slide\">' +\r\n                    '<span class=\"swiper-zoom-container\">' +\r\n                        '<img src=\"{{js \"this.url || this\"}}\">' +\r\n                    '</span>' +\r\n                '</div>';\r\n            var photoLazyTemplate = pb.params.lazyPhotoTemplate ||\r\n                '<div class=\"photo-browser-slide photo-browser-slide-lazy swiper-slide\">' +\r\n                    '<div class=\"preloader {{@root.preloaderColorClass}}\">{{#if @root.material}}{{@root.materialPreloaderHtml}}{{/if}}</div>' +\r\n                    '<span class=\"swiper-zoom-container\">' +\r\n                        '<img data-src=\"{{js \"this.url || this\"}}\" class=\"swiper-lazy\">' +\r\n                    '</span>' +\r\n                '</div>';\r\n            var objectTemplate = pb.params.objectTemplate ||\r\n                '<div class=\"photo-browser-slide photo-browser-object-slide swiper-slide\">{{js \"this.html || this\"}}</div>';\r\n            var captionTemplate = pb.params.captionTemplate ||\r\n                '<div class=\"photo-browser-caption\" data-caption-index=\"{{@index}}\">' +\r\n                    '{{caption}}' +\r\n                '</div>';\r\n            var navbarTemplate = pb.params.navbarTemplate ||\r\n                '<div class=\"navbar\">' +\r\n                    '<div class=\"navbar-inner\">' +\r\n                        '<div class=\"left sliding\">' +\r\n                            '<a href=\"#\" class=\"link ' + (params.type === 'popup' ? 'close-popup' : 'photo-browser-close-link')+ ' {{#unless backLinkText}}icon-only{{/unless}} {{js \"this.type === \\'page\\' ? \\'back\\' : \\'\\'\"}}\">' +\r\n                                '<i class=\"icon icon-back {{iconsColorClass}}\"></i>' +\r\n                                '{{#if backLinkText}}<span>{{backLinkText}}</span>{{/if}}' +\r\n                            '</a>' +\r\n                        '</div>' +\r\n                        '<div class=\"center sliding\">' +\r\n                            '<span class=\"photo-browser-current\"></span> ' +\r\n                            '<span class=\"photo-browser-of\">{{ofText}}</span> ' +\r\n                            '<span class=\"photo-browser-total\"></span>' +\r\n                        '</div>' +\r\n                        '<div class=\"right\"></div>' +\r\n                    '</div>' +\r\n                '</div>';\r\n            var toolbarTemplate = pb.params.toolbarTemplate ||\r\n                '<div class=\"toolbar tabbar\">' +\r\n                    '<div class=\"toolbar-inner\">' +\r\n                        '<a href=\"#\" class=\"link photo-browser-prev\">' +\r\n                            '<i class=\"icon icon-prev {{iconsColorClass}}\"></i>' +\r\n                        '</a>' +\r\n                        '<a href=\"#\" class=\"link photo-browser-next\">' +\r\n                            '<i class=\"icon icon-next {{iconsColorClass}}\"></i>' +\r\n                        '</a>' +\r\n                    '</div>' +\r\n                '</div>';\r\n        \r\n            var htmlTemplate = t7.compile('<div class=\"photo-browser photo-browser-{{theme}}\">' +\r\n                    '<div class=\"view navbar-fixed toolbar-fixed\">' +\r\n                        '{{#unless material}}{{#if navbar}}' +\r\n                        navbarTemplate +\r\n                        '{{/if}}{{/unless}}' +\r\n                        '<div class=\"page no-toolbar {{#unless navbar}}no-navbar{{/unless}} toolbar-fixed navbar-fixed\" data-page=\"photo-browser-slides\">' +\r\n                            '{{#if material}}{{#if navbar}}' +\r\n                            navbarTemplate +\r\n                            '{{/if}}{{/if}}' +\r\n                            '{{#if toolbar}}' +\r\n                            toolbarTemplate +\r\n                            '{{/if}}' +\r\n                            '<div class=\"photo-browser-captions photo-browser-captions-{{js \"this.captionsTheme || this.theme\"}}\">' +\r\n                                '{{#each photos}}{{#if caption}}' +\r\n                                captionTemplate +\r\n                                '{{/if}}{{/each}}' +\r\n                            '</div>' +\r\n                            '<div class=\"photo-browser-swiper-container swiper-container\">' +\r\n                                '<div class=\"photo-browser-swiper-wrapper swiper-wrapper\">' +\r\n                                    '{{#each photos}}' +\r\n                                    '{{#js_compare \"this.html || ((typeof this === \\'string\\' || this instanceof String) && (this.indexOf(\\'<\\') >= 0 || this.indexOf(\\'>\\') >= 0))\"}}' +\r\n                                        objectTemplate +\r\n                                    '{{else}}' +\r\n                                        '{{#if @root.lazyLoading}}' +\r\n                                        photoLazyTemplate +\r\n                                        '{{else}}' +\r\n                                        photoTemplate +\r\n                                        '{{/if}}' +\r\n                                    '{{/js_compare}}' +\r\n                                    '{{/each}}' +\r\n                                '</div>' +\r\n                            '</div>' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                '</div>')(pb.params);\r\n        \r\n            pb.activeIndex = pb.params.initialSlide;\r\n            pb.openIndex = pb.activeIndex;\r\n            pb.opened = false;\r\n        \r\n            pb.open = function (index) {\r\n                if (typeof index === 'undefined') index = pb.activeIndex;\r\n                index = parseInt(index, 10);\r\n                if (pb.opened && pb.swiper) {\r\n                    pb.swiper.slideTo(index);\r\n                    return;\r\n                }\r\n                pb.opened = true;\r\n                pb.openIndex = index;\r\n                if (pb.params.type === 'standalone') {\r\n                    app.root.append(htmlTemplate);\r\n                }\r\n                if (pb.params.type === 'popup') {\r\n                    pb.popup = app.popup('<div class=\"popup photo-browser-popup\">' + htmlTemplate + '</div>');\r\n                    $(pb.popup).on('popup:closed', pb.onPopupClose);\r\n                }\r\n                if (pb.params.type === 'page') {\r\n                    $(document).on('page:beforeinit', pb.onPageBeforeInit);\r\n                    $(document).on('page:beforeremove', pb.onPageBeforeRemove);\r\n                    if (!pb.params.view) pb.params.view = app.mainView;\r\n                    pb.params.view.loadContent(htmlTemplate);\r\n                    return;\r\n                }\r\n                pb.layout(pb.openIndex);\r\n                if (pb.params.onOpen) {\r\n                    pb.params.onOpen(pb);\r\n                }\r\n        \r\n            };\r\n            pb.close = function () {\r\n                pb.opened = false;\r\n                if (!pb.swiperContainer || pb.swiperContainer.length === 0) {\r\n                    return;\r\n                }\r\n                if (pb.params.onClose) {\r\n                    pb.params.onClose(pb);\r\n                }\r\n                // Detach events\r\n                pb.attachEvents(true);\r\n                // Delete from DOM\r\n                if (pb.params.type === 'standalone') {\r\n                    pb.container.removeClass('photo-browser-in').addClass('photo-browser-out').animationEnd(function () {\r\n                        pb.container.remove();\r\n                    });\r\n                }\r\n                // Destroy slider\r\n                pb.swiper.destroy();\r\n                // Delete references\r\n                pb.swiper = pb.swiperContainer = pb.swiperWrapper = pb.slides = undefined; //gestureSlide = gestureImg = gestureImgWrap = undefined;\r\n            };\r\n        \r\n            pb.onPopupClose = function (e) {\r\n                pb.close();\r\n                $(pb.popup).off('page:beforeinit', pb.onPopupClose);\r\n            };\r\n            pb.onPageBeforeInit = function (e) {\r\n                if (e.detail.page.name === 'photo-browser-slides') {\r\n                    pb.layout(pb.openIndex);\r\n                }\r\n                $(document).off('page:beforeinit', pb.onPageBeforeInit);\r\n            };\r\n            pb.onPageBeforeRemove = function (e) {\r\n                if (e.detail.page.name === 'photo-browser-slides') {\r\n                    pb.close();\r\n                }\r\n                $(document).off('page:beforeremove', pb.onPageBeforeRemove);\r\n            };\r\n        \r\n            pb.onSliderTransitionStart = function (swiper) {\r\n                pb.activeIndex = swiper.activeIndex;\r\n        \r\n                var current = swiper.activeIndex + 1;\r\n                var total = swiper.slides.length;\r\n                if (pb.params.loop) {\r\n                    total = total - 2;\r\n                    current = current - swiper.loopedSlides;\r\n                    if (current < 1) current = total + current;\r\n                    if (current > total) current = current - total;\r\n                }\r\n                pb.container.find('.photo-browser-current').text(current);\r\n                pb.container.find('.photo-browser-total').text(total);\r\n        \r\n                $('.photo-browser-prev, .photo-browser-next').removeClass('photo-browser-link-inactive');\r\n        \r\n                if (swiper.isBeginning && !pb.params.loop) {\r\n                    $('.photo-browser-prev').addClass('photo-browser-link-inactive');\r\n                }\r\n                if (swiper.isEnd && !pb.params.loop) {\r\n                    $('.photo-browser-next').addClass('photo-browser-link-inactive');\r\n                }\r\n        \r\n                // Update captions\r\n                if (pb.captions.length > 0) {\r\n                    pb.captionsContainer.find('.photo-browser-caption-active').removeClass('photo-browser-caption-active');\r\n                    var captionIndex = pb.params.loop ? swiper.slides.eq(swiper.activeIndex).attr('data-swiper-slide-index') : pb.activeIndex;\r\n                    pb.captionsContainer.find('[data-caption-index=\"' + captionIndex + '\"]').addClass('photo-browser-caption-active');\r\n                }\r\n        \r\n        \r\n                // Stop Video\r\n                var previousSlideVideo = swiper.slides.eq(swiper.previousIndex).find('video');\r\n                if (previousSlideVideo.length > 0) {\r\n                    if ('pause' in previousSlideVideo[0]) previousSlideVideo[0].pause();\r\n                }\r\n                // Callback\r\n                if (pb.params.onTransitionStart) pb.params.onTransitionStart(swiper);\r\n            };\r\n            pb.onSliderTransitionEnd = function (swiper) {\r\n                if (pb.params.onTransitionEnd) pb.params.onTransitionEnd(swiper);\r\n            };\r\n        \r\n            pb.layout = function (index) {\r\n                if (pb.params.type === 'page') {\r\n                    pb.container = $('.photo-browser-swiper-container').parents('.view');\r\n                }\r\n                else {\r\n                    pb.container = $('.photo-browser');\r\n                }\r\n                if (pb.params.type === 'standalone') {\r\n                    pb.container.addClass('photo-browser-in');\r\n                    app.sizeNavbars(pb.container);\r\n                }\r\n                pb.swiperContainer = pb.container.find('.photo-browser-swiper-container');\r\n                pb.swiperWrapper = pb.container.find('.photo-browser-swiper-wrapper');\r\n                pb.slides = pb.container.find('.photo-browser-slide');\r\n                pb.captionsContainer = pb.container.find('.photo-browser-captions');\r\n                pb.captions = pb.container.find('.photo-browser-caption');\r\n        \r\n                var sliderSettings = {\r\n                    nextButton: pb.params.nextButton || '.photo-browser-next',\r\n                    prevButton: pb.params.prevButton || '.photo-browser-prev',\r\n                    indexButton: pb.params.indexButton,\r\n                    initialSlide: index,\r\n                    spaceBetween: pb.params.spaceBetween,\r\n                    speed: pb.params.speed,\r\n                    loop: pb.params.loop,\r\n                    lazyLoading: pb.params.lazyLoading,\r\n                    lazyLoadingInPrevNext: pb.params.lazyLoadingInPrevNext,\r\n                    lazyLoadingOnTransitionStart: pb.params.lazyLoadingOnTransitionStart,\r\n                    preloadImages: pb.params.lazyLoading ? false : true,\r\n                    zoom: pb.params.zoom,\r\n                    zoomMax: pb.params.zoomMax,\r\n                    zoomMin: pb.params.zoomMin,\r\n                    onTap: function (swiper, e) {\r\n                        if (pb.params.onTap) pb.params.onTap(swiper, e);\r\n                    },\r\n                    onClick: function (swiper, e) {\r\n                        if (pb.params.exposition) pb.toggleExposition();\r\n                        if (pb.params.onClick) pb.params.onClick(swiper, e);\r\n                    },\r\n                    onDoubleTap: function (swiper, e) {\r\n                        // pb.toggleZoom(e);\r\n                        if (pb.params.onDoubleTap) pb.params.onDoubleTap(swiper, e);\r\n                    },\r\n                    onTransitionStart: function (swiper) {\r\n                        pb.onSliderTransitionStart(swiper);\r\n                    },\r\n                    onTransitionEnd: function (swiper) {\r\n                        pb.onSliderTransitionEnd(swiper);\r\n                    },\r\n                    onSlideChangeStart: pb.params.onSlideChangeStart,\r\n                    onSlideChangeEnd: pb.params.onSlideChangeEnd,\r\n                    onLazyImageLoad: function (swiper, slide, img) {\r\n                        if (pb.params.onLazyImageLoad) pb.params.onLazyImageLoad(pb, slide, img);\r\n                    },\r\n                    onLazyImageReady: function (swiper, slide, img) {\r\n                        $(slide).removeClass('photo-browser-slide-lazy');\r\n                        if (pb.params.onLazyImageReady) pb.params.onLazyImageReady(pb, slide, img);\r\n                    }\r\n                };\r\n        \r\n                if (pb.params.swipeToClose && pb.params.type !== 'page') {\r\n                    sliderSettings.onTouchStart = pb.swipeCloseTouchStart;\r\n                    sliderSettings.onTouchMoveOpposite = pb.swipeCloseTouchMove;\r\n                    sliderSettings.onTouchEnd = pb.swipeCloseTouchEnd;\r\n                }\r\n        \r\n                pb.swiper = app.swiper(pb.swiperContainer, sliderSettings);\r\n                if (index === 0) {\r\n                    pb.onSliderTransitionStart(pb.swiper);\r\n                }\r\n                pb.attachEvents();\r\n            };\r\n            pb.attachEvents = function (detach) {\r\n                var action = detach ? 'off' : 'on';\r\n                pb.container.find('.photo-browser-close-link')[action]('click', pb.close);\r\n            };\r\n        \r\n        \r\n            // Expose\r\n            pb.exposed = false;\r\n            pb.toggleExposition = function () {\r\n                if (pb.container) pb.container.toggleClass('photo-browser-exposed');\r\n                if (pb.params.expositionHideCaptions) pb.captionsContainer.toggleClass('photo-browser-captions-exposed');\r\n                pb.exposed = !pb.exposed;\r\n            };\r\n            pb.enableExposition = function () {\r\n                if (pb.container) pb.container.addClass('photo-browser-exposed');\r\n                if (pb.params.expositionHideCaptions) pb.captionsContainer.addClass('photo-browser-captions-exposed');\r\n                pb.exposed = true;\r\n            };\r\n            pb.disableExposition = function () {\r\n                if (pb.container) pb.container.removeClass('photo-browser-exposed');\r\n                if (pb.params.expositionHideCaptions) pb.captionsContainer.removeClass('photo-browser-captions-exposed');\r\n                pb.exposed = false;\r\n            };\r\n        \r\n            // Swipe Up To Close\r\n            var swipeToCloseIsTouched = false;\r\n            var allowSwipeToClose = true;\r\n            var swipeToCloseDiff, swipeToCloseStart, swipeToCloseCurrent, swipeToCloseStarted = false, swipeToCloseActiveSlide, swipeToCloseTimeStart;\r\n            pb.swipeCloseTouchStart = function (swiper, e) {\r\n                if (!allowSwipeToClose) return;\r\n                swipeToCloseIsTouched = true;\r\n            };\r\n            pb.swipeCloseTouchMove = function (swiper, e) {\r\n                if (!swipeToCloseIsTouched) return;\r\n                if (!swipeToCloseStarted) {\r\n                    swipeToCloseStarted = true;\r\n                    swipeToCloseStart = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n                    swipeToCloseActiveSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\r\n                    swipeToCloseTimeStart = (new Date()).getTime();\r\n                }\r\n                e.preventDefault();\r\n                swipeToCloseCurrent = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n                swipeToCloseDiff = swipeToCloseStart - swipeToCloseCurrent;\r\n                var opacity = 1 - Math.abs(swipeToCloseDiff) / 300;\r\n                swipeToCloseActiveSlide.transform('translate3d(0,' + (-swipeToCloseDiff) + 'px,0)');\r\n                pb.swiper.container.css('opacity', opacity).transition(0);\r\n            };\r\n            pb.swipeCloseTouchEnd = function (swiper, e) {\r\n                swipeToCloseIsTouched = false;\r\n                if (!swipeToCloseStarted) {\r\n                    swipeToCloseStarted = false;\r\n                    return;\r\n                }\r\n                swipeToCloseStarted = false;\r\n                allowSwipeToClose = false;\r\n                var diff = Math.abs(swipeToCloseDiff);\r\n                var timeDiff = (new Date()).getTime() - swipeToCloseTimeStart;\r\n                if ((timeDiff < 300 && diff > 20) || (timeDiff >= 300 && diff > 100)) {\r\n                    setTimeout(function () {\r\n                        if (pb.params.type === 'standalone') {\r\n                            pb.close();\r\n                        }\r\n                        if (pb.params.type === 'popup') {\r\n                            app.closeModal(pb.popup);\r\n                        }\r\n                        if (pb.params.onSwipeToClose) {\r\n                            pb.params.onSwipeToClose(pb);\r\n                        }\r\n                        allowSwipeToClose = true;\r\n                    }, 0);\r\n                    return;\r\n                }\r\n                if (diff !== 0) {\r\n                    swipeToCloseActiveSlide.addClass('transitioning').transitionEnd(function () {\r\n                        allowSwipeToClose = true;\r\n                        swipeToCloseActiveSlide.removeClass('transitioning');\r\n                    });\r\n                }\r\n                else {\r\n                    allowSwipeToClose = true;\r\n                }\r\n                pb.swiper.container.css('opacity', '').transition('');\r\n                swipeToCloseActiveSlide.transform('');\r\n            };\r\n        \r\n            return pb;\r\n        };\r\n        \r\n        app.photoBrowser = function (params) {\r\n            return new PhotoBrowser(params);\r\n        };\r\n        \n\n        /*===============================================================================\r\n        ************   Autocomplete   ************\r\n        ===============================================================================*/\r\n        var Autocomplete = function (params) {\r\n            var a = this;\r\n        \r\n            // Params\r\n            var defaults = {\r\n                // Standalone Options\r\n                /*\r\n                opener: undefined,\r\n                */\r\n                popupCloseText: 'Close',\r\n                backText: 'Back',\r\n                searchbarPlaceholderText: 'Search...',\r\n                searchbarCancelText: 'Cancel',\r\n                openIn: 'page',\r\n                backOnSelect: false,\r\n                notFoundText: 'Nothing found',\r\n                /*\r\n                pageTitle: undefined,\r\n                */\r\n        \r\n                // Handle Data\r\n                /*\r\n                source: undefined,\r\n                limit: undefined,\r\n                */\r\n                valueProperty: 'id',\r\n                textProperty: 'text',\r\n        \r\n                // Dropdown Options\r\n                highlightMatches: false,\r\n                /*\r\n                dropdownPlaceholderText: 'Type anything...',\r\n                */\r\n                updateInputValueOnSelect: true,\r\n                expandInput: false,\r\n        \r\n                // Preloader\r\n                preloaderColor: false,\r\n                preloader: false,\r\n        \r\n                // Templates\r\n                /*\r\n                itemTemplate: undefined,\r\n                navbarTemplate: undefined,\r\n                dropdownTemplate: undefined\r\n                dropdownItemTemplate: undefined,\r\n                dropdownPlaceholderTemplate: undefined\r\n                */\r\n        \r\n                // Color themes\r\n                /*\r\n                navbarTheme: undefined,\r\n                formTheme: undefined,\r\n                */\r\n        \r\n                // Callbacks\r\n                /*\r\n                onChange: function (a, value) - for not dropdown\r\n                onOpen: function (a)\r\n                onClose: function (a)\r\n                */\r\n            };\r\n        \r\n            params = params || {};\r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined') {\r\n                    params[def] = defaults[def];\r\n                }\r\n            }\r\n            a.params = params;\r\n        \r\n            // Opener Link & View\r\n            if (a.params.opener) {\r\n                a.opener = $(a.params.opener);\r\n            }\r\n            var view = a.params.view;\r\n            if (!a.params.view && a.opener && a.opener.length) {\r\n                // Find related view\r\n                view = a.opener.parents('.' + app.params.viewClass);\r\n                if (view.length === 0) return;\r\n                view = view[0].f7View;\r\n            }\r\n        \r\n            // Input\r\n            if (a.params.input) {\r\n                a.input = $(a.params.input);\r\n                if (a.input.length === 0 && a.params.openIn === 'dropdown') return;\r\n            }\r\n        \r\n            // Array with selected items\r\n            a.value = a.params.value || [];\r\n        \r\n            // ID & Inputs\r\n            a.id = (new Date()).getTime();\r\n            a.inputType = a.params.multiple ? 'checkbox' : 'radio';\r\n            a.inputName = a.inputType + '-' + a.id;\r\n        \r\n            // Is Material\r\n            var material = app.params.material;\r\n        \r\n            // Back On Select\r\n            var backOnSelect = a.params.backOnSelect;\r\n        \r\n            if (a.params.openIn !== 'dropdown') {\r\n                // Item Template\r\n                a.itemTemplate = t7.compile(a.params.itemTemplate ||\r\n                    '<li>' +\r\n                        '<label class=\"label-{{inputType}} item-content\">' +\r\n                            '<input type=\"{{inputType}}\" name=\"{{inputName}}\" value=\"{{value}}\" {{#if selected}}checked{{/if}}>' +\r\n                            '{{#if material}}' +\r\n                                '<div class=\"item-media\">' +\r\n                                    '<i class=\"icon icon-form-{{inputType}}\"></i>' +\r\n                                '</div>' +\r\n                                '<div class=\"item-inner\">' +\r\n                                    '<div class=\"item-title\">{{text}}</div>' +\r\n                                '</div>' +\r\n                            '{{else}}' +\r\n                                '{{#if checkbox}}' +\r\n                                '<div class=\"item-media\">' +\r\n                                    '<i class=\"icon icon-form-checkbox\"></i>' +\r\n                                '</div>' +\r\n                                '{{/if}}' +\r\n                                '<div class=\"item-inner\">' +\r\n                                    '<div class=\"item-title\">{{text}}</div>' +\r\n                                '</div>' +\r\n                            '{{/if}}' +\r\n                        '</label>' +\r\n                    '</li>'\r\n                );\r\n                // Page Layout\r\n                var pageTitle = a.params.pageTitle || '';\r\n                if (!pageTitle && a.opener && a.opener.length) {\r\n                    pageTitle = a.opener.find('.item-title').text();\r\n                }\r\n                var pageName = 'autocomplete-' + a.inputName;\r\n        \r\n                var navbarTheme = a.params.navbarTheme,\r\n                    formTheme = a.params.formTheme;\r\n        \r\n                // Navbar HTML\r\n                var navbarHTML;\r\n                var noNavbar = '', noToolbar = '', navbarLayout;\r\n        \r\n                a.navbarTemplate = t7.compile(a.params.navbarTemplate ||\r\n                    '<div class=\"navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}\">' +\r\n                        '<div class=\"navbar-inner\">' +\r\n                            '<div class=\"left sliding\">' +\r\n                                '{{#if material}}' +\r\n                                '<a href=\"#\" class=\"link {{#if inPopup}}close-popup{{else}}back{{/if}} icon-only\"><i class=\"icon icon-back\"></i></a>' +\r\n                                '{{else}}' +\r\n                                '<a href=\"#\" class=\"link {{#if inPopup}}close-popup{{else}}back{{/if}}\">' +\r\n                                    '<i class=\"icon icon-back\"></i>' +\r\n                                    '{{#if inPopup}}' +\r\n                                    '<span>{{popupCloseText}}</span>' +\r\n                                    '{{else}}' +\r\n                                    '<span>{{backText}}</span>' +\r\n                                    '{{/if}}' +\r\n                                '</a>' +\r\n                                '{{/if}}' +\r\n                            '</div>' +\r\n                            '<div class=\"center sliding\">{{pageTitle}}</div>' +\r\n                            '{{#if preloader}}' +\r\n                            '<div class=\"right\">' +\r\n                                '<div class=\"autocomplete-preloader preloader {{#if preloaderColor}}preloader-{{preloaderColor}}{{/if}}\"></div>' +\r\n                            '</div>' +\r\n                            '{{/if}}' +\r\n                        '</div>' +\r\n                    '</div>'\r\n                );\r\n                navbarHTML = a.navbarTemplate({\r\n                    pageTitle: pageTitle,\r\n                    backText: a.params.backText,\r\n                    popupCloseText: a.params.popupCloseText,\r\n                    openIn: a.params.openIn,\r\n                    navbarTheme: navbarTheme,\r\n                    inPopup: a.params.openIn === 'popup',\r\n                    inPage: a.params.openIn === 'page',\r\n                    material: material,\r\n                    preloader: a.params.preloader,\r\n                    preloaderColor: a.params.preloaderColor,\r\n                });\r\n        \r\n                // Determine navbar layout type - static/fixed/through\r\n                if (a.params.openIn === 'page') {\r\n                    navbarLayout = 'static';\r\n                    if (a.opener) {\r\n                        if (a.opener.parents('.navbar-through').length > 0) navbarLayout = 'through';\r\n                        if (a.opener.parents('.navbar-fixed').length > 0) navbarLayout = 'fixed';\r\n                        noToolbar = a.opener.parents('.page').hasClass('no-toolbar') ? 'no-toolbar' : '';\r\n                        noNavbar  = a.opener.parents('.page').hasClass('no-navbar')  ? 'no-navbar'  : 'navbar-' + navbarLayout;\r\n                    }\r\n                    else if (view.container) {\r\n                        if ($(view.container).hasClass('navbar-through') || $(view.container).find('.navbar-through').length > 0) navbarLayout = 'through';\r\n                        if ($(view.container).hasClass('navbar-fixed') || $(view.container).find('.navbar-fixed').length > 0) navbarLayout = 'fixed';\r\n                        noToolbar = $(view.activePage.container).hasClass('no-toolbar') ? 'no-toolbar' : '';\r\n                        noNavbar  = $(view.activePage.container).hasClass('no-navbar')  ? 'no-navbar'  : 'navbar-' + navbarLayout;\r\n                    }\r\n                }\r\n                else {\r\n                    navbarLayout = 'fixed';\r\n                }\r\n                var searchbarHTML =\r\n                    '<form class=\"searchbar\">' +\r\n                        '<div class=\"searchbar-input\">' +\r\n                            '<input type=\"search\" placeholder=\"' + a.params.searchbarPlaceholderText + '\">' +\r\n                            '<a href=\"#\" class=\"searchbar-clear\"></a>' +\r\n                        '</div>' +\r\n                        (material ? '' : '<a href=\"#\" class=\"searchbar-cancel\">' + a.params.searchbarCancelText + '</a>') +\r\n                    '</form>' +\r\n                    '<div class=\"searchbar-overlay\"></div>';\r\n                var pageHTML =\r\n                    (navbarLayout === 'through' ? navbarHTML : '') +\r\n                    '<div class=\"pages\">' +\r\n                        '<div data-page=\"' + pageName + '\" class=\"page autocomplete-page ' + noNavbar + ' ' + noToolbar + '\">' +\r\n                            (navbarLayout === 'fixed' ? navbarHTML : '') +\r\n                            searchbarHTML +\r\n                            '<div class=\"page-content\">' +\r\n                                (navbarLayout === 'static' ? navbarHTML : '') +\r\n                                '<div class=\"list-block autocomplete-found autocomplete-list-' + a.id + ' ' + (formTheme ? 'theme-' + formTheme : '') + '\">' +\r\n                                    '<ul></ul>' +\r\n                                '</div>' +\r\n                                '<div class=\"list-block autocomplete-not-found\">' +\r\n                                    '<ul><li class=\"item-content\"><div class=\"item-inner\"><div class=\"item-title\">' + a.params.notFoundText + '</div></div></li></ul>' +\r\n                                '</div>' +\r\n                                '<div class=\"list-block autocomplete-values\">' +\r\n                                    '<ul></ul>' +\r\n                                '</div>' +\r\n                            '</div>' +\r\n                        '</div>' +\r\n                    '</div>';\r\n            }\r\n            else {\r\n                a.dropdownItemTemplate = t7.compile(a.params.dropdownItemTemplate ||\r\n                    '<li>' +\r\n                        '<label class=\"{{#unless placeholder}}label-radio{{/unless}} item-content\" data-value=\"{{value}}\">' +\r\n                            '<div class=\"item-inner\">' +\r\n                                '<div class=\"item-title\">{{text}}</div>' +\r\n                            '</div>' +\r\n                        '</label>' +\r\n                    '</li>'\r\n                );\r\n                a.dropdownPlaceholderTemplate = t7.compile(a.params.dropdownPlaceholderTemplate ||\r\n                    '<li class=\"autocomplete-dropdown-placeholder\">' +\r\n                        '<div class=\"item-content\">' +\r\n                            '<div class=\"item-inner\">' +\r\n                                '<div class=\"item-title\">{{text}}</div>' +\r\n                            '</div>' +\r\n                        '</label>' +\r\n                    '</li>'\r\n                );\r\n                a.dropdownTemplate = t7.compile(a.params.dropdownTemplate ||\r\n                    '<div class=\"autocomplete-dropdown\">' +\r\n                        '<div class=\"autocomplete-dropdown-inner\">' +\r\n                            '<div class=\"list-block\">' +\r\n                                '<ul></ul>' +\r\n                            '</div>' +\r\n                        '</div>' +\r\n                        '{{#if preloader}}' +\r\n                        '<div class=\"autocomplete-preloader preloader {{#if preloaderColor}}preloader-{{preloaderColor}}{{/if}}\">{{#if material}}{{materialPreloaderHtml}}{{/if}}</div>' +\r\n                        '{{/if}}' +\r\n                    '</div>'\r\n                );\r\n            }\r\n        \r\n            // Define popup\r\n            a.popup = undefined;\r\n        \r\n            // Define Dropdown\r\n            a.dropdown = undefined;\r\n        \r\n            // Handle Input Value Change\r\n            function handleInputValue (e) {\r\n                var query = a.input.val();\r\n                if (a.params.source) {\r\n                    a.params.source(a, query, function (items) {\r\n                        var itemsHTML = '';\r\n                        var limit = a.params.limit ? Math.min(a.params.limit, items.length) : items.length;\r\n                        a.items = items;\r\n                        var i, j;\r\n                        var regExp = new RegExp('('+query+')', 'i');\r\n        \r\n                        for (i = 0; i < limit; i++) {\r\n                            var itemValue = typeof items[i] === 'object' ? items[i][a.params.valueProperty] : items[i];\r\n                            var itemText = typeof items[i] !== 'object' ? items[i] : items[i][a.params.textProperty];\r\n                            itemsHTML += a.dropdownItemTemplate({\r\n                                value: itemValue,\r\n                                text: a.params.highlightMatches ? itemText.replace(regExp, '<b>$1</b>') : itemText\r\n                            });\r\n                        }\r\n                        if (itemsHTML === '' && query === '' && a.params.dropdownPlaceholderText) {\r\n                            itemsHTML += a.dropdownPlaceholderTemplate({\r\n                                text: a.params.dropdownPlaceholderText,\r\n                            });\r\n                        }\r\n                        a.dropdown.find('ul').html(itemsHTML);\r\n                    });\r\n                }\r\n            }\r\n            // Handle Drop Down Click\r\n            function handleDropdownClick (e) {\r\n                /*jshint validthis:true */\r\n                var clicked = $(this);\r\n                var clickedItem;\r\n                for (var i = 0; i < a.items.length; i++) {\r\n                    var itemValue = typeof a.items[i] === 'object' ? a.items[i][a.params.valueProperty] : a.items[i];\r\n                    var value = clicked.attr('data-value');\r\n                    if (itemValue === value || itemValue * 1 === value * 1) {\r\n                        clickedItem = a.items[i];\r\n                    }\r\n                }\r\n                if (a.params.updateInputValueOnSelect) {\r\n                    a.input.val(typeof clickedItem === 'object' ? clickedItem[a.params.textProperty] : clickedItem);\r\n                    a.input.trigger('input change');\r\n                }\r\n        \r\n                if (a.params.onChange) {\r\n                    a.params.onChange(a, clickedItem);\r\n                }\r\n        \r\n                a.close();\r\n            }\r\n        \r\n            // Handle HTML Click to close Dropdown\r\n            function closeOnHTMLClick (e) {\r\n                var target = $(e.target);\r\n                if (!(target.is(a.input[0]) || a.dropdown && target.parents(a.dropdown[0]).length > 0)) {\r\n                    a.close();\r\n                }\r\n            }\r\n        \r\n            a.positionDropDown = function () {\r\n                var listBlock = a.input.parents('.list-block'),\r\n                    pageContent = a.input.parents('.page-content'),\r\n                    paddingTop = parseInt(pageContent.css('padding-top'), 10),\r\n                    paddingBottom = parseInt(pageContent.css('padding-top'), 10),\r\n                    // inputOffset = a.input.offset(),\r\n                    listBlockOffsetLeft = listBlock.length > 0 ? listBlock.offset().left - listBlock.parent().offset().left : 0,\r\n                    inputOffsetLeft = a.input.offset().left - (listBlock.length > 0 ? listBlock.offset().left : 0),\r\n                    inputOffsetTop = a.input.offset().top - (pageContent.offset().top - pageContent[0].scrollTop),\r\n                    maxHeight = pageContent[0].scrollHeight - paddingBottom - (inputOffsetTop + pageContent[0].scrollTop) - a.input[0].offsetHeight;\r\n        \r\n                a.dropdown.css({\r\n                    left: (listBlock.length > 0 ? listBlockOffsetLeft : inputOffsetLeft) + 'px',\r\n                    top: inputOffsetTop + pageContent[0].scrollTop + a.input[0].offsetHeight + 'px',\r\n                    width: (listBlock.length > 0 ? listBlock[0].offsetWidth : a.input[0].offsetWidth) + 'px'\r\n                });\r\n                a.dropdown.children('.autocomplete-dropdown-inner').css({\r\n                    maxHeight: maxHeight + 'px',\r\n                    paddingLeft: listBlock.length > 0 && !a.params.expandInput ? inputOffsetLeft - (material ? 16 : 15) + 'px' : ''\r\n                });\r\n            };\r\n        \r\n            // Event Listeners on new page\r\n            a.pageInit = function (e) {\r\n                var page = e.detail.page;\r\n                a.page = $(page.container);\r\n                a.pageData = page;\r\n                if (page.name !== pageName) {\r\n                    return;\r\n                }\r\n                var container = $(page.container);\r\n                // Init Search Bar\r\n                var searchbar = app.searchbar(container.find('.searchbar'), {\r\n                    customSearch: true,\r\n                    onSearch: function (searchbar, data) {\r\n                        if (data.query.length === 0 && searchbar.active) {\r\n                            searchbar.overlay.addClass('searchbar-overlay-active');\r\n                        }\r\n                        else {\r\n                            searchbar.overlay.removeClass('searchbar-overlay-active');\r\n                        }\r\n        \r\n                        var i, j, k;\r\n        \r\n                        if (a.params.source) {\r\n                            a.params.source(a, data.query, function(items) {\r\n                                var itemsHTML = '';\r\n                                var limit = a.params.limit ? Math.min(a.params.limit, items.length) : items.length;\r\n                                a.items = items;\r\n                                for (i = 0; i < limit; i++) {\r\n                                    var selected = false;\r\n                                    var itemValue = typeof items[i] === 'object' ? items[i][a.params.valueProperty] : items[i];\r\n                                    for (j = 0; j < a.value.length; j++) {\r\n                                        var aValue = typeof a.value[j] === 'object' ? a.value[j][a.params.valueProperty] : a.value[j];\r\n                                        if (aValue === itemValue || aValue * 1 === itemValue * 1) selected = true;\r\n                                    }\r\n                                    itemsHTML += a.itemTemplate({\r\n                                        value: itemValue,\r\n                                        text: typeof items[i] !== 'object' ? items[i] : items[i][a.params.textProperty],\r\n                                        inputType: a.inputType,\r\n                                        id: a.id,\r\n                                        inputName: a.inputName,\r\n                                        selected: selected,\r\n                                        checkbox: a.inputType === 'checkbox',\r\n                                        material: material\r\n                                    });\r\n                                }\r\n                                container.find('.autocomplete-found ul').html(itemsHTML);\r\n                                if (items.length === 0) {\r\n                                    if (data.query.length !== 0) {\r\n                                        container.find('.autocomplete-not-found').show();\r\n                                        container.find('.autocomplete-found, .autocomplete-values').hide();\r\n                                    }\r\n                                    else {\r\n                                        container.find('.autocomplete-values').show();\r\n                                        container.find('.autocomplete-found, .autocomplete-not-found').hide();\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    container.find('.autocomplete-found').show();\r\n                                    container.find('.autocomplete-not-found, .autocomplete-values').hide();\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n        \r\n                // Save searchbar instance\r\n                a.searchbar = searchbar;\r\n        \r\n                // Update values\r\n                function updateValues() {\r\n                    var valuesHTML = '';\r\n                    var i;\r\n                    for (i = 0; i < a.value.length; i++) {\r\n        \r\n                        valuesHTML += a.itemTemplate({\r\n                            value: typeof a.value[i] === 'object' ? a.value[i][a.params.valueProperty] : a.value[i],\r\n                            text: typeof a.value[i] === 'object' ? a.value[i][a.params.textProperty]: a.value[i],\r\n                            inputType: a.inputType,\r\n                            id: a.id,\r\n                            inputName: a.inputName + '-checked',\r\n                            checkbox: a.inputType === 'checkbox',\r\n                            material: material,\r\n                            selected: true\r\n                        });\r\n                    }\r\n                    container.find('.autocomplete-values ul').html(valuesHTML);\r\n                }\r\n        \r\n                // Handle Inputs\r\n                container.on('change', 'input[type=\"radio\"], input[type=\"checkbox\"]', function () {\r\n                    var i;\r\n                    var input = this;\r\n                    var value = input.value;\r\n                    var text = $(input).parents('li').find('.item-title').text();\r\n                    var isValues = $(input).parents('.autocomplete-values').length > 0;\r\n                    var item, itemValue, aValue;\r\n                    if (isValues) {\r\n                        if (a.inputType === 'checkbox' && !input.checked) {\r\n                            for (i = 0; i < a.value.length; i++) {\r\n                                aValue = typeof a.value[i] === 'string' ? a.value[i] : a.value[i][a.params.valueProperty];\r\n                                if (aValue === value || aValue * 1 === value * 1) {\r\n                                    a.value.splice(i, 1);\r\n                                }\r\n                            }\r\n                            updateValues();\r\n                            if (a.params.onChange) a.params.onChange(a, a.value);\r\n                        }\r\n                        return;\r\n                    }\r\n        \r\n                    // Find Related Item\r\n                    for (i = 0; i < a.items.length; i++) {\r\n                        itemValue = typeof a.items[i] === 'string' ? a.items[i] : a.items[i][a.params.valueProperty];\r\n                        if (itemValue === value || itemValue * 1 === value * 1) item = a.items[i];\r\n                    }\r\n                    // Update Selected Value\r\n                    if (a.inputType === 'radio') {\r\n                        a.value = [item];\r\n                    }\r\n                    else {\r\n                        if (input.checked) {\r\n                            a.value.push(item);\r\n                        }\r\n                        else {\r\n                            for (i = 0; i < a.value.length; i++) {\r\n                                aValue = typeof a.value[i] === 'string' ? a.value[i] : a.value[i][a.params.valueProperty];\r\n                                if (aValue === value || aValue * 1 === value * 1) {\r\n                                    a.value.splice(i, 1);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n        \r\n                    // Update Values Block\r\n                    updateValues();\r\n        \r\n                    // On Select Callback\r\n                    if ((a.inputType === 'radio' && input.checked || a.inputType === 'checkbox') && a.params.onChange ) {\r\n                        a.params.onChange(a, a.value);\r\n                    }\r\n                    if (backOnSelect && a.inputType === 'radio') {\r\n                        if (a.params.openIn === 'popup') app.closeModal(a.popup);\r\n                        else view.router.back();\r\n                    }\r\n                });\r\n        \r\n                // Update Values On Page Init\r\n                updateValues();\r\n        \r\n                if (a.params.onOpen) a.params.onOpen(a);\r\n            };\r\n        \r\n            // Show Hide Preloader\r\n            a.showPreloader = function () {\r\n                if (a.params.openIn === 'dropdown') {\r\n                    if (a.dropdown) a.dropdown.find('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\r\n                }\r\n                else $('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\r\n            };\r\n        \r\n            a.hidePreloader = function () {\r\n                if (a.params.openIn === 'dropdown') {\r\n                    if (a.dropdown) a.dropdown.find('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\r\n                }\r\n                else $('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\r\n            };\r\n        \r\n            // Open Autocomplete Page/Popup\r\n            a.open = function () {\r\n                if (a.opened) return;\r\n                a.opened = true;\r\n                if (a.params.openIn === 'dropdown') {\r\n                    if (!a.dropdown) {\r\n                        a.dropdown = $(a.dropdownTemplate({\r\n                            preloader: a.params.preloader,\r\n                            preloaderColor: a.params.preloaderColor,\r\n                            material: material,\r\n                            materialPreloaderHtml: app.params.materialPreloaderHtml\r\n                        }));\r\n                        a.dropdown.on('click', 'label', handleDropdownClick);\r\n        \r\n                    }\r\n                    var listBlock = a.input.parents('.list-block');\r\n                    if (listBlock.length && a.input.parents('.item-content').length > 0 && a.params.expandInput) {\r\n                        a.input.parents('.item-content').addClass('item-content-dropdown-expand');\r\n                    }\r\n                    a.positionDropDown();\r\n                    a.input.parents('.page-content').append(a.dropdown);\r\n                    a.dropdown.addClass('autocomplete-dropdown-in');\r\n                    a.input.trigger('input');\r\n                    $(window).on('resize', a.positionDropDown);\r\n                    if (a.params.onOpen) a.params.onOpen(a);\r\n                }\r\n                else {\r\n                    $(document).once('pageInit', '.autocomplete-page', a.pageInit);\r\n                    if (a.params.openIn === 'popup') {\r\n                        a.popup = app.popup(\r\n                            '<div class=\"popup autocomplete-popup autocomplete-popup-' + a.inputName + '\">' +\r\n                                '<div class=\"view navbar-fixed\">' +\r\n                                    pageHTML +\r\n                                '</div>' +\r\n                            '</div>'\r\n                            );\r\n                        a.popup = $(a.popup);\r\n                        a.popup.once('closed', function () {\r\n                            a.popup = undefined;\r\n                            a.opened = false;\r\n                            if (a.params.onClose) a.params.onClose(a);\r\n                        });\r\n                    }\r\n                    else {\r\n                        view.router.load({\r\n                            content: pageHTML\r\n                        });\r\n                        $(document).once('pageBack', '.autocomplete-page', function () {\r\n                            a.opened = false;\r\n                            if (a.params.onClose) a.params.onClose(a);\r\n                        });\r\n                    }\r\n                }\r\n            };\r\n            a.close = function (e) {\r\n                if (!a.opened) return;\r\n                if (a.params.openIn === 'dropdown') {\r\n                    if (e && e.type === 'blur' && a.dropdown.find('label.active-state').length > 0) return;\r\n                    a.dropdown.removeClass('autocomplete-dropdown-in').remove();\r\n                    a.input.parents('.item-content-dropdown-expand').removeClass('item-content-dropdown-expand');\r\n                    a.opened = false;\r\n                    $(window).off('resize', a.positionDropDown);\r\n                    if (a.params.onClose) a.params.onClose(a);\r\n                }\r\n                if (a.params.openIn === 'popup') {\r\n                    if (a.popup) app.closeModal(a.popup);\r\n                }\r\n            };\r\n        \r\n            // Init Events\r\n            a.initEvents = function (detach) {\r\n                var method = detach ? 'off' : 'on';\r\n                if (a.params.openIn !== 'dropdown' && a.opener) {\r\n                    a.opener[method]('click', a.open);\r\n                }\r\n                if (a.params.openIn === 'dropdown' && a.input) {\r\n                    a.input[method]('focus', a.open);\r\n                    a.input[method]('input', handleInputValue);\r\n                    if (app.device.android) {\r\n                        $('html')[method]('click', closeOnHTMLClick);\r\n                    }\r\n                    else {\r\n                        a.input[method]('blur', a.close);\r\n                    }\r\n                }\r\n                if (detach && a.dropdown) {\r\n                    a.dropdown = null;\r\n                }\r\n            };\r\n        \r\n            // Init/Destroy Methods\r\n            a.init = function () {\r\n                a.initEvents();\r\n            };\r\n            a.destroy = function () {\r\n                a.initEvents(true);\r\n                a = null;\r\n            };\r\n        \r\n            // Init\r\n            a.init();\r\n        \r\n            return a;\r\n        };\r\n        app.autocomplete = function (params) {\r\n            return new Autocomplete(params);\r\n        };\n\n        /*======================================================\r\n        ************   Picker   ************\r\n        ======================================================*/\r\n        var Picker = function (params) {\r\n            var p = this;\r\n            var defaults = {\r\n                updateValuesOnMomentum: false,\r\n                updateValuesOnTouchmove: true,\r\n                rotateEffect: false,\r\n                momentumRatio: 7,\r\n                freeMode: false,\r\n                // Common settings\r\n                closeByOutsideClick: true,\r\n                scrollToInput: true,\r\n                inputReadOnly: true,\r\n                convertToPopover: true,\r\n                onlyInPopover: false,\r\n                toolbar: true,\r\n                toolbarCloseText: 'Done',\r\n                toolbarTemplate: \r\n                    '<div class=\"toolbar\">' +\r\n                        '<div class=\"toolbar-inner\">' +\r\n                            '<div class=\"left\"></div>' +\r\n                            '<div class=\"right\">' +\r\n                                '<a href=\"#\" class=\"link close-picker\">{{closeText}}</a>' +\r\n                            '</div>' +\r\n                        '</div>' +\r\n                    '</div>'\r\n            };\r\n            params = params || {};\r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined') {\r\n                    params[def] = defaults[def];\r\n                }\r\n            }\r\n            p.params = params;\r\n            p.cols = [];\r\n            p.initialized = false;\r\n            \r\n            // Inline flag\r\n            p.inline = p.params.container ? true : false;\r\n        \r\n            // 3D Transforms origin bug, only on safari\r\n            var originBug = app.device.ios || (navigator.userAgent.toLowerCase().indexOf('safari') >= 0 && navigator.userAgent.toLowerCase().indexOf('chrome') < 0) && !app.device.android;\r\n        \r\n            // Should be converted to popover\r\n            function isPopover() {\r\n                var toPopover = false;\r\n                if (!p.params.convertToPopover && !p.params.onlyInPopover) return toPopover;\r\n                if (!p.inline && p.params.input) {\r\n                    if (p.params.onlyInPopover) toPopover = true;\r\n                    else {\r\n                        if (app.device.ios) {\r\n                            toPopover = app.device.ipad ? true : false;\r\n                        }\r\n                        else {\r\n                            if ($(window).width() >= 768) toPopover = true;\r\n                        }\r\n                    }\r\n                } \r\n                return toPopover; \r\n            }\r\n            function inPopover() {\r\n                if (p.opened && p.container && p.container.length > 0 && p.container.parents('.popover').length > 0) return true;\r\n                else return false;\r\n            }\r\n        \r\n            // Value\r\n            p.setValue = function (arrValues, transition) {\r\n                var valueIndex = 0;\r\n                if (p.cols.length === 0) {\r\n                    p.value = arrValues;\r\n                    p.updateValue(arrValues);\r\n                    return;\r\n                }\r\n                for (var i = 0; i < p.cols.length; i++) {\r\n                    if (p.cols[i] && !p.cols[i].divider) {\r\n                        p.cols[i].setValue(arrValues[valueIndex], transition);\r\n                        valueIndex++;\r\n                    }\r\n                }\r\n            };\r\n            p.updateValue = function (forceValues) {\r\n                var newValue = forceValues || [];\r\n                var newDisplayValue = [];\r\n                for (var i = 0; i < p.cols.length; i++) {\r\n                    if (!p.cols[i].divider) {\r\n                        newValue.push(p.cols[i].value);\r\n                        newDisplayValue.push(p.cols[i].displayValue);\r\n                    }\r\n                }\r\n                if (newValue.indexOf(undefined) >= 0) {\r\n                    return;\r\n                }\r\n                p.value = newValue;\r\n                p.displayValue = newDisplayValue;\r\n                if (p.params.onChange) {\r\n                    p.params.onChange(p, p.value, p.displayValue);\r\n                }\r\n                if (p.input && p.input.length > 0) {\r\n                    $(p.input).val(p.params.formatValue ? p.params.formatValue(p, p.value, p.displayValue) : p.value.join(' '));\r\n                    $(p.input).trigger('change');\r\n                }\r\n            };\r\n        \r\n            // Columns Handlers\r\n            p.initPickerCol = function (colElement, updateItems) {\r\n                var colContainer = $(colElement);\r\n                var colIndex = colContainer.index();\r\n                var col = p.cols[colIndex];\r\n                if (col.divider) return;\r\n                col.container = colContainer;\r\n                col.wrapper = col.container.find('.picker-items-col-wrapper');\r\n                col.items = col.wrapper.find('.picker-item');\r\n                \r\n                var i, j;\r\n                var wrapperHeight, itemHeight, itemsHeight, minTranslate, maxTranslate;\r\n                col.replaceValues = function (values, displayValues) {\r\n                    col.destroyEvents();\r\n                    col.values = values;\r\n                    col.displayValues = displayValues;\r\n                    var newItemsHTML = p.columnHTML(col, true);\r\n                    col.wrapper.html(newItemsHTML);\r\n                    col.items = col.wrapper.find('.picker-item');\r\n                    col.calcSize();\r\n                    col.setValue(col.values[0], 0, true);\r\n                    col.initEvents();\r\n                };\r\n                col.calcSize = function () {\r\n                    if (p.params.rotateEffect) {\r\n                        col.container.removeClass('picker-items-col-absolute');\r\n                        if (!col.width) col.container.css({width:''});\r\n                    }\r\n                    var colWidth, colHeight;\r\n                    colWidth = 0;\r\n                    colHeight = col.container[0].offsetHeight;\r\n                    wrapperHeight = col.wrapper[0].offsetHeight;\r\n                    itemHeight = col.items[0].offsetHeight;\r\n                    itemsHeight = itemHeight * col.items.length;\r\n                    minTranslate = colHeight / 2 - itemsHeight + itemHeight / 2;\r\n                    maxTranslate = colHeight / 2 - itemHeight / 2;    \r\n                    if (col.width) {\r\n                        colWidth = col.width;\r\n                        if (parseInt(colWidth, 10) === colWidth) colWidth = colWidth + 'px';\r\n                        col.container.css({width: colWidth});\r\n                    }\r\n                    if (p.params.rotateEffect) {\r\n                        if (!col.width) {\r\n                            col.items.each(function () {\r\n                                var item = $(this);\r\n                                item.css({width:'auto'});\r\n                                colWidth = Math.max(colWidth, item[0].offsetWidth);\r\n                                item.css({width:''});\r\n                            });\r\n                            col.container.css({width: (colWidth + 2) + 'px'});\r\n                        }\r\n                        col.container.addClass('picker-items-col-absolute');\r\n                    }\r\n                };\r\n                col.calcSize();\r\n                \r\n                col.wrapper.transform('translate3d(0,' + maxTranslate + 'px,0)').transition(0);\r\n        \r\n        \r\n                var activeIndex = 0;\r\n                var animationFrameId;\r\n        \r\n                // Set Value Function\r\n                col.setValue = function (newValue, transition, valueCallbacks) {\r\n                    if (typeof transition === 'undefined') transition = '';\r\n                    var newActiveIndex = col.wrapper.find('.picker-item[data-picker-value=\"' + newValue + '\"]').index();\r\n                    if(typeof newActiveIndex === 'undefined' || newActiveIndex === -1) {\r\n                        return;\r\n                    }\r\n                    var newTranslate = -newActiveIndex * itemHeight + maxTranslate;\r\n                    // Update wrapper\r\n                    col.wrapper.transition(transition);\r\n                    col.wrapper.transform('translate3d(0,' + (newTranslate) + 'px,0)');\r\n                        \r\n                    // Watch items\r\n                    if (p.params.updateValuesOnMomentum && col.activeIndex && col.activeIndex !== newActiveIndex ) {\r\n                        $.cancelAnimationFrame(animationFrameId);\r\n                        col.wrapper.transitionEnd(function(){\r\n                            $.cancelAnimationFrame(animationFrameId);\r\n                        });\r\n                        updateDuringScroll();\r\n                    }\r\n        \r\n                    // Update items\r\n                    col.updateItems(newActiveIndex, newTranslate, transition, valueCallbacks);\r\n                };\r\n        \r\n                col.updateItems = function (activeIndex, translate, transition, valueCallbacks) {\r\n                    if (typeof translate === 'undefined') {\r\n                        translate = $.getTranslate(col.wrapper[0], 'y');\r\n                    }\r\n                    if(typeof activeIndex === 'undefined') activeIndex = -Math.round((translate - maxTranslate)/itemHeight);\r\n                    if (activeIndex < 0) activeIndex = 0;\r\n                    if (activeIndex >= col.items.length) activeIndex = col.items.length - 1;\r\n                    var previousActiveIndex = col.activeIndex;\r\n                    col.activeIndex = activeIndex;\r\n                    col.wrapper.find('.picker-selected').removeClass('picker-selected');\r\n        \r\n                    col.items.transition(transition);\r\n                    \r\n                    var selectedItem = col.items.eq(activeIndex).addClass('picker-selected').transform('');\r\n                        \r\n                    // Set 3D rotate effect\r\n                    if (p.params.rotateEffect) {\r\n                        var percentage = (translate - (Math.floor((translate - maxTranslate)/itemHeight) * itemHeight + maxTranslate)) / itemHeight;\r\n                        \r\n                        col.items.each(function () {\r\n                            var item = $(this);\r\n                            var itemOffsetTop = item.index() * itemHeight;\r\n                            var translateOffset = maxTranslate - translate;\r\n                            var itemOffset = itemOffsetTop - translateOffset;\r\n                            var percentage = itemOffset / itemHeight;\r\n        \r\n                            var itemsFit = Math.ceil(col.height / itemHeight / 2) + 1;\r\n                            \r\n                            var angle = (-18*percentage);\r\n                            if (angle > 180) angle = 180;\r\n                            if (angle < -180) angle = -180;\r\n                            // Far class\r\n                            if (Math.abs(percentage) > itemsFit) item.addClass('picker-item-far');\r\n                            else item.removeClass('picker-item-far');\r\n                            // Set transform\r\n                            item.transform('translate3d(0, ' + (-translate + maxTranslate) + 'px, ' + (originBug ? -110 : 0) + 'px) rotateX(' + angle + 'deg)');\r\n                        });\r\n                    }\r\n        \r\n                    if (valueCallbacks || typeof valueCallbacks === 'undefined') {\r\n                        // Update values\r\n                        col.value = selectedItem.attr('data-picker-value');\r\n                        col.displayValue = col.displayValues ? col.displayValues[activeIndex] : col.value;\r\n                        // On change callback\r\n                        if (previousActiveIndex !== activeIndex) {\r\n                            if (col.onChange) {\r\n                                col.onChange(p, col.value, col.displayValue);\r\n                            }\r\n                            p.updateValue();\r\n                        }\r\n                    }\r\n                };\r\n        \r\n                function updateDuringScroll() {\r\n                    animationFrameId = $.requestAnimationFrame(function () {\r\n                        col.updateItems(undefined, undefined, 0);\r\n                        updateDuringScroll();\r\n                    });\r\n                }\r\n        \r\n                // Update items on init\r\n                if (updateItems) col.updateItems(0, maxTranslate, 0);\r\n        \r\n                var allowItemClick = true;\r\n                var isTouched, isMoved, touchStartY, touchCurrentY, touchStartTime, touchEndTime, startTranslate, returnTo, currentTranslate, prevTranslate, velocityTranslate, velocityTime;\r\n                function handleTouchStart (e) {\r\n                    if (isMoved || isTouched) return;\r\n                    e.preventDefault();\r\n                    isTouched = true;\r\n                    touchStartY = touchCurrentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\r\n                    touchStartTime = (new Date()).getTime();\r\n                    \r\n                    allowItemClick = true;\r\n                    startTranslate = currentTranslate = $.getTranslate(col.wrapper[0], 'y');\r\n                }\r\n                function handleTouchMove (e) {\r\n                    if (!isTouched) return;\r\n                    e.preventDefault();\r\n                    allowItemClick = false;\r\n                    touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n                    if (!isMoved) {\r\n                        // First move\r\n                        $.cancelAnimationFrame(animationFrameId);\r\n                        isMoved = true;\r\n                        startTranslate = currentTranslate = $.getTranslate(col.wrapper[0], 'y');\r\n                        col.wrapper.transition(0);\r\n                    }\r\n        \r\n                    var diff = touchCurrentY - touchStartY;\r\n                    currentTranslate = startTranslate + diff;\r\n                    returnTo = undefined;\r\n        \r\n                    // Normalize translate\r\n                    if (currentTranslate < minTranslate) {\r\n                        currentTranslate = minTranslate - Math.pow(minTranslate - currentTranslate, 0.8);\r\n                        returnTo = 'min';\r\n                    }\r\n                    if (currentTranslate > maxTranslate) {\r\n                        currentTranslate = maxTranslate + Math.pow(currentTranslate - maxTranslate, 0.8);\r\n                        returnTo = 'max';\r\n                    }\r\n                    // Transform wrapper\r\n                    col.wrapper.transform('translate3d(0,' + currentTranslate + 'px,0)');\r\n        \r\n                    // Update items\r\n                    col.updateItems(undefined, currentTranslate, 0, p.params.updateValuesOnTouchmove);\r\n                    \r\n                    // Calc velocity\r\n                    velocityTranslate = currentTranslate - prevTranslate || currentTranslate;\r\n                    velocityTime = (new Date()).getTime();\r\n                    prevTranslate = currentTranslate;\r\n                }\r\n                function handleTouchEnd (e) {\r\n                    if (!isTouched || !isMoved) {\r\n                        isTouched = isMoved = false;\r\n                        return;\r\n                    }\r\n                    isTouched = isMoved = false;\r\n                    col.wrapper.transition('');\r\n                    if (returnTo) {\r\n                        if (returnTo === 'min') {\r\n                            col.wrapper.transform('translate3d(0,' + minTranslate + 'px,0)');\r\n                        }\r\n                        else col.wrapper.transform('translate3d(0,' + maxTranslate + 'px,0)');\r\n                    }\r\n                    touchEndTime = new Date().getTime();\r\n                    var velocity, newTranslate;\r\n                    if (touchEndTime - touchStartTime > 300) {\r\n                        newTranslate = currentTranslate;\r\n                    }\r\n                    else {\r\n                        velocity = Math.abs(velocityTranslate / (touchEndTime - velocityTime));\r\n                        newTranslate = currentTranslate + velocityTranslate * p.params.momentumRatio;\r\n                    }\r\n        \r\n                    newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate);\r\n        \r\n                    // Active Index\r\n                    var activeIndex = -Math.floor((newTranslate - maxTranslate)/itemHeight);\r\n        \r\n                    // Normalize translate\r\n                    if (!p.params.freeMode) newTranslate = -activeIndex * itemHeight + maxTranslate;\r\n        \r\n                    // Transform wrapper\r\n                    col.wrapper.transform('translate3d(0,' + (parseInt(newTranslate,10)) + 'px,0)');\r\n        \r\n                    // Update items\r\n                    col.updateItems(activeIndex, newTranslate, '', true);\r\n        \r\n                    // Watch items\r\n                    if (p.params.updateValuesOnMomentum) {\r\n                        updateDuringScroll();\r\n                        col.wrapper.transitionEnd(function(){\r\n                            $.cancelAnimationFrame(animationFrameId);\r\n                        });\r\n                    }\r\n        \r\n                    // Allow click\r\n                    setTimeout(function () {\r\n                        allowItemClick = true;\r\n                    }, 100);\r\n                }\r\n        \r\n                function handleClick(e) {\r\n                    if (!allowItemClick) return;\r\n                    $.cancelAnimationFrame(animationFrameId);\r\n                    /*jshint validthis:true */\r\n                    var value = $(this).attr('data-picker-value');\r\n                    col.setValue(value);\r\n                }\r\n        \r\n                col.initEvents = function (detach) {\r\n                    var method = detach ? 'off' : 'on';\r\n                    col.container[method](app.touchEvents.start, handleTouchStart);\r\n                    col.container[method](app.touchEvents.move, handleTouchMove);\r\n                    col.container[method](app.touchEvents.end, handleTouchEnd);\r\n                    col.items[method]('click', handleClick);\r\n                };\r\n                col.destroyEvents = function () {\r\n                    col.initEvents(true);\r\n                };\r\n        \r\n                col.container[0].f7DestroyPickerCol = function () {\r\n                    col.destroyEvents();\r\n                };\r\n        \r\n                col.initEvents();\r\n        \r\n            };\r\n            p.destroyPickerCol = function (colContainer) {\r\n                colContainer = $(colContainer);\r\n                if ('f7DestroyPickerCol' in colContainer[0]) colContainer[0].f7DestroyPickerCol();\r\n            };\r\n            // Resize cols\r\n            function resizeCols() {\r\n                if (!p.opened) return;\r\n                for (var i = 0; i < p.cols.length; i++) {\r\n                    if (!p.cols[i].divider) {\r\n                        p.cols[i].calcSize();\r\n                        p.cols[i].setValue(p.cols[i].value, 0, false);\r\n                    }\r\n                }\r\n            }\r\n            $(window).on('resize', resizeCols);\r\n        \r\n            // HTML Layout\r\n            p.columnHTML = function (col, onlyItems) {\r\n                var columnItemsHTML = '';\r\n                var columnHTML = '';\r\n                if (col.divider) {\r\n                    columnHTML += '<div class=\"picker-items-col picker-items-col-divider ' + (col.textAlign ? 'picker-items-col-' + col.textAlign : '') + ' ' + (col.cssClass || '') + '\">' + col.content + '</div>';\r\n                }\r\n                else {\r\n                    for (var j = 0; j < col.values.length; j++) {\r\n                        columnItemsHTML += '<div class=\"picker-item\" data-picker-value=\"' + col.values[j] + '\">' + (col.displayValues ? col.displayValues[j] : col.values[j]) + '</div>';\r\n                    }\r\n                    columnHTML += '<div class=\"picker-items-col ' + (col.textAlign ? 'picker-items-col-' + col.textAlign : '') + ' ' + (col.cssClass || '') + '\"><div class=\"picker-items-col-wrapper\">' + columnItemsHTML + '</div></div>';\r\n                }\r\n                return onlyItems ? columnItemsHTML : columnHTML;\r\n            };\r\n            p.layout = function () {\r\n                var pickerHTML = '';\r\n                var pickerClass = '';\r\n                var i;\r\n                p.cols = [];\r\n                var colsHTML = '';\r\n                for (i = 0; i < p.params.cols.length; i++) {\r\n                    var col = p.params.cols[i];\r\n                    colsHTML += p.columnHTML(p.params.cols[i]);\r\n                    p.cols.push(col);\r\n                }\r\n                pickerClass = 'picker-modal picker-columns ' + (p.params.cssClass || '') + (p.params.rotateEffect ? ' picker-3d' : '');\r\n                pickerHTML =\r\n                    '<div class=\"' + (pickerClass) + '\">' +\r\n                        (p.params.toolbar ? p.params.toolbarTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText) : '') +\r\n                        '<div class=\"picker-modal-inner picker-items\">' +\r\n                            colsHTML +\r\n                            '<div class=\"picker-center-highlight\"></div>' +\r\n                        '</div>' +\r\n                    '</div>';\r\n                    \r\n                p.pickerHTML = pickerHTML;    \r\n            };\r\n        \r\n            // Input Events\r\n            function openOnInput(e) {\r\n                e.preventDefault();\r\n                if (p.opened) return;\r\n                p.open();\r\n                if (p.params.scrollToInput && !isPopover()) {\r\n                    var pageContent = p.input.parents('.page-content');\r\n                    if (pageContent.length === 0) return;\r\n        \r\n                    var paddingTop = parseInt(pageContent.css('padding-top'), 10),\r\n                        paddingBottom = parseInt(pageContent.css('padding-bottom'), 10),\r\n                        pageHeight = pageContent[0].offsetHeight - paddingTop - p.container.height(),\r\n                        pageScrollHeight = pageContent[0].scrollHeight - paddingTop - p.container.height(),\r\n                        newPaddingBottom;\r\n                    var inputTop = p.input.offset().top - paddingTop + p.input[0].offsetHeight;\r\n                    if (inputTop > pageHeight) {\r\n                        var scrollTop = pageContent.scrollTop() + inputTop - pageHeight;\r\n                        if (scrollTop + pageHeight > pageScrollHeight) {\r\n                            newPaddingBottom = scrollTop + pageHeight - pageScrollHeight + paddingBottom;\r\n                            if (pageHeight === pageScrollHeight) {\r\n                                newPaddingBottom = p.container.height();\r\n                            }\r\n                            pageContent.css({'padding-bottom': (newPaddingBottom) + 'px'});\r\n                        }\r\n                        pageContent.scrollTop(scrollTop, 300);\r\n                    }\r\n                }\r\n            }\r\n            function closeOnHTMLClick(e) {\r\n                if (inPopover()) return;\r\n                if (p.input && p.input.length > 0) {\r\n                    if (e.target !== p.input[0] && $(e.target).parents('.picker-modal').length === 0) p.close();\r\n                }\r\n                else {\r\n                    if ($(e.target).parents('.picker-modal').length === 0) p.close();   \r\n                }\r\n            }\r\n        \r\n            if (p.params.input) {\r\n                p.input = $(p.params.input);\r\n                if (p.input.length > 0) {\r\n                    if (p.params.inputReadOnly) p.input.prop('readOnly', true);\r\n                    if (!p.inline) {\r\n                        p.input.on('click', openOnInput);    \r\n                    }\r\n                    if (p.params.inputReadOnly) {\r\n                        p.input.on('focus mousedown', function (e) {\r\n                            e.preventDefault();\r\n                        });\r\n                    }\r\n                }\r\n                    \r\n            }\r\n            \r\n            if (!p.inline && p.params.closeByOutsideClick) $('html').on('click', closeOnHTMLClick);\r\n        \r\n            // Open\r\n            function onPickerClose() {\r\n                p.opened = false;\r\n                if (p.input && p.input.length > 0) {\r\n                    p.input.parents('.page-content').css({'padding-bottom': ''});\r\n                    if (app.params.material) p.input.trigger('blur');\r\n                }\r\n                if (p.params.onClose) p.params.onClose(p);\r\n        \r\n                // Destroy events\r\n                p.container.find('.picker-items-col').each(function () {\r\n                    p.destroyPickerCol(this);\r\n                });\r\n            }\r\n        \r\n            p.opened = false;\r\n            p.open = function () {\r\n                var toPopover = isPopover();\r\n        \r\n                if (!p.opened) {\r\n        \r\n                    // Layout\r\n                    p.layout();\r\n        \r\n                    // Append\r\n                    if (toPopover) {\r\n                        p.pickerHTML = '<div class=\"popover popover-picker-columns\"><div class=\"popover-inner\">' + p.pickerHTML + '</div></div>';\r\n                        p.popover = app.popover(p.pickerHTML, p.params.input, true);\r\n                        p.container = $(p.popover).find('.picker-modal');\r\n                        $(p.popover).on('popover:close', function () {\r\n                            onPickerClose();\r\n                        });\r\n                    }\r\n                    else if (p.inline) {\r\n                        p.container = $(p.pickerHTML);\r\n                        p.container.addClass('picker-modal-inline');\r\n                        $(p.params.container).append(p.container);\r\n                    }\r\n                    else {\r\n                        p.container = $(app.pickerModal(p.pickerHTML));\r\n                        $(p.container)\r\n                        .on('picker:close', function () {\r\n                            onPickerClose();\r\n                        });\r\n                    }\r\n        \r\n                    // Store picker instance\r\n                    p.container[0].f7Picker = p;\r\n        \r\n                    // Init Events\r\n                    p.container.find('.picker-items-col').each(function () {\r\n                        var updateItems = true;\r\n                        if ((!p.initialized && p.params.value) || (p.initialized && p.value)) updateItems = false;\r\n                        p.initPickerCol(this, updateItems);\r\n                    });\r\n                    \r\n                    // Set value\r\n                    if (!p.initialized) {\r\n                        if (p.value) p.setValue(p.value, 0);\r\n                        else if (p.params.value) {\r\n                            p.setValue(p.params.value, 0);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (p.value) p.setValue(p.value, 0);\r\n                    }\r\n        \r\n                    // Material Focus\r\n                    if (p.input && p.input.length > 0 && app.params.material) {\r\n                        p.input.trigger('focus');\r\n                    }\r\n                }\r\n        \r\n                // Set flag\r\n                p.opened = true;\r\n                p.initialized = true;\r\n        \r\n                if (p.params.onOpen) p.params.onOpen(p);\r\n            };\r\n        \r\n            // Close\r\n            p.close = function () {\r\n                if (!p.opened || p.inline) return;\r\n                if (inPopover()) {\r\n                    app.closeModal(p.popover);\r\n                    return;\r\n                }\r\n                else {\r\n                    app.closeModal(p.container);\r\n                    return;\r\n                }\r\n            };\r\n        \r\n            // Destroy\r\n            p.destroy = function () {\r\n                p.close();\r\n                if (p.params.input && p.input.length > 0) {\r\n                    p.input.off('click focus', openOnInput);\r\n                }\r\n                $('html').off('click', closeOnHTMLClick);\r\n                $(window).off('resize', resizeCols);\r\n            };\r\n        \r\n            if (p.inline) {\r\n                p.open();\r\n            }\r\n            else {\r\n                if (!p.initialized && p.params.value) p.setValue(p.params.value);\r\n            }\r\n        \r\n            return p;\r\n        };\r\n        app.picker = function (params) {\r\n            return new Picker(params);\r\n        };\n\n        /*======================================================\r\n        ************   Calendar   ************\r\n        ======================================================*/\r\n        var Calendar = function (params) {\r\n            var p = this;\r\n            var defaults = {\r\n                monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August' , 'September' , 'October', 'November', 'December'],\r\n                monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n                dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n                dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\r\n                firstDay: 1, // First day of the week, Monday\r\n                weekendDays: [0, 6], // Sunday and Saturday\r\n                multiple: false,\r\n                rangePicker: false,\r\n                dateFormat: 'yyyy-mm-dd',\r\n                direction: 'horizontal', // or 'vertical'\r\n                minDate: null,\r\n                maxDate: null,\r\n                disabled: null, // dates range of disabled days\r\n                events: null, // dates range of days with events\r\n                rangesClasses: null, //array with custom classes date ranges\r\n                touchMove: true,\r\n                animate: true,\r\n                closeOnSelect: false,\r\n                monthPicker: true,\r\n                monthPickerTemplate:\r\n                    '<div class=\"picker-calendar-month-picker\">' +\r\n                        '<a href=\"#\" class=\"link icon-only picker-calendar-prev-month\"><i class=\"icon icon-prev\"></i></a>' +\r\n                        '<span class=\"current-month-value\"></span>' +\r\n                        '<a href=\"#\" class=\"link icon-only picker-calendar-next-month\"><i class=\"icon icon-next\"></i></a>' +\r\n                    '</div>',\r\n                yearPicker: true,\r\n                yearPickerTemplate:\r\n                    '<div class=\"picker-calendar-year-picker\">' +\r\n                        '<a href=\"#\" class=\"link icon-only picker-calendar-prev-year\"><i class=\"icon icon-prev\"></i></a>' +\r\n                        '<span class=\"current-year-value\"></span>' +\r\n                        '<a href=\"#\" class=\"link icon-only picker-calendar-next-year\"><i class=\"icon icon-next\"></i></a>' +\r\n                    '</div>',\r\n                weekHeader: true,\r\n                // Common settings\r\n                closeByOutsideClick: true,\r\n                scrollToInput: true,\r\n                inputReadOnly: true,\r\n                convertToPopover: true,\r\n                onlyInPopover: false,\r\n                toolbar: true,\r\n                toolbarCloseText: 'Done',\r\n                headerPlaceholder: 'Select date',\r\n                header: app.params.material,\r\n                footer: app.params.material,\r\n                toolbarTemplate:\r\n                    '<div class=\"toolbar\">' +\r\n                        '<div class=\"toolbar-inner\">' +\r\n                            '{{monthPicker}}' +\r\n                            '{{yearPicker}}' +\r\n                        '</div>' +\r\n                    '</div>',\r\n                headerTemplate:\r\n                    '<div class=\"picker-header\">' +\r\n                        '<div class=\"picker-calendar-selected-date\">{{placeholder}}</div>' +\r\n                    '</div>',\r\n                footerTemplate:\r\n                    '<div class=\"picker-footer\">' +\r\n                        '<a href=\"#\" class=\"button close-picker\">{{closeText}}</a>' +\r\n                    '</div>',\r\n        \r\n                /* Callbacks\r\n                onMonthAdd\r\n                onChange\r\n                onOpen\r\n                onClose\r\n                onDayClick\r\n                onMonthYearChangeStart\r\n                onMonthYearChangeEnd\r\n                */\r\n            };\r\n            params = params || {};\r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined') {\r\n                    params[def] = defaults[def];\r\n                }\r\n            }\r\n            p.params = params;\r\n            p.initialized = false;\r\n        \r\n            // Inline flag\r\n            p.inline = p.params.container ? true : false;\r\n        \r\n            // Is horizontal\r\n            p.isH = p.params.direction === 'horizontal';\r\n        \r\n            // RTL inverter\r\n            var inverter = p.isH ? (app.rtl ? -1 : 1) : 1;\r\n        \r\n            // Animating flag\r\n            p.animating = false;\r\n        \r\n            // Should be converted to popover\r\n            function isPopover() {\r\n                var toPopover = false;\r\n                if (!p.params.convertToPopover && !p.params.onlyInPopover) return toPopover;\r\n                if (!p.inline && p.params.input) {\r\n                    if (p.params.onlyInPopover) toPopover = true;\r\n                    else {\r\n                        if (app.device.ios) {\r\n                            toPopover = app.device.ipad ? true : false;\r\n                        }\r\n                        else {\r\n                            if ($(window).width() >= 768) toPopover = true;\r\n                        }\r\n                    }\r\n                }\r\n                return toPopover;\r\n            }\r\n            function inPopover() {\r\n                if (p.opened && p.container && p.container.length > 0 && p.container.parents('.popover').length > 0) return true;\r\n                else return false;\r\n            }\r\n        \r\n            // Format date\r\n            function formatDate(date) {\r\n                date = new Date(date);\r\n                var year = date.getFullYear();\r\n                var month = date.getMonth();\r\n                var month1 = month + 1;\r\n                var day = date.getDate();\r\n                var weekDay = date.getDay();\r\n        \r\n                return p.params.dateFormat\r\n                    .replace(/yyyy/g, year)\r\n                    .replace(/yy/g, (year + '').substring(2))\r\n                    .replace(/mm/g, month1 < 10 ? '0' + month1 : month1)\r\n                    .replace(/m(\\W+)/g, month1 + '$1')\r\n                    .replace(/MM/g, p.params.monthNames[month])\r\n                    .replace(/M(\\W+)/g, p.params.monthNamesShort[month] + '$1')\r\n                    .replace(/dd/g, day < 10 ? '0' + day : day)\r\n                    .replace(/d(\\W+)/g, day + '$1')\r\n                    .replace(/DD/g, p.params.dayNames[weekDay])\r\n                    .replace(/D(\\W+)/g, p.params.dayNamesShort[weekDay] + '$1');\r\n            }\r\n        \r\n        \r\n            // Value\r\n            p.addValue = function (value) {\r\n                if (p.params.multiple) {\r\n                    if (!p.value) p.value = [];\r\n                    var inValuesIndex;\r\n                    for (var i = 0; i < p.value.length; i++) {\r\n                        if (new Date(value).getTime() === new Date(p.value[i]).getTime()) {\r\n                            inValuesIndex = i;\r\n                        }\r\n                    }\r\n                    if (typeof inValuesIndex === 'undefined') {\r\n                        p.value.push(value);\r\n                    }\r\n                    else {\r\n                        p.value.splice(inValuesIndex, 1);\r\n                    }\r\n                    p.updateValue();\r\n                }\r\n                else if (p.params.rangePicker) {\r\n                    if (!p.value) p.value = [];\r\n                    if (p.value.length === 2 || p.value.length === 0) {\r\n                        p.value = [];\r\n                    }\r\n                    if (p.value[0] !== value) p.value.push(value);\r\n                    else p.value = [];\r\n                    p.value.sort(function (a,b) {\r\n                        return a - b;\r\n                    });\r\n                    p.updateValue();\r\n                }\r\n                else {\r\n                    p.value = [value];\r\n                    p.updateValue();\r\n                }\r\n            };\r\n            p.setValue = function (arrValues) {\r\n                p.value = arrValues;\r\n                p.updateValue();\r\n            };\r\n            p.updateValue = function (onlyHeader) {\r\n                var i, inputValue;\r\n                if (p.container && p.container.length > 0) {\r\n                    p.wrapper.find('.picker-calendar-day-selected').removeClass('picker-calendar-day-selected');\r\n                    var valueDate;\r\n                    if (p.params.rangePicker && p.value.length === 2) {\r\n                        for (i = p.value[0]; i <= p.value[1]; i += 24*60*60*1000) {\r\n                            valueDate = new Date(i);\r\n                            p.wrapper.find('.picker-calendar-day[data-date=\"' + valueDate.getFullYear() + '-' + valueDate.getMonth() + '-' + valueDate.getDate() + '\"]').addClass('picker-calendar-day-selected');\r\n                        }\r\n                    }\r\n                    else {\r\n                        for (i = 0; i < p.value.length; i++) {\r\n                            valueDate = new Date(p.value[i]);\r\n                            p.wrapper.find('.picker-calendar-day[data-date=\"' + valueDate.getFullYear() + '-' + valueDate.getMonth() + '-' + valueDate.getDate() + '\"]').addClass('picker-calendar-day-selected');\r\n                        }\r\n                    }\r\n                }\r\n        \r\n                if (p.params.onChange) {\r\n                    p.params.onChange(p, p.value);\r\n                }\r\n                if ((p.input && p.input.length > 0) || (app.params.material && p.params.header)) {\r\n                    if (p.params.formatValue) inputValue = p.params.formatValue(p, p.value);\r\n                    else {\r\n                        inputValue = [];\r\n                        for (i = 0; i < p.value.length; i++) {\r\n                            inputValue.push(formatDate(p.value[i]));\r\n                        }\r\n                        inputValue = inputValue.join(p.params.rangePicker ? ' - ' : ', ');\r\n                    }\r\n                    if (app.params.material && p.params.header && p.container && p.container.length > 0) {\r\n                        p.container.find('.picker-calendar-selected-date').text(inputValue);\r\n                    }\r\n                    if (p.input && p.input.length > 0 && !onlyHeader) {\r\n                        $(p.input).val(inputValue);\r\n                        $(p.input).trigger('change');\r\n                    }\r\n        \r\n                }\r\n            };\r\n        \r\n            // Columns Handlers\r\n            p.initCalendarEvents = function () {\r\n                var col;\r\n                var allowItemClick = true;\r\n                var isTouched, isMoved, touchStartX, touchStartY, touchCurrentX, touchCurrentY, touchStartTime, touchEndTime, startTranslate, currentTranslate, wrapperWidth, wrapperHeight, percentage, touchesDiff, isScrolling;\r\n                function handleTouchStart (e) {\r\n                    if (isMoved || isTouched) return;\r\n                    // e.preventDefault();\r\n                    isTouched = true;\r\n                    touchStartX = touchCurrentY = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\r\n                    touchStartY = touchCurrentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\r\n                    touchStartTime = (new Date()).getTime();\r\n                    percentage = 0;\r\n                    allowItemClick = true;\r\n                    isScrolling = undefined;\r\n                    startTranslate = currentTranslate = p.monthsTranslate;\r\n                }\r\n                function handleTouchMove (e) {\r\n                    if (!isTouched) return;\r\n        \r\n                    touchCurrentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\r\n                    touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n                    if (typeof isScrolling === 'undefined') {\r\n                        isScrolling = !!(isScrolling || Math.abs(touchCurrentY - touchStartY) > Math.abs(touchCurrentX - touchStartX));\r\n                    }\r\n                    if (p.isH && isScrolling) {\r\n                        isTouched = false;\r\n                        return;\r\n                    }\r\n                    e.preventDefault();\r\n                    if (p.animating) {\r\n                        isTouched = false;\r\n                        return;\r\n                    }\r\n                    allowItemClick = false;\r\n                    if (!isMoved) {\r\n                        // First move\r\n                        isMoved = true;\r\n                        wrapperWidth = p.wrapper[0].offsetWidth;\r\n                        wrapperHeight = p.wrapper[0].offsetHeight;\r\n                        p.wrapper.transition(0);\r\n                    }\r\n        \r\n                    touchesDiff = p.isH ? touchCurrentX - touchStartX : touchCurrentY - touchStartY;\r\n                    percentage = touchesDiff/(p.isH ? wrapperWidth : wrapperHeight);\r\n                    currentTranslate = (p.monthsTranslate * inverter + percentage) * 100;\r\n        \r\n                    // Transform wrapper\r\n                    p.wrapper.transform('translate3d(' + (p.isH ? currentTranslate : 0) + '%, ' + (p.isH ? 0 : currentTranslate) + '%, 0)');\r\n        \r\n                }\r\n                function handleTouchEnd (e) {\r\n                    if (!isTouched || !isMoved) {\r\n                        isTouched = isMoved = false;\r\n                        return;\r\n                    }\r\n                    isTouched = isMoved = false;\r\n        \r\n                    touchEndTime = new Date().getTime();\r\n                    if (touchEndTime - touchStartTime < 300) {\r\n                        if (Math.abs(touchesDiff) < 10) {\r\n                            p.resetMonth();\r\n                        }\r\n                        else if (touchesDiff >= 10) {\r\n                            if (app.rtl) p.nextMonth();\r\n                            else p.prevMonth();\r\n                        }\r\n                        else {\r\n                            if (app.rtl) p.prevMonth();\r\n                            else p.nextMonth();\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (percentage <= -0.5) {\r\n                            if (app.rtl) p.prevMonth();\r\n                            else p.nextMonth();\r\n                        }\r\n                        else if (percentage >= 0.5) {\r\n                            if (app.rtl) p.nextMonth();\r\n                            else p.prevMonth();\r\n                        }\r\n                        else {\r\n                            p.resetMonth();\r\n                        }\r\n                    }\r\n        \r\n                    // Allow click\r\n                    setTimeout(function () {\r\n                        allowItemClick = true;\r\n                    }, 100);\r\n                }\r\n        \r\n                function handleDayClick(e) {\r\n                    if (!allowItemClick) return;\r\n                    var day = $(e.target).parents('.picker-calendar-day');\r\n                    if (day.length === 0 && $(e.target).hasClass('picker-calendar-day')) {\r\n                        day = $(e.target);\r\n                    }\r\n                    if (day.length === 0) return;\r\n                    if (day.hasClass('picker-calendar-day-selected') && !(p.params.multiple || p.params.rangePicker)) return;\r\n                    if (day.hasClass('picker-calendar-day-disabled')) return;\r\n                    if (!p.params.rangePicker) {\r\n                        if (day.hasClass('picker-calendar-day-next')) p.nextMonth();\r\n                        if (day.hasClass('picker-calendar-day-prev')) p.prevMonth();\r\n                    }\r\n                    var dateYear = day.attr('data-year');\r\n                    var dateMonth = day.attr('data-month');\r\n                    var dateDay = day.attr('data-day');\r\n                    if (p.params.onDayClick) {\r\n                        p.params.onDayClick(p, day[0], dateYear, dateMonth, dateDay);\r\n                    }\r\n                    p.addValue(new Date(dateYear, dateMonth, dateDay).getTime());\r\n                    if (p.params.closeOnSelect) {\r\n                        if (p.params.rangePicker && p.value.length === 2 || !p.params.rangePicker) p.close();\r\n                    }\r\n                }\r\n        \r\n                p.container.find('.picker-calendar-prev-month').on('click', p.prevMonth);\r\n                p.container.find('.picker-calendar-next-month').on('click', p.nextMonth);\r\n                p.container.find('.picker-calendar-prev-year').on('click', p.prevYear);\r\n                p.container.find('.picker-calendar-next-year').on('click', p.nextYear);\r\n                p.wrapper.on('click', handleDayClick);\r\n                var passiveListener = app.touchEvents.start === 'touchstart' && app.support.passiveListener ? {passive: true, capture: false} : false;\r\n                if (p.params.touchMove) {\r\n                    p.wrapper.on(app.touchEvents.start, handleTouchStart, passiveListener);\r\n                    p.wrapper.on(app.touchEvents.move, handleTouchMove);\r\n                    p.wrapper.on(app.touchEvents.end, handleTouchEnd, passiveListener);\r\n                }\r\n        \r\n                p.container[0].f7DestroyCalendarEvents = function () {\r\n                    p.container.find('.picker-calendar-prev-month').off('click', p.prevMonth);\r\n                    p.container.find('.picker-calendar-next-month').off('click', p.nextMonth);\r\n                    p.container.find('.picker-calendar-prev-year').off('click', p.prevYear);\r\n                    p.container.find('.picker-calendar-next-year').off('click', p.nextYear);\r\n                    p.wrapper.off('click', handleDayClick);\r\n                    if (p.params.touchMove) {\r\n                        p.wrapper.off(app.touchEvents.start, handleTouchStart, passiveListener);\r\n                        p.wrapper.off(app.touchEvents.move, handleTouchMove);\r\n                        p.wrapper.off(app.touchEvents.end, handleTouchEnd, passiveListener);\r\n                    }\r\n                };\r\n        \r\n        \r\n            };\r\n            p.destroyCalendarEvents = function (colContainer) {\r\n                if ('f7DestroyCalendarEvents' in p.container[0]) p.container[0].f7DestroyCalendarEvents();\r\n            };\r\n        \r\n            // Scan Dates Range\r\n            p.dateInRange = function (dayDate, range) {\r\n                var match = false;\r\n                var i;\r\n                if (!range) return false;\r\n                if ($.isArray(range)) {\r\n                    for (i = 0; i < range.length; i ++) {\r\n                        if (range[i].from || range[i].to) {\r\n                            if (range[i].from && range[i].to) {\r\n                                if ((dayDate <= new Date(range[i].to).getTime()) && (dayDate >= new Date(range[i].from).getTime())) {\r\n                                    match = true;\r\n                                }\r\n                            }\r\n                            else if (range[i].from) {\r\n                                if (dayDate >= new Date(range[i].from).getTime()) {\r\n                                    match = true;\r\n                                }\r\n                            }\r\n                            else if (range[i].to) {\r\n                                if (dayDate <= new Date(range[i].to).getTime()) {\r\n                                    match = true;\r\n                                }\r\n                            }\r\n                        } else if (dayDate === new Date(range[i]).getTime()) {\r\n                            match = true;\r\n                        }\r\n                    }\r\n                }\r\n                else if (range.from || range.to) {\r\n                    if (range.from && range.to) {\r\n                        if ((dayDate <= new Date(range.to).getTime()) && (dayDate >= new Date(range.from).getTime())) {\r\n                            match = true;\r\n                        }\r\n                    }\r\n                    else if (range.from) {\r\n                        if (dayDate >= new Date(range.from).getTime()) {\r\n                            match = true;\r\n                        }\r\n                    }\r\n                    else if (range.to) {\r\n                        if (dayDate <= new Date(range.to).getTime()) {\r\n                            match = true;\r\n                        }\r\n                    }\r\n                }\r\n                else if (typeof range === 'function') {\r\n                    match = range(new Date(dayDate));\r\n                }\r\n                return match;\r\n            };\r\n            // Calendar Methods\r\n            p.daysInMonth = function (date) {\r\n                var d = new Date(date);\r\n                return new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\r\n            };\r\n            p.monthHTML = function (date, offset) {\r\n                date = new Date(date);\r\n                var year = date.getFullYear(),\r\n                    month = date.getMonth(),\r\n                    day = date.getDate();\r\n                if (offset === 'next') {\r\n                    if (month === 11) date = new Date(year + 1, 0);\r\n                    else date = new Date(year, month + 1, 1);\r\n                }\r\n                if (offset === 'prev') {\r\n                    if (month === 0) date = new Date(year - 1, 11);\r\n                    else date = new Date(year, month - 1, 1);\r\n                }\r\n                if (offset === 'next' || offset === 'prev') {\r\n                    month = date.getMonth();\r\n                    year = date.getFullYear();\r\n                }\r\n                var daysInPrevMonth = p.daysInMonth(new Date(date.getFullYear(), date.getMonth()).getTime() - 10 * 24 * 60 * 60 * 1000),\r\n                    daysInMonth = p.daysInMonth(date),\r\n                    firstDayOfMonthIndex = new Date(date.getFullYear(), date.getMonth()).getDay();\r\n                if (firstDayOfMonthIndex === 0) firstDayOfMonthIndex = 7;\r\n        \r\n                var dayDate, currentValues = [], i, j, k,\r\n                    rows = 6, cols = 7,\r\n                    monthHTML = '',\r\n                    dayIndex = 0 + (p.params.firstDay - 1),\r\n                    today = new Date().setHours(0,0,0,0),\r\n                    minDate = p.params.minDate ? new Date(p.params.minDate).getTime() : null,\r\n                    maxDate = p.params.maxDate ? new Date(p.params.maxDate).getTime() : null,\r\n                    disabled,\r\n                    hasEvent;\r\n        \r\n                if (p.value && p.value.length) {\r\n                    for (i = 0; i < p.value.length; i++) {\r\n                        currentValues.push(new Date(p.value[i]).setHours(0,0,0,0));\r\n                    }\r\n                }\r\n        \r\n                for (i = 1; i <= rows; i++) {\r\n                    var rowHTML = '';\r\n                    var row = i;\r\n                    for (j = 1; j <= cols; j++) {\r\n                        var col = j;\r\n                        dayIndex ++;\r\n                        var dayNumber = dayIndex - firstDayOfMonthIndex;\r\n                        var weekDayIndex = (col - 1 + p.params.firstDay > 6) ? (col - 1 - 7 + p.params.firstDay) : (col - 1 + p.params.firstDay);\r\n                        var addClass = '';\r\n                        if (dayNumber < 0) {\r\n                            dayNumber = daysInPrevMonth + dayNumber + 1;\r\n                            addClass += ' picker-calendar-day-prev';\r\n                            dayDate = new Date(month - 1 < 0 ? year - 1 : year, month - 1 < 0 ? 11 : month - 1, dayNumber).getTime();\r\n                        }\r\n                        else {\r\n                            dayNumber = dayNumber + 1;\r\n                            if (dayNumber > daysInMonth) {\r\n                                dayNumber = dayNumber - daysInMonth;\r\n                                addClass += ' picker-calendar-day-next';\r\n                                dayDate = new Date(month + 1 > 11 ? year + 1 : year, month + 1 > 11 ? 0 : month + 1, dayNumber).getTime();\r\n                            }\r\n                            else {\r\n                                dayDate = new Date(year, month, dayNumber).getTime();\r\n                            }\r\n                        }\r\n                        // Today\r\n                        if (dayDate === today) addClass += ' picker-calendar-day-today';\r\n                        // Selected\r\n                        if (p.params.rangePicker && currentValues.length === 2) {\r\n                            if (dayDate >= currentValues[0] && dayDate <= currentValues[1]) addClass += ' picker-calendar-day-selected';\r\n                        }\r\n                        else {\r\n                            if (currentValues.indexOf(dayDate) >= 0) addClass += ' picker-calendar-day-selected';\r\n                        }\r\n                        // Weekend\r\n                        if (p.params.weekendDays.indexOf(weekDayIndex) >= 0) {\r\n                            addClass += ' picker-calendar-day-weekend';\r\n                        }\r\n                        // Has Events\r\n                        hasEvent = false;\r\n                        if (p.params.events) {\r\n                            if (p.dateInRange(dayDate, p.params.events)) {\r\n                                hasEvent = true;\r\n                            }\r\n                        }\r\n                        if (hasEvent) {\r\n                            addClass += ' picker-calendar-day-has-events';\r\n                        }\r\n                        // Custom Ranges\r\n                        if (p.params.rangesClasses) {\r\n                            for (k = 0; k < p.params.rangesClasses.length; k++) {\r\n                                if (p.dateInRange(dayDate, p.params.rangesClasses[k].range)) {\r\n                                    addClass += ' ' + p.params.rangesClasses[k].cssClass;\r\n                                }\r\n                            }\r\n                        }\r\n                        // Disabled\r\n                        disabled = false;\r\n                        if ((minDate && dayDate < minDate) || (maxDate && dayDate > maxDate)) {\r\n                            disabled = true;\r\n                        }\r\n                        if (p.params.disabled) {\r\n                            if (p.dateInRange(dayDate, p.params.disabled)) {\r\n                                disabled = true;\r\n                            }\r\n                        }\r\n                        if (disabled) {\r\n                            addClass += ' picker-calendar-day-disabled';\r\n                        }\r\n        \r\n        \r\n                        dayDate = new Date(dayDate);\r\n                        var dayYear = dayDate.getFullYear();\r\n                        var dayMonth = dayDate.getMonth();\r\n                        rowHTML += '<div data-year=\"' + dayYear + '\" data-month=\"' + dayMonth + '\" data-day=\"' + dayNumber + '\" class=\"picker-calendar-day' + (addClass) + '\" data-date=\"' + (dayYear + '-' + dayMonth + '-' + dayNumber) + '\"><span>'+dayNumber+'</span></div>';\r\n                    }\r\n                    monthHTML += '<div class=\"picker-calendar-row\">' + rowHTML + '</div>';\r\n                }\r\n                monthHTML = '<div class=\"picker-calendar-month\" data-year=\"' + year + '\" data-month=\"' + month + '\">' + monthHTML + '</div>';\r\n                return monthHTML;\r\n            };\r\n            p.animating = false;\r\n            p.updateCurrentMonthYear = function (dir) {\r\n                if (typeof dir === 'undefined') {\r\n                    p.currentMonth = parseInt(p.months.eq(1).attr('data-month'), 10);\r\n                    p.currentYear = parseInt(p.months.eq(1).attr('data-year'), 10);\r\n                }\r\n                else {\r\n                    p.currentMonth = parseInt(p.months.eq(dir === 'next' ? (p.months.length - 1) : 0).attr('data-month'), 10);\r\n                    p.currentYear = parseInt(p.months.eq(dir === 'next' ? (p.months.length - 1) : 0).attr('data-year'), 10);\r\n                }\r\n                p.container.find('.current-month-value').text(p.params.monthNames[p.currentMonth]);\r\n                p.container.find('.current-year-value').text(p.currentYear);\r\n        \r\n            };\r\n            p.onMonthChangeStart = function (dir) {\r\n                p.updateCurrentMonthYear(dir);\r\n                p.months.removeClass('picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next');\r\n                var currentIndex = dir === 'next' ? p.months.length - 1 : 0;\r\n        \r\n                p.months.eq(currentIndex).addClass('picker-calendar-month-current');\r\n                p.months.eq(dir === 'next' ? currentIndex - 1 : currentIndex + 1).addClass(dir === 'next' ? 'picker-calendar-month-prev' : 'picker-calendar-month-next');\r\n        \r\n                if (p.params.onMonthYearChangeStart) {\r\n                    p.params.onMonthYearChangeStart(p, p.currentYear, p.currentMonth);\r\n                }\r\n            };\r\n            p.onMonthChangeEnd = function (dir, rebuildBoth) {\r\n                p.animating = false;\r\n                var nextMonthHTML, prevMonthHTML, newMonthHTML;\r\n                p.wrapper.find('.picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)').remove();\r\n        \r\n                if (typeof dir === 'undefined') {\r\n                    dir = 'next';\r\n                    rebuildBoth = true;\r\n                }\r\n                if (!rebuildBoth) {\r\n                    newMonthHTML = p.monthHTML(new Date(p.currentYear, p.currentMonth), dir);\r\n                }\r\n                else {\r\n                    p.wrapper.find('.picker-calendar-month-next, .picker-calendar-month-prev').remove();\r\n                    prevMonthHTML = p.monthHTML(new Date(p.currentYear, p.currentMonth), 'prev');\r\n                    nextMonthHTML = p.monthHTML(new Date(p.currentYear, p.currentMonth), 'next');\r\n                }\r\n                if (dir === 'next' || rebuildBoth) {\r\n                    p.wrapper.append(newMonthHTML || nextMonthHTML);\r\n                }\r\n                if (dir === 'prev' || rebuildBoth) {\r\n                    p.wrapper.prepend(newMonthHTML || prevMonthHTML);\r\n                }\r\n                p.months = p.wrapper.find('.picker-calendar-month');\r\n                p.setMonthsTranslate(p.monthsTranslate);\r\n                if (p.params.onMonthAdd) {\r\n                    p.params.onMonthAdd(p, dir === 'next' ? p.months.eq(p.months.length - 1)[0] : p.months.eq(0)[0]);\r\n                }\r\n                if (p.params.onMonthYearChangeEnd) {\r\n                    p.params.onMonthYearChangeEnd(p, p.currentYear, p.currentMonth);\r\n                }\r\n            };\r\n            p.setMonthsTranslate = function (translate) {\r\n                translate = translate || p.monthsTranslate || 0;\r\n                if (typeof p.monthsTranslate === 'undefined') p.monthsTranslate = translate;\r\n                p.months.removeClass('picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next');\r\n                var prevMonthTranslate = -(translate + 1) * 100 * inverter;\r\n                var currentMonthTranslate = -translate * 100 * inverter;\r\n                var nextMonthTranslate = -(translate - 1) * 100 * inverter;\r\n                p.months.eq(0).transform('translate3d(' + (p.isH ? prevMonthTranslate : 0) + '%, ' + (p.isH ? 0 : prevMonthTranslate) + '%, 0)').addClass('picker-calendar-month-prev');\r\n                p.months.eq(1).transform('translate3d(' + (p.isH ? currentMonthTranslate : 0) + '%, ' + (p.isH ? 0 : currentMonthTranslate) + '%, 0)').addClass('picker-calendar-month-current');\r\n                p.months.eq(2).transform('translate3d(' + (p.isH ? nextMonthTranslate : 0) + '%, ' + (p.isH ? 0 : nextMonthTranslate) + '%, 0)').addClass('picker-calendar-month-next');\r\n            };\r\n            p.nextMonth = function (transition) {\r\n                if (typeof transition === 'undefined' || typeof transition === 'object') {\r\n                    transition = '';\r\n                    if (!p.params.animate) transition = 0;\r\n                }\r\n                var nextMonth = parseInt(p.months.eq(p.months.length - 1).attr('data-month'), 10);\r\n                var nextYear = parseInt(p.months.eq(p.months.length - 1).attr('data-year'), 10);\r\n                var nextDate = new Date(nextYear, nextMonth);\r\n                var nextDateTime = nextDate.getTime();\r\n                var transitionEndCallback = p.animating ? false : true;\r\n                if (p.params.maxDate) {\r\n                    if (nextDateTime > new Date(p.params.maxDate).getTime()) {\r\n                        return p.resetMonth();\r\n                    }\r\n                }\r\n                p.monthsTranslate --;\r\n                if (nextMonth === p.currentMonth) {\r\n                    var nextMonthTranslate = -(p.monthsTranslate) * 100 * inverter;\r\n                    var nextMonthHTML = $(p.monthHTML(nextDateTime, 'next')).transform('translate3d(' + (p.isH ? nextMonthTranslate : 0) + '%, ' + (p.isH ? 0 : nextMonthTranslate) + '%, 0)').addClass('picker-calendar-month-next');\r\n                    p.wrapper.append(nextMonthHTML[0]);\r\n                    p.months = p.wrapper.find('.picker-calendar-month');\r\n                    if (p.params.onMonthAdd) {\r\n                        p.params.onMonthAdd(p, p.months.eq(p.months.length - 1)[0]);\r\n                    }\r\n                }\r\n                p.animating = true;\r\n                p.onMonthChangeStart('next');\r\n                var translate = (p.monthsTranslate * 100) * inverter;\r\n        \r\n                p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? translate : 0) + '%, ' + (p.isH ? 0 : translate) + '%, 0)');\r\n                if (transitionEndCallback) {\r\n                    p.wrapper.transitionEnd(function () {\r\n                        p.onMonthChangeEnd('next');\r\n                    });\r\n                }\r\n                if (!p.params.animate) {\r\n                    p.onMonthChangeEnd('next');\r\n                }\r\n            };\r\n            p.prevMonth = function (transition) {\r\n                if (typeof transition === 'undefined' || typeof transition === 'object') {\r\n                    transition = '';\r\n                    if (!p.params.animate) transition = 0;\r\n                }\r\n                var prevMonth = parseInt(p.months.eq(0).attr('data-month'), 10);\r\n                var prevYear = parseInt(p.months.eq(0).attr('data-year'), 10);\r\n                var prevDate = new Date(prevYear, prevMonth + 1, -1);\r\n                var prevDateTime = prevDate.getTime();\r\n                var transitionEndCallback = p.animating ? false : true;\r\n                if (p.params.minDate) {\r\n                    if (prevDateTime < new Date(p.params.minDate).getTime()) {\r\n                        return p.resetMonth();\r\n                    }\r\n                }\r\n                p.monthsTranslate ++;\r\n                if (prevMonth === p.currentMonth) {\r\n                    var prevMonthTranslate = -(p.monthsTranslate) * 100 * inverter;\r\n                    var prevMonthHTML = $(p.monthHTML(prevDateTime, 'prev')).transform('translate3d(' + (p.isH ? prevMonthTranslate : 0) + '%, ' + (p.isH ? 0 : prevMonthTranslate) + '%, 0)').addClass('picker-calendar-month-prev');\r\n                    p.wrapper.prepend(prevMonthHTML[0]);\r\n                    p.months = p.wrapper.find('.picker-calendar-month');\r\n                    if (p.params.onMonthAdd) {\r\n                        p.params.onMonthAdd(p, p.months.eq(0)[0]);\r\n                    }\r\n                }\r\n                p.animating = true;\r\n                p.onMonthChangeStart('prev');\r\n                var translate = (p.monthsTranslate * 100) * inverter;\r\n                p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? translate : 0) + '%, ' + (p.isH ? 0 : translate) + '%, 0)');\r\n                if (transitionEndCallback) {\r\n                    p.wrapper.transitionEnd(function () {\r\n                        p.onMonthChangeEnd('prev');\r\n                    });\r\n                }\r\n                if (!p.params.animate) {\r\n                    p.onMonthChangeEnd('prev');\r\n                }\r\n            };\r\n            p.resetMonth = function (transition) {\r\n                if (typeof transition === 'undefined') transition = '';\r\n                var translate = (p.monthsTranslate * 100) * inverter;\r\n                p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? translate : 0) + '%, ' + (p.isH ? 0 : translate) + '%, 0)');\r\n            };\r\n            p.setYearMonth = function (year, month, transition) {\r\n                if (typeof year === 'undefined') year = p.currentYear;\r\n                if (typeof month === 'undefined') month = p.currentMonth;\r\n                if (typeof transition === 'undefined' || typeof transition === 'object') {\r\n                    transition = '';\r\n                    if (!p.params.animate) transition = 0;\r\n                }\r\n                var targetDate;\r\n                if (year < p.currentYear) {\r\n                    targetDate = new Date(year, month + 1, -1).getTime();\r\n                }\r\n                else {\r\n                    targetDate = new Date(year, month).getTime();\r\n                }\r\n                if (p.params.maxDate && targetDate > new Date(p.params.maxDate).getTime()) {\r\n                    return false;\r\n                }\r\n                if (p.params.minDate && targetDate < new Date(p.params.minDate).getTime()) {\r\n                    return false;\r\n                }\r\n                var currentDate = new Date(p.currentYear, p.currentMonth).getTime();\r\n                var dir = targetDate > currentDate ? 'next' : 'prev';\r\n                var newMonthHTML = p.monthHTML(new Date(year, month));\r\n                p.monthsTranslate = p.monthsTranslate || 0;\r\n                var prevTranslate = p.monthsTranslate;\r\n                var monthTranslate, wrapperTranslate;\r\n                var transitionEndCallback = p.animating ? false : true;\r\n                if (targetDate > currentDate) {\r\n                    // To next\r\n                    p.monthsTranslate --;\r\n                    if (!p.animating) p.months.eq(p.months.length - 1).remove();\r\n                    p.wrapper.append(newMonthHTML);\r\n                    p.months = p.wrapper.find('.picker-calendar-month');\r\n                    monthTranslate = -(prevTranslate - 1) * 100 * inverter;\r\n                    p.months.eq(p.months.length - 1).transform('translate3d(' + (p.isH ? monthTranslate : 0) + '%, ' + (p.isH ? 0 : monthTranslate) + '%, 0)').addClass('picker-calendar-month-next');\r\n                }\r\n                else {\r\n                    // To prev\r\n                    p.monthsTranslate ++;\r\n                    if (!p.animating) p.months.eq(0).remove();\r\n                    p.wrapper.prepend(newMonthHTML);\r\n                    p.months = p.wrapper.find('.picker-calendar-month');\r\n                    monthTranslate = -(prevTranslate + 1) * 100 * inverter;\r\n                    p.months.eq(0).transform('translate3d(' + (p.isH ? monthTranslate : 0) + '%, ' + (p.isH ? 0 : monthTranslate) + '%, 0)').addClass('picker-calendar-month-prev');\r\n                }\r\n                if (p.params.onMonthAdd) {\r\n                    p.params.onMonthAdd(p, dir === 'next' ? p.months.eq(p.months.length - 1)[0] : p.months.eq(0)[0]);\r\n                }\r\n                p.animating = true;\r\n                p.onMonthChangeStart(dir);\r\n                wrapperTranslate = (p.monthsTranslate * 100) * inverter;\r\n                p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? wrapperTranslate : 0) + '%, ' + (p.isH ? 0 : wrapperTranslate) + '%, 0)');\r\n                if (transitionEndCallback) {\r\n                   p.wrapper.transitionEnd(function () {\r\n                        p.onMonthChangeEnd(dir, true);\r\n                    });\r\n                }\r\n                if (!p.params.animate) {\r\n                    p.onMonthChangeEnd(dir);\r\n                }\r\n            };\r\n            p.nextYear = function () {\r\n                p.setYearMonth(p.currentYear + 1);\r\n            };\r\n            p.prevYear = function () {\r\n                p.setYearMonth(p.currentYear - 1);\r\n            };\r\n        \r\n        \r\n            // HTML Layout\r\n            p.layout = function () {\r\n                var pickerHTML = '';\r\n                var pickerClass = '';\r\n                var i;\r\n        \r\n                var layoutDate = p.value && p.value.length ? p.value[0] : new Date().setHours(0,0,0,0);\r\n                var prevMonthHTML = p.monthHTML(layoutDate, 'prev');\r\n                var currentMonthHTML = p.monthHTML(layoutDate);\r\n                var nextMonthHTML = p.monthHTML(layoutDate, 'next');\r\n                var monthsHTML = '<div class=\"picker-calendar-months\"><div class=\"picker-calendar-months-wrapper\">' + (prevMonthHTML + currentMonthHTML + nextMonthHTML) + '</div></div>';\r\n                // Week days header\r\n                var weekHeaderHTML = '';\r\n                if (p.params.weekHeader) {\r\n                    for (i = 0; i < 7; i++) {\r\n                        var weekDayIndex = (i + p.params.firstDay > 6) ? (i - 7 + p.params.firstDay) : (i + p.params.firstDay);\r\n                        var dayName = p.params.dayNamesShort[weekDayIndex];\r\n                        weekHeaderHTML += '<div class=\"picker-calendar-week-day ' + ((p.params.weekendDays.indexOf(weekDayIndex) >= 0) ? 'picker-calendar-week-day-weekend' : '') + '\"> ' + dayName + '</div>';\r\n        \r\n                    }\r\n                    weekHeaderHTML = '<div class=\"picker-calendar-week-days\">' + weekHeaderHTML + '</div>';\r\n                }\r\n                pickerClass = 'picker-modal picker-calendar' +\r\n                            (p.params.rangePicker ? ' picker-calendar-range' : '') +\r\n                            (p.params.cssClass ? ' ' + p.params.cssClass : '');\r\n                var toolbarHTML = p.params.toolbar ? p.params.toolbarTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText) : '';\r\n                if (p.params.toolbar) {\r\n                    toolbarHTML = p.params.toolbarTemplate\r\n                        .replace(/{{closeText}}/g, p.params.toolbarCloseText)\r\n                        .replace(/{{monthPicker}}/g, (p.params.monthPicker ? p.params.monthPickerTemplate : ''))\r\n                        .replace(/{{yearPicker}}/g, (p.params.yearPicker ? p.params.yearPickerTemplate : ''));\r\n                }\r\n                var headerHTML = p.params.header ? p.params.headerTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText).replace(/{{placeholder}}/g, p.params.headerPlaceholder) : '';\r\n                var footerHTML = p.params.footer ? p.params.footerTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText) : '';\r\n        \r\n                pickerHTML =\r\n                    '<div class=\"' + (pickerClass) + '\">' +\r\n                        headerHTML +\r\n                        footerHTML +\r\n                        toolbarHTML +\r\n                        '<div class=\"picker-modal-inner\">' +\r\n                            weekHeaderHTML +\r\n                            monthsHTML +\r\n                        '</div>' +\r\n                    '</div>';\r\n        \r\n        \r\n                p.pickerHTML = pickerHTML;\r\n            };\r\n        \r\n            // Input Events\r\n            function openOnInput(e) {\r\n                e.preventDefault();\r\n                if (p.opened) return;\r\n                p.open();\r\n                if (p.params.scrollToInput && !isPopover() && !app.params.material) {\r\n                    var pageContent = p.input.parents('.page-content');\r\n                    if (pageContent.length === 0) return;\r\n        \r\n                    var paddingTop = parseInt(pageContent.css('padding-top'), 10),\r\n                        paddingBottom = parseInt(pageContent.css('padding-bottom'), 10),\r\n                        pageHeight = pageContent[0].offsetHeight - paddingTop - p.container.height(),\r\n                        pageScrollHeight = pageContent[0].scrollHeight - paddingTop - p.container.height(),\r\n                        newPaddingBottom;\r\n        \r\n                    var inputTop = p.input.offset().top - paddingTop + p.input[0].offsetHeight;\r\n                    if (inputTop > pageHeight) {\r\n                        var scrollTop = pageContent.scrollTop() + inputTop - pageHeight;\r\n                        if (scrollTop + pageHeight > pageScrollHeight) {\r\n                            newPaddingBottom = scrollTop + pageHeight - pageScrollHeight + paddingBottom;\r\n                            if (pageHeight === pageScrollHeight) {\r\n                                newPaddingBottom = p.container.height();\r\n                            }\r\n                            pageContent.css({'padding-bottom': (newPaddingBottom) + 'px'});\r\n                        }\r\n                        pageContent.scrollTop(scrollTop, 300);\r\n                    }\r\n                }\r\n            }\r\n            function closeOnHTMLClick(e) {\r\n                if (inPopover()) return;\r\n                if (p.input && p.input.length > 0) {\r\n                    if (e.target !== p.input[0] && $(e.target).parents('.picker-modal').length === 0) p.close();\r\n                }\r\n                else {\r\n                    if ($(e.target).parents('.picker-modal').length === 0) p.close();\r\n                }\r\n            }\r\n        \r\n            if (p.params.input) {\r\n                p.input = $(p.params.input);\r\n                if (p.input.length > 0) {\r\n                    if (p.params.inputReadOnly) p.input.prop('readOnly', true);\r\n                    if (!p.inline) {\r\n                        p.input.on('click', openOnInput);\r\n                    }\r\n                    if (p.params.inputReadOnly) {\r\n                        p.input.on('focus mousedown', function (e) {\r\n                            e.preventDefault();\r\n                        });\r\n                    }\r\n                }\r\n        \r\n            }\r\n        \r\n            if (!p.inline && p.params.closeByOutsideClick) $('html').on('click', closeOnHTMLClick);\r\n        \r\n            // Open\r\n            function onPickerClose() {\r\n                p.opened = false;\r\n                if (p.input && p.input.length > 0) {\r\n                    p.input.parents('.page-content').css({'padding-bottom': ''});\r\n                    if (app.params.material) p.input.trigger('blur');\r\n                }\r\n                if (p.params.onClose) p.params.onClose(p);\r\n        \r\n                // Destroy events\r\n                p.destroyCalendarEvents();\r\n            }\r\n        \r\n            p.opened = false;\r\n            p.open = function () {\r\n                var toPopover = isPopover();\r\n                var updateValue = false;\r\n                if (!p.opened) {\r\n                    // Set date value\r\n                    if (!p.value) {\r\n                        if (p.params.value) {\r\n                            p.value = p.params.value;\r\n                            updateValue = true;\r\n                        }\r\n                    }\r\n        \r\n                    // Layout\r\n                    p.layout();\r\n        \r\n                    // Append\r\n                    if (toPopover) {\r\n                        p.pickerHTML = '<div class=\"popover popover-picker-calendar\"><div class=\"popover-inner\">' + p.pickerHTML + '</div></div>';\r\n                        p.popover = app.popover(p.pickerHTML, p.params.input, true);\r\n                        p.container = $(p.popover).find('.picker-modal');\r\n                        $(p.popover).on('popover:close', function () {\r\n                            onPickerClose();\r\n                        });\r\n                    }\r\n                    else if (p.inline) {\r\n                        p.container = $(p.pickerHTML);\r\n                        p.container.addClass('picker-modal-inline');\r\n                        $(p.params.container).append(p.container);\r\n                    }\r\n                    else {\r\n                        p.container = $(app.pickerModal(p.pickerHTML));\r\n                        $(p.container)\r\n                        .on('picker:close', function () {\r\n                            onPickerClose();\r\n                        });\r\n                    }\r\n        \r\n                    // Store calendar instance\r\n                    p.container[0].f7Calendar = p;\r\n                    p.wrapper = p.container.find('.picker-calendar-months-wrapper');\r\n        \r\n                    // Months\r\n                    p.months = p.wrapper.find('.picker-calendar-month');\r\n        \r\n                    // Update current month and year\r\n                    p.updateCurrentMonthYear();\r\n        \r\n                    // Set initial translate\r\n                    p.monthsTranslate = 0;\r\n                    p.setMonthsTranslate();\r\n        \r\n                    // Init events\r\n                    p.initCalendarEvents();\r\n        \r\n                    // Update input value\r\n                    if (updateValue) p.updateValue();\r\n                    else if (app.params.material && p.value) p.updateValue(true);\r\n        \r\n                    // Material Focus\r\n                    if (p.input && p.input.length > 0 && app.params.material) {\r\n                        p.input.trigger('focus');\r\n                    }\r\n        \r\n                }\r\n        \r\n                // Set flag\r\n                p.opened = true;\r\n                p.initialized = true;\r\n                if (p.params.onMonthAdd) {\r\n                    p.months.each(function () {\r\n                        p.params.onMonthAdd(p, this);\r\n                    });\r\n                }\r\n                if (p.params.onOpen) p.params.onOpen(p);\r\n            };\r\n        \r\n            // Close\r\n            p.close = function () {\r\n                if (!p.opened || p.inline) return;\r\n                if (inPopover()) {\r\n                    app.closeModal(p.popover);\r\n                    return;\r\n                }\r\n                else {\r\n                    app.closeModal(p.container);\r\n                    return;\r\n                }\r\n            };\r\n        \r\n            // Destroy\r\n            p.destroy = function () {\r\n                p.close();\r\n                if (p.params.input && p.input.length > 0) {\r\n                    p.input.off('click focus', openOnInput);\r\n                }\r\n                $('html').off('click', closeOnHTMLClick);\r\n            };\r\n        \r\n            if (p.inline) {\r\n                p.open();\r\n            }\r\n            else {\r\n                if (!p.initialized && p.params.value) p.setValue(p.params.value);\r\n            }\r\n        \r\n            return p;\r\n        };\r\n        app.calendar = function (params) {\r\n            return new Calendar(params);\r\n        };\r\n        \n\n        /*======================================================\r\n        ************   Notifications   ************\r\n        ======================================================*/\r\n        var _tempNotificationElement;\r\n        app.addNotification = function (params) {\r\n            if (!params) return;\r\n            \r\n            if (typeof params.media === 'undefined') params.media = app.params.notificationMedia;\r\n            if (typeof params.title === 'undefined') params.title = app.params.notificationTitle;\r\n            if (typeof params.subtitle === 'undefined') params.subtitle = app.params.notificationSubtitle;\r\n            if (typeof params.closeIcon === 'undefined') params.closeIcon = app.params.notificationCloseIcon;\r\n            if (typeof params.hold === 'undefined') params.hold = app.params.notificationHold;\r\n            if (typeof params.closeOnClick === 'undefined') params.closeOnClick = app.params.notificationCloseOnClick;\r\n            if (typeof params.button === 'undefined') params.button = app.params.notificationCloseButtonText && {\r\n                text: app.params.notificationCloseButtonText,\r\n                close: true\r\n            };\r\n        \r\n            if (!_tempNotificationElement) _tempNotificationElement = document.createElement('div');\r\n        \r\n            params.material = app.params.material;\r\n        \r\n            var container = $('.notifications');\r\n            if (container.length === 0) {\r\n                app.root.append('<div class=\"notifications list-block' + (params.material ? '' : ' media-list') + '\"><ul></ul></div>');\r\n                container = $('.notifications');\r\n            }\r\n            var list = container.children('ul');\r\n            \r\n            var notificationTemplate = app.params.notificationTemplate || \r\n                '{{#if custom}}' +\r\n                '<li>{{custom}}</li>' +\r\n                '{{else}}' +\r\n                '<li class=\"notification-item notification-hidden\">' +\r\n                    '<div class=\"item-content\">' +\r\n                        '{{#if material}}' +\r\n                            '<div class=\"item-inner\">' +\r\n                                '<div class=\"item-title\">{{js \"this.message || this.title || this.subtitle\"}}</div>' +\r\n                                '{{#if ../button}}{{#button}}' +\r\n                                '<div class=\"item-after\">' +\r\n                                    '<a href=\"#\" class=\"button {{#if color}}color-{{color}}{{/if}} {{#js_compare \"this.close !== false\"}}close-notification{{/js_compare}}\">{{text}}</a>' +\r\n                                '</div>' +\r\n                                '{{/button}}{{/if}}' +\r\n                            '</div>' +\r\n                        '{{else}}' +\r\n                            '{{#if media}}' +\r\n                            '<div class=\"item-media\">{{media}}</div>' +\r\n                            '{{/if}}' +\r\n                            '<div class=\"item-inner\">' +\r\n                                '<div class=\"item-title-row\">' +\r\n                                    '{{#if title}}' +\r\n                                    '<div class=\"item-title\">{{title}}</div>' +\r\n                                    '{{/if}}' +\r\n                                    '{{#if closeIcon}}' +\r\n                                    '<div class=\"item-after\"><a href=\"#\" class=\"close-notification\"><span></span></a></div>' +\r\n                                    '{{/if}}' +\r\n                                '</div>' +\r\n                                '{{#if subtitle}}' +\r\n                                '<div class=\"item-subtitle\">{{subtitle}}</div>' +\r\n                                '{{/if}}' +\r\n                                '{{#if message}}' +\r\n                                '<div class=\"item-text\">{{message}}</div>' +\r\n                                '</div>' +\r\n                            '{{/if}}' +\r\n                        '{{/if}}' +\r\n                    '</div>' +\r\n                '</li>' +\r\n                '{{/if}}';\r\n            if (!app._compiledTemplates.notification) {\r\n                app._compiledTemplates.notification = t7.compile(notificationTemplate);\r\n            }\r\n            _tempNotificationElement.innerHTML = app._compiledTemplates.notification(params);\r\n        \r\n            var item = $(_tempNotificationElement).children();\r\n        \r\n            item.on('click', function (e) {\r\n                var close = false;\r\n                var target = $(e.target);\r\n                if (params.material && target.hasClass('button')) {\r\n                    if (params.button && params.button.onClick) params.button.onClick.call(target[0], e, item[0]);\r\n                }\r\n                if (target.is('.close-notification') || $(e.target).parents('.close-notification').length > 0) {\r\n                    close = true;\r\n                }\r\n                else {\r\n                    if (params.onClick) params.onClick(e, item[0]);\r\n                    if (params.closeOnClick) close = true;\r\n                }\r\n                if (close) app.closeNotification(item[0]);\r\n            });\r\n            if (params.onClose) {\r\n                item.data('f7NotificationOnClose', function () {\r\n                    params.onClose(item[0]);\r\n                });\r\n            }\r\n            if (params.additionalClass) {\r\n                item.addClass(params.additionalClass);\r\n            }\r\n            if (params.hold) {\r\n                setTimeout(function () {\r\n                    if (item.length > 0) app.closeNotification(item[0]);\r\n                }, params.hold);\r\n            }\r\n        \r\n            if (!app.params.material) {\r\n                app.closeNotification(list.children('li.notification-item:last-child'));\r\n            }\r\n            list.append(item[0]);\r\n            container.show();\r\n        \r\n            var itemHeight = item.outerHeight(), clientLeft;\r\n            if (params.material) {\r\n                container.transform('translate3d(0, '+itemHeight+'px, 0)');\r\n                container.transition(0);\r\n        \r\n                clientLeft = item[0].clientLeft;\r\n        \r\n                container.transform('translate3d(0, 0, 0)');\r\n                container.transition('');\r\n            }\r\n            else {\r\n                item.transform('translate3d(0,' + (-itemHeight) + 'px,0)');\r\n                item.transition(0);\r\n        \r\n                clientLeft = item[0].clientLeft;\r\n        \r\n                item.transition('');\r\n                item.transform('translate3d(0,0px,0)');\r\n            }\r\n        \r\n            container.transform('translate3d(0, 0,0)');\r\n            item.removeClass('notification-hidden');\r\n        \r\n            return item[0];\r\n        };\r\n        app.closeNotification = function (item) {\r\n            item = $(item);\r\n            if (item.length === 0) return;\r\n            if (item.hasClass('notification-item-removing')) return;\r\n            var container = $('.notifications');\r\n        \r\n            var itemHeight = item.outerHeight();\r\n            item.css('height', itemHeight + 'px').transition(0).addClass('notification-item-removing');\r\n            var clientLeft = item[0].clientLeft;\r\n        \r\n            item.css({\r\n                height: '0px',\r\n                marginBottom: '0px'\r\n            }).transition('');\r\n        \r\n            if (item.data('f7NotificationOnClose')) item.data('f7NotificationOnClose')();\r\n        \r\n            if (container.find('.notification-item:not(.notification-item-removing)').length === 0) {\r\n                container.transform('');\r\n            }\r\n        \r\n            item.addClass('notification-hidden').transitionEnd(function () {\r\n                item.remove();\r\n                if (container.find('.notification-item').length === 0) {\r\n                    container.hide();\r\n                }\r\n            });\r\n        };\n\n        /*===========================\r\n        Compile Template7 Templates On App Init\r\n        ===========================*/\r\n        app.initTemplate7Templates = function () {\r\n            if (!window.Template7) return;\r\n            Template7.templates = Template7.templates || app.params.templates || {};\r\n            Template7.data = Template7.data || app.params.template7Data || {};\r\n            Template7.cache = Template7.cache || {};\r\n        \r\n            app.templates = Template7.templates;\r\n            app.template7Data = Template7.data;\r\n            app.template7Cache = Template7.cache;\r\n        \r\n            // Precompile templates on app init\r\n            if (!app.params.precompileTemplates) return;\r\n            $('script[type=\"text/template7\"]').each(function () {\r\n                var id = $(this).attr('id');\r\n                if (!id) return;\r\n                Template7.templates[id] = Template7.compile($(this).html());\r\n            });\r\n        };\r\n        \n\n        /*=======================================\r\n        ************   Plugins API   ************\r\n        =======================================*/\r\n        var _plugins = [];\r\n        app.initPlugins = function () {\r\n            // Initialize plugins\r\n            for (var plugin in app.plugins) {\r\n                var p = app.plugins[plugin](app, app.params[plugin]);\r\n                if (p) _plugins.push(p);\r\n            }\r\n        };\r\n        // Plugin Hooks\r\n        app.pluginHook = function (hook) {\r\n            for (var i = 0; i < _plugins.length; i++) {\r\n                if (_plugins[i].hooks && hook in _plugins[i].hooks) {\r\n                    _plugins[i].hooks[hook](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\r\n                }\r\n            }\r\n        };\r\n        // Prevented by plugin\r\n        app.pluginPrevent = function (action) {\r\n            var prevent = false;\r\n            for (var i = 0; i < _plugins.length; i++) {\r\n                if (_plugins[i].prevents && action in _plugins[i].prevents) {\r\n                    if (_plugins[i].prevents[action](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])) prevent = true;\r\n                }\r\n            }\r\n            return prevent;\r\n        };\r\n        // Preprocess content by plugin\r\n        app.pluginProcess = function (process, data) {\r\n            var processed = data;\r\n            for (var i = 0; i < _plugins.length; i++) {\r\n                if (_plugins[i].preprocess && process in _plugins[i].preprocess) {\r\n                    processed = _plugins[i].preprocess[process](data, arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]);\r\n                }\r\n            }\r\n            return processed;\r\n        };\r\n        \r\n        \n\n        /*======================================================\r\n        ************   App Init   ************\r\n        ======================================================*/\r\n        app.init = function () {\r\n            // Compile Template7 templates on app load\r\n            if (app.initTemplate7Templates) app.initTemplate7Templates();\r\n            \r\n            // Init Plugins\r\n            if (app.initPlugins) app.initPlugins();\r\n            \r\n            // Init Device\r\n            if (app.getDeviceInfo) app.getDeviceInfo();\r\n            \r\n            // Init Click events\r\n            if (app.initFastClicks && app.params.fastClicks) app.initFastClicks();\r\n            if (app.initClickEvents) app.initClickEvents();\r\n        \r\n            // Init each page callbacks\r\n            $('.page:not(.cached)').each(function () {\r\n                app.initPageWithCallback(this);\r\n            });\r\n        \r\n            // Init each navbar callbacks\r\n            $('.navbar:not(.cached)').each(function () {\r\n                app.initNavbarWithCallback(this); \r\n            });\r\n            \r\n            // Init resize events\r\n            if (app.initResize) app.initResize();\r\n        \r\n            // Init push state\r\n            if (app.initPushState && app.params.pushState) app.initPushState();\r\n        \r\n            // Init Live Swipeouts events\r\n            if (app.initSwipeout && app.params.swipeout) app.initSwipeout();\r\n        \r\n            // Init Live Sortable events\r\n            if (app.initSortable && app.params.sortable) app.initSortable();\r\n        \r\n            // Init Live Swipe Panels\r\n            if (app.initSwipePanels && (app.params.swipePanel || app.params.swipePanelOnlyClose)) app.initSwipePanels();\r\n            \r\n            // Init Material Inputs\r\n            if (app.params.material && app.initMaterialWatchInputs) app.initMaterialWatchInputs();\r\n            \r\n            // App Init callback\r\n            if (app.params.onAppInit) app.params.onAppInit();\r\n        \r\n            // Plugin app init hook\r\n            app.pluginHook('appInit');\r\n        };\r\n        if (app.params.init) app.init();\r\n        \n\n            //Return instance        \r\n            return app;\r\n        };\r\n        \n\n        /*===========================\r\n        Dom7 Library\r\n        ===========================*/\r\n        var Dom7 = (function () {\r\n            var Dom7 = function (arr) {\r\n                var _this = this, i = 0;\r\n                // Create array-like object\r\n                for (i = 0; i < arr.length; i++) {\r\n                    _this[i] = arr[i];\r\n                }\r\n                _this.length = arr.length;\r\n                // Return collection with methods\r\n                return this;\r\n            };\r\n            var $ = function (selector, context) {\r\n                var arr = [], i = 0;\r\n                if (selector && !context) {\r\n                    if (selector instanceof Dom7) {\r\n                        return selector;\r\n                    }\r\n                }\r\n                if (selector) {\r\n                    // String\r\n                    if (typeof selector === 'string') {\r\n                        var els, tempParent, html;\r\n                        selector = html = selector.trim();\r\n                        if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\r\n                            var toCreate = 'div';\r\n                            if (html.indexOf('<li') === 0) toCreate = 'ul';\r\n                            if (html.indexOf('<tr') === 0) toCreate = 'tbody';\r\n                            if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\r\n                            if (html.indexOf('<tbody') === 0) toCreate = 'table';\r\n                            if (html.indexOf('<option') === 0) toCreate = 'select';\r\n                            tempParent = document.createElement(toCreate);\r\n                            tempParent.innerHTML = html;\r\n                            for (i = 0; i < tempParent.childNodes.length; i++) {\r\n                                arr.push(tempParent.childNodes[i]);\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (!context && selector[0] === '#' && !selector.match(/[ .<>:~]/)) {\r\n                                // Pure ID selector\r\n                                els = [document.getElementById(selector.split('#')[1])];\r\n                            }\r\n                            else {\r\n                                // Other selectors\r\n                                els = (context || document).querySelectorAll(selector);\r\n                            }\r\n                            for (i = 0; i < els.length; i++) {\r\n                                if (els[i]) arr.push(els[i]);\r\n                            }\r\n                        }\r\n                    }\r\n                    // Node/element\r\n                    else if (selector.nodeType || selector === window || selector === document) {\r\n                        arr.push(selector);\r\n                    }\r\n                    //Array of elements or instance of Dom\r\n                    else if (selector.length > 0 && selector[0].nodeType) {\r\n                        for (i = 0; i < selector.length; i++) {\r\n                            arr.push(selector[i]);\r\n                        }\r\n                    }\r\n                }\r\n                return new Dom7(arr);\r\n            };\n\n        Dom7.prototype = {\r\n            // Classes and attriutes\r\n            addClass: function (className) {\r\n                if (typeof className === 'undefined') {\r\n                    return this;\r\n                }\r\n                var classes = className.split(' ');\r\n                for (var i = 0; i < classes.length; i++) {\r\n                    for (var j = 0; j < this.length; j++) {\r\n                        if (typeof this[j].classList !== 'undefined') this[j].classList.add(classes[i]);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            removeClass: function (className) {\r\n                var classes = className.split(' ');\r\n                for (var i = 0; i < classes.length; i++) {\r\n                    for (var j = 0; j < this.length; j++) {\r\n                        if (typeof this[j].classList !== 'undefined') this[j].classList.remove(classes[i]);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            hasClass: function (className) {\r\n                if (!this[0]) return false;\r\n                else return this[0].classList.contains(className);\r\n            },\r\n            toggleClass: function (className) {\r\n                var classes = className.split(' ');\r\n                for (var i = 0; i < classes.length; i++) {\r\n                    for (var j = 0; j < this.length; j++) {\r\n                        if (typeof this[j].classList !== 'undefined') this[j].classList.toggle(classes[i]);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            attr: function (attrs, value) {\r\n                if (arguments.length === 1 && typeof attrs === 'string') {\r\n                    // Get attr\r\n                    if (this[0]) return this[0].getAttribute(attrs);\r\n                    else return undefined;\r\n                }\r\n                else {\r\n                    // Set attrs\r\n                    for (var i = 0; i < this.length; i++) {\r\n                        if (arguments.length === 2) {\r\n                            // String\r\n                            this[i].setAttribute(attrs, value);\r\n                        }\r\n                        else {\r\n                            // Object\r\n                            for (var attrName in attrs) {\r\n                                this[i][attrName] = attrs[attrName];\r\n                                this[i].setAttribute(attrName, attrs[attrName]);\r\n                            }\r\n                        }\r\n                    }\r\n                    return this;\r\n                }\r\n            },\r\n            removeAttr: function (attr) {\r\n                for (var i = 0; i < this.length; i++) {\r\n                    this[i].removeAttribute(attr);\r\n                }\r\n                return this;\r\n            },\r\n            prop: function (props, value) {\r\n                if (arguments.length === 1 && typeof props === 'string') {\r\n                    // Get prop\r\n                    if (this[0]) return this[0][props];\r\n                    else return undefined;\r\n                }\r\n                else {\r\n                    // Set props\r\n                    for (var i = 0; i < this.length; i++) {\r\n                        if (arguments.length === 2) {\r\n                            // String\r\n                            this[i][props] = value;\r\n                        }\r\n                        else {\r\n                            // Object\r\n                            for (var propName in props) {\r\n                                this[i][propName] = props[propName];\r\n                            }\r\n                        }\r\n                    }\r\n                    return this;\r\n                }\r\n            },\r\n            data: function (key, value) {\r\n                if (typeof value === 'undefined') {\r\n                    // Get value\r\n                    if (this[0]) {\r\n                        if (this[0].dom7ElementDataStorage && (key in this[0].dom7ElementDataStorage)) {\r\n                            return this[0].dom7ElementDataStorage[key];\r\n                        }\r\n                        else {\r\n                            var dataKey = this[0].getAttribute('data-' + key);    \r\n                            if (dataKey) {\r\n                                return dataKey;\r\n                            }\r\n                            else return undefined;\r\n                        }\r\n                    }\r\n                    else return undefined;\r\n                }\r\n                else {\r\n                    // Set value\r\n                    for (var i = 0; i < this.length; i++) {\r\n                        var el = this[i];\r\n                        if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\r\n                        el.dom7ElementDataStorage[key] = value;\r\n                    }\r\n                    return this;\r\n                }\r\n            },\r\n            removeData: function(key) {\r\n                for (var i = 0; i < this.length; i++) {\r\n                    var el = this[i];\r\n                    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\r\n                        el.dom7ElementDataStorage[key] = null;\r\n                        delete el.dom7ElementDataStorage[key];\r\n                    }\r\n                }\r\n            },\r\n            dataset: function () {\r\n                var el = this[0];\r\n                if (el) {\r\n                    var dataset = {};\r\n                    if (el.dataset) {\r\n                        for (var dataKey in el.dataset) {\r\n                            dataset[dataKey] = el.dataset[dataKey];\r\n                        }\r\n                    }\r\n                    else {\r\n                        for (var i = 0; i < el.attributes.length; i++) {\r\n                            var attr = el.attributes[i];\r\n                            if (attr.name.indexOf('data-') >= 0) {\r\n                                dataset[$.toCamelCase(attr.name.split('data-')[1])] = attr.value;\r\n                            }\r\n                        }\r\n                    }\r\n                    for (var key in dataset) {\r\n                        if (dataset[key] === 'false') dataset[key] = false;\r\n                        else if (dataset[key] === 'true') dataset[key] = true;\r\n                        else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] = dataset[key] * 1;\r\n                    }\r\n                    return dataset;\r\n                }\r\n                else return undefined;\r\n            },\r\n            val: function (value) {\r\n                if (typeof value === 'undefined') {\r\n                    if (this[0]) {\r\n                        if (this[0].multiple && this[0].nodeName.toLowerCase() === 'select') {\r\n                            var values = [];\r\n                            for (var i = 0; i < this[0].selectedOptions.length; i++) {\r\n                                values.push(this[0].selectedOptions[i].value);\r\n                            }\r\n                            return values;\r\n                        }\r\n                        return this[0].value;\r\n                    }\r\n                    else return undefined;\r\n                }\r\n                else {\r\n                    for (var i = 0; i < this.length; i++) {\r\n                        this[i].value = value;\r\n                    }\r\n                    return this;\r\n                }\r\n            },\r\n            // Transforms\r\n            transform : function (transform) {\r\n                for (var i = 0; i < this.length; i++) {\r\n                    var elStyle = this[i].style;\r\n                    elStyle.webkitTransform = elStyle.MsTransform = elStyle.msTransform = elStyle.MozTransform = elStyle.OTransform = elStyle.transform = transform;\r\n                }\r\n                return this;\r\n            },\r\n            transition: function (duration) {\r\n                if (typeof duration !== 'string') {\r\n                    duration = duration + 'ms';\r\n                }\r\n                for (var i = 0; i < this.length; i++) {\r\n                    var elStyle = this[i].style;\r\n                    elStyle.webkitTransitionDuration = elStyle.MsTransitionDuration = elStyle.msTransitionDuration = elStyle.MozTransitionDuration = elStyle.OTransitionDuration = elStyle.transitionDuration = duration;\r\n                }\r\n                return this;\r\n            },\r\n            //Events\r\n            on: function (eventName, targetSelector, listener, capture) {\r\n                function handleLiveEvent(e) {\r\n                    var target = e.target;\r\n                    if ($(target).is(targetSelector)) listener.call(target, e);\r\n                    else {\r\n                        var parents = $(target).parents();\r\n                        for (var k = 0; k < parents.length; k++) {\r\n                            if ($(parents[k]).is(targetSelector)) listener.call(parents[k], e);\r\n                        }\r\n                    }\r\n                }\r\n                var events = eventName.split(' ');\r\n                var i, j;\r\n                for (i = 0; i < this.length; i++) {\r\n                    if (typeof targetSelector === 'function' || targetSelector === false) {\r\n                        // Usual events\r\n                        if (typeof targetSelector === 'function') {\r\n                            listener = arguments[1];\r\n                            capture = arguments[2] || false;\r\n                        }\r\n                        for (j = 0; j < events.length; j++) {\r\n                            this[i].addEventListener(events[j], listener, capture);\r\n                        }\r\n                    }\r\n                    else {\r\n                        //Live events\r\n                        for (j = 0; j < events.length; j++) {\r\n                            if (!this[i].dom7LiveListeners) this[i].dom7LiveListeners = [];\r\n                            this[i].dom7LiveListeners.push({listener: listener, liveListener: handleLiveEvent});\r\n                            this[i].addEventListener(events[j], handleLiveEvent, capture);\r\n                        }\r\n                    }\r\n                }\r\n        \r\n                return this;\r\n            },\r\n            off: function (eventName, targetSelector, listener, capture) {\r\n                var events = eventName.split(' ');\r\n                for (var i = 0; i < events.length; i++) {\r\n                    for (var j = 0; j < this.length; j++) {\r\n                        if (typeof targetSelector === 'function' || targetSelector === false) {\r\n                            // Usual events\r\n                            if (typeof targetSelector === 'function') {\r\n                                listener = arguments[1];\r\n                                capture = arguments[2] || false;\r\n                            }\r\n                            this[j].removeEventListener(events[i], listener, capture);\r\n                        }\r\n                        else {\r\n                            // Live event\r\n                            if (this[j].dom7LiveListeners) {\r\n                                for (var k = 0; k < this[j].dom7LiveListeners.length; k++) {\r\n                                    if (this[j].dom7LiveListeners[k].listener === listener) {\r\n                                        this[j].removeEventListener(events[i], this[j].dom7LiveListeners[k].liveListener, capture);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            once: function (eventName, targetSelector, listener, capture) {\r\n                var dom = this;\r\n                if (typeof targetSelector === 'function') {\r\n                    listener = arguments[1];\r\n                    capture = arguments[2];\r\n                    targetSelector = false;\r\n                }\r\n                function proxy(e) {\r\n                    listener.call(e.target, e);\r\n                    dom.off(eventName, targetSelector, proxy, capture);\r\n                }\r\n                return dom.on(eventName, targetSelector, proxy, capture);\r\n            },\r\n            trigger: function (eventName, eventData) {\r\n                var events = eventName.split(' ');\r\n                for (var i = 0; i < events.length; i++) {\r\n                    for (var j = 0; j < this.length; j++) {\r\n                        var evt;\r\n                        try {\r\n                            evt = new CustomEvent(events[i], {detail: eventData, bubbles: true, cancelable: true});\r\n                        }\r\n                        catch (e) {\r\n                            evt = document.createEvent('Event');\r\n                            evt.initEvent(events[i], true, true);\r\n                            evt.detail = eventData;\r\n                        }\r\n                        this[j].dispatchEvent(evt);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            transitionEnd: function (callback) {\r\n                var events = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'],\r\n                    i, j, dom = this;\r\n                function fireCallBack(e) {\r\n                    /*jshint validthis:true */\r\n                    if (e.target !== this) return;\r\n                    callback.call(this, e);\r\n                    for (i = 0; i < events.length; i++) {\r\n                        dom.off(events[i], fireCallBack);\r\n                    }\r\n                }\r\n                if (callback) {\r\n                    for (i = 0; i < events.length; i++) {\r\n                        dom.on(events[i], fireCallBack);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            animationEnd: function (callback) {\r\n                var events = ['webkitAnimationEnd', 'OAnimationEnd', 'MSAnimationEnd', 'animationend'],\r\n                    i, j, dom = this;\r\n                function fireCallBack(e) {\r\n                    callback(e);\r\n                    for (i = 0; i < events.length; i++) {\r\n                        dom.off(events[i], fireCallBack);\r\n                    }\r\n                }\r\n                if (callback) {\r\n                    for (i = 0; i < events.length; i++) {\r\n                        dom.on(events[i], fireCallBack);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            // Sizing/Styles\r\n            width: function () {\r\n                if (this[0] === window) {\r\n                    return window.innerWidth;\r\n                }\r\n                else {\r\n                    if (this.length > 0) {\r\n                        return parseFloat(this.css('width'));\r\n                    }\r\n                    else {\r\n                        return null;\r\n                    }\r\n                }\r\n            },\r\n            outerWidth: function (includeMargins) {\r\n                if (this.length > 0) {\r\n                    if (includeMargins) {\r\n                        var styles = this.styles();\r\n                        return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));    \r\n                    }\r\n                    else\r\n                        return this[0].offsetWidth;\r\n                }\r\n                else return null;\r\n            },\r\n            height: function () {\r\n                if (this[0] === window) {\r\n                    return window.innerHeight;\r\n                }\r\n                else {\r\n                    if (this.length > 0) {\r\n                        return parseFloat(this.css('height'));\r\n                    }\r\n                    else {\r\n                        return null;\r\n                    }\r\n                }\r\n            },\r\n            outerHeight: function (includeMargins) {\r\n                if (this.length > 0) {\r\n                    if (includeMargins) {\r\n                        var styles = this.styles();\r\n                        return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));    \r\n                    }\r\n                    else\r\n                        return this[0].offsetHeight;\r\n                }\r\n                else return null;\r\n            },\r\n            offset: function () {\r\n                if (this.length > 0) {\r\n                    var el = this[0];\r\n                    var box = el.getBoundingClientRect();\r\n                    var body = document.body;\r\n                    var clientTop  = el.clientTop  || body.clientTop  || 0;\r\n                    var clientLeft = el.clientLeft || body.clientLeft || 0;\r\n                    var scrollTop  = window.pageYOffset || el.scrollTop;\r\n                    var scrollLeft = window.pageXOffset || el.scrollLeft;\r\n                    return {\r\n                        top: box.top  + scrollTop  - clientTop,\r\n                        left: box.left + scrollLeft - clientLeft\r\n                    };\r\n                }\r\n                else {\r\n                    return null;\r\n                }\r\n            },\r\n            hide: function () {\r\n                for (var i = 0; i < this.length; i++) {\r\n                    this[i].style.display = 'none';\r\n                }\r\n                return this;\r\n            },\r\n            show: function () {\r\n                for (var i = 0; i < this.length; i++) {\r\n                    this[i].style.display = 'block';\r\n                }\r\n                return this;\r\n            },\r\n            styles: function () {\r\n                var i, styles;\r\n                if (this[0]) return window.getComputedStyle(this[0], null);\r\n                else return undefined;\r\n            },\r\n            css: function (props, value) {\r\n                var i;\r\n                if (arguments.length === 1) {\r\n                    if (typeof props === 'string') {\r\n                        if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\r\n                    }\r\n                    else {\r\n                        for (i = 0; i < this.length; i++) {\r\n                            for (var prop in props) {\r\n                                this[i].style[prop] = props[prop];\r\n                            }\r\n                        }\r\n                        return this;\r\n                    }\r\n                }\r\n                if (arguments.length === 2 && typeof props === 'string') {\r\n                    for (i = 0; i < this.length; i++) {\r\n                        this[i].style[props] = value;\r\n                    }\r\n                    return this;\r\n                }\r\n                return this;\r\n            },\r\n        \r\n            //Dom manipulation\r\n            each: function (callback) {\r\n                for (var i = 0; i < this.length; i++) {\r\n                    callback.call(this[i], i, this[i]);\r\n                }\r\n                return this;\r\n            },\r\n            filter: function (callback) {\r\n                var matchedItems = [];\r\n                var dom = this;\r\n                for (var i = 0; i < dom.length; i++) {\r\n                    if (callback.call(dom[i], i, dom[i])) matchedItems.push(dom[i]);\r\n                }\r\n                return new Dom7(matchedItems);\r\n            },\r\n            html: function (html) {\r\n                if (typeof html === 'undefined') {\r\n                    return this[0] ? this[0].innerHTML : undefined;\r\n                }\r\n                else {\r\n                    for (var i = 0; i < this.length; i++) {\r\n                        this[i].innerHTML = html;\r\n                    }\r\n                    return this;\r\n                }\r\n            },\r\n            text: function (text) {\r\n                if (typeof text === 'undefined') {\r\n                    if (this[0]) {\r\n                        return this[0].textContent.trim();\r\n                    }\r\n                    else return null;\r\n                }\r\n                else {\r\n                    for (var i = 0; i < this.length; i++) {\r\n                        this[i].textContent = text;\r\n                    }\r\n                    return this;\r\n                }\r\n            },\r\n            is: function (selector) {\r\n                if (!this[0] || typeof selector === 'undefined') return false;\r\n                var compareWith, i;\r\n                if (typeof selector === 'string') {\r\n                    var el = this[0];\r\n                    if (el === document) return selector === document;\r\n                    if (el === window) return selector === window;\r\n        \r\n                    if (el.matches) return el.matches(selector);\r\n                    else if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\r\n                    else if (el.mozMatchesSelector) return el.mozMatchesSelector(selector);\r\n                    else if (el.msMatchesSelector) return el.msMatchesSelector(selector);\r\n                    else {\r\n                        compareWith = $(selector);\r\n                        for (i = 0; i < compareWith.length; i++) {\r\n                            if (compareWith[i] === this[0]) return true;\r\n                        }\r\n                        return false;\r\n                    }\r\n                }\r\n                else if (selector === document) return this[0] === document;\r\n                else if (selector === window) return this[0] === window;\r\n                else {\r\n                    if (selector.nodeType || selector instanceof Dom7) {\r\n                        compareWith = selector.nodeType ? [selector] : selector;\r\n                        for (i = 0; i < compareWith.length; i++) {\r\n                            if (compareWith[i] === this[0]) return true;\r\n                        }\r\n                        return false;\r\n                    }\r\n                    return false;\r\n                }\r\n        \r\n            },\r\n            indexOf: function (el) {\r\n                for (var i = 0; i < this.length; i++) {\r\n                    if (this[i] === el) return i;\r\n                }\r\n            },\r\n            index: function () {\r\n                if (this[0]) {\r\n                    var child = this[0];\r\n                    var i = 0;\r\n                    while ((child = child.previousSibling) !== null) {\r\n                        if (child.nodeType === 1) i++;\r\n                    }\r\n                    return i;\r\n                }\r\n                else return undefined;\r\n            },\r\n            eq: function (index) {\r\n                if (typeof index === 'undefined') return this;\r\n                var length = this.length;\r\n                var returnIndex;\r\n                if (index > length - 1) {\r\n                    return new Dom7([]);\r\n                }\r\n                if (index < 0) {\r\n                    returnIndex = length + index;\r\n                    if (returnIndex < 0) return new Dom7([]);\r\n                    else return new Dom7([this[returnIndex]]);\r\n                }\r\n                return new Dom7([this[index]]);\r\n            },\r\n            append: function (newChild) {\r\n                var i, j;\r\n                for (i = 0; i < this.length; i++) {\r\n                    if (typeof newChild === 'string') {\r\n                        var tempDiv = document.createElement('div');\r\n                        tempDiv.innerHTML = newChild;\r\n                        while (tempDiv.firstChild) {\r\n                            this[i].appendChild(tempDiv.firstChild);\r\n                        }\r\n                    }\r\n                    else if (newChild instanceof Dom7) {\r\n                        for (j = 0; j < newChild.length; j++) {\r\n                            this[i].appendChild(newChild[j]);\r\n                        }\r\n                    }\r\n                    else {\r\n                        this[i].appendChild(newChild);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            appendTo: function (parent) {\r\n                $(parent).append(this);\r\n                return this;\r\n            },\r\n            prepend: function (newChild) {\r\n                var i, j;\r\n                for (i = 0; i < this.length; i++) {\r\n                    if (typeof newChild === 'string') {\r\n                        var tempDiv = document.createElement('div');\r\n                        tempDiv.innerHTML = newChild;\r\n                        for (j = tempDiv.childNodes.length - 1; j >= 0; j--) {\r\n                            this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\r\n                        }\r\n                        // this[i].insertAdjacentHTML('afterbegin', newChild);\r\n                    }\r\n                    else if (newChild instanceof Dom7) {\r\n                        for (j = 0; j < newChild.length; j++) {\r\n                            this[i].insertBefore(newChild[j], this[i].childNodes[0]);\r\n                        }\r\n                    }\r\n                    else {\r\n                        this[i].insertBefore(newChild, this[i].childNodes[0]);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            prependTo: function (parent) {\r\n                $(parent).prepend(this);\r\n                return this;\r\n            },\r\n            insertBefore: function (selector) {\r\n                var before = $(selector);\r\n                for (var i = 0; i < this.length; i++) {\r\n                    if (before.length === 1) {\r\n                        before[0].parentNode.insertBefore(this[i], before[0]);\r\n                    }\r\n                    else if (before.length > 1) {\r\n                        for (var j = 0; j < before.length; j++) {\r\n                            before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            insertAfter: function (selector) {\r\n                var after = $(selector);\r\n                for (var i = 0; i < this.length; i++) {\r\n                    if (after.length === 1) {\r\n                        after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\r\n                    }\r\n                    else if (after.length > 1) {\r\n                        for (var j = 0; j < after.length; j++) {\r\n                            after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            next: function (selector) {\r\n                if (this.length > 0) {\r\n                    if (selector) {\r\n                        if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) return new Dom7([this[0].nextElementSibling]);\r\n                        else return new Dom7([]);\r\n                    }\r\n                    else {\r\n                        if (this[0].nextElementSibling) return new Dom7([this[0].nextElementSibling]);\r\n                        else return new Dom7([]);\r\n                    }\r\n                }\r\n                else return new Dom7([]);\r\n            },\r\n            nextAll: function (selector) {\r\n                var nextEls = [];\r\n                var el = this[0];\r\n                if (!el) return new Dom7([]);\r\n                while (el.nextElementSibling) {\r\n                    var next = el.nextElementSibling;\r\n                    if (selector) {\r\n                        if($(next).is(selector)) nextEls.push(next);\r\n                    }\r\n                    else nextEls.push(next);\r\n                    el = next;\r\n                }\r\n                return new Dom7(nextEls);\r\n            },\r\n            prev: function (selector) {\r\n                if (this.length > 0) {\r\n                    if (selector) {\r\n                        if (this[0].previousElementSibling && $(this[0].previousElementSibling).is(selector)) return new Dom7([this[0].previousElementSibling]);\r\n                        else return new Dom7([]);\r\n                    }\r\n                    else {\r\n                        if (this[0].previousElementSibling) return new Dom7([this[0].previousElementSibling]);\r\n                        else return new Dom7([]);\r\n                    }\r\n                }\r\n                else return new Dom7([]);\r\n            },\r\n            prevAll: function (selector) {\r\n                var prevEls = [];\r\n                var el = this[0];\r\n                if (!el) return new Dom7([]);\r\n                while (el.previousElementSibling) {\r\n                    var prev = el.previousElementSibling;\r\n                    if (selector) {\r\n                        if($(prev).is(selector)) prevEls.push(prev);\r\n                    }\r\n                    else prevEls.push(prev);\r\n                    el = prev;\r\n                }\r\n                return new Dom7(prevEls);\r\n            },\r\n            siblings: function (selector) {\r\n                return this.nextAll(selector).add(this.prevAll(selector));\r\n            },\r\n            parent: function (selector) {\r\n                var parents = [];\r\n                for (var i = 0; i < this.length; i++) {\r\n                    if (this[i].parentNode !== null) {\r\n                        if (selector) {\r\n                            if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\r\n                        }\r\n                        else {\r\n                           parents.push(this[i].parentNode);\r\n                        }\r\n                    }\r\n                }\r\n                return $($.unique(parents));\r\n            },\r\n            parents: function (selector) {\r\n                var parents = [];\r\n                for (var i = 0; i < this.length; i++) {\r\n                    var parent = this[i].parentNode;\r\n                    while (parent) {\r\n                        if (selector) {\r\n                            if ($(parent).is(selector)) parents.push(parent);\r\n                        }\r\n                        else {\r\n                            parents.push(parent);\r\n                        }\r\n                        parent = parent.parentNode;\r\n                    }\r\n                }\r\n                return $($.unique(parents));\r\n            },\r\n            closest: function (selector) {\r\n                var closest = this;\r\n                if (typeof selector === 'undefined') {\r\n                    return new Dom7([]);\r\n                }\r\n                if (!closest.is(selector)) {\r\n                    closest = closest.parents(selector).eq(0);\r\n                }\r\n                return closest;\r\n            },\r\n            find : function (selector) {\r\n                var foundElements = [];\r\n                for (var i = 0; i < this.length; i++) {\r\n                    var found = this[i].querySelectorAll(selector);\r\n                    for (var j = 0; j < found.length; j++) {\r\n                        foundElements.push(found[j]);\r\n                    }\r\n                }\r\n                return new Dom7(foundElements);\r\n            },\r\n            children: function (selector) {\r\n                var children = [];\r\n                for (var i = 0; i < this.length; i++) {\r\n                    var childNodes = this[i].childNodes;\r\n        \r\n                    for (var j = 0; j < childNodes.length; j++) {\r\n                        if (!selector) {\r\n                            if (childNodes[j].nodeType === 1) children.push(childNodes[j]);\r\n                        }\r\n                        else {\r\n                            if (childNodes[j].nodeType === 1 && $(childNodes[j]).is(selector)) children.push(childNodes[j]);\r\n                        }\r\n                    }\r\n                }\r\n                return new Dom7($.unique(children));\r\n            },\r\n            remove: function () {\r\n                for (var i = 0; i < this.length; i++) {\r\n                    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\r\n                }\r\n                return this;\r\n            },\r\n            detach: function () {\r\n                return this.remove();\r\n            },\r\n            add: function () {\r\n                var dom = this;\r\n                var i, j;\r\n                for (i = 0; i < arguments.length; i++) {\r\n                    var toAdd = $(arguments[i]);\r\n                    for (j = 0; j < toAdd.length; j++) {\r\n                        dom[dom.length] = toAdd[j];\r\n                        dom.length++;\r\n                    }\r\n                }\r\n                return dom;\r\n            },\r\n            empty: function () {\r\n                for (var i = 0; i < this.length; i++) {\r\n                    var el = this[i];\r\n                    if (el.nodeType === 1) {\r\n                        for (var j = 0; j < el.childNodes.length; j++) {\r\n                            if (el.childNodes[j].parentNode) el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\r\n                        }\r\n                        el.textContent = '';\r\n                    }\r\n                }\r\n                return this;\r\n            }\r\n        };\r\n        \r\n        // Shortcuts\r\n        (function () {\r\n            var shortcuts = ('click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll').split(' ');\r\n            var notTrigger = ('resize scroll').split(' ');\r\n            function createMethod(name) {\r\n                Dom7.prototype[name] = function (targetSelector, listener, capture) {\r\n                    var i;\r\n                    if (typeof targetSelector === 'undefined') {\r\n                        for (i = 0; i < this.length; i++) {\r\n                            if (notTrigger.indexOf(name) < 0) {\r\n                                if (name in this[i]) this[i][name]();\r\n                                else {\r\n                                    $(this[i]).trigger(name);\r\n                                }\r\n                            }\r\n                        }\r\n                        return this;\r\n                    }\r\n                    else {\r\n                        return this.on(name, targetSelector, listener, capture);\r\n                    }\r\n                };\r\n            }\r\n            for (var i = 0; i < shortcuts.length; i++) {\r\n                createMethod(shortcuts[i]);\r\n            }\r\n        })();\r\n        \n\n        // Global Ajax Setup\r\n        var globalAjaxOptions = {};\r\n        $.ajaxSetup = function (options) {\r\n            if (options.type) options.method = options.type;\r\n            $.each(options, function (optionName, optionValue) {\r\n                globalAjaxOptions[optionName]  = optionValue;\r\n            });\r\n        };\r\n        \r\n        // Ajax\r\n        var _jsonpRequests = 0;\r\n        $.ajax = function (options) {\r\n            var defaults = {\r\n                method: 'GET',\r\n                data: false,\r\n                async: true,\r\n                cache: true,\r\n                user: '',\r\n                password: '',\r\n                headers: {},\r\n                xhrFields: {},\r\n                statusCode: {},\r\n                processData: true,\r\n                dataType: 'text',\r\n                contentType: 'application/x-www-form-urlencoded',\r\n                timeout: 0\r\n            };\r\n            var callbacks = ['beforeSend', 'error', 'complete', 'success', 'statusCode'];\r\n        \r\n        \r\n            //For jQuery guys\r\n            if (options.type) options.method = options.type;\r\n        \r\n            // Merge global and defaults\r\n            $.each(globalAjaxOptions, function (globalOptionName, globalOptionValue) {\r\n                if (callbacks.indexOf(globalOptionName) < 0) defaults[globalOptionName] = globalOptionValue;\r\n            });\r\n        \r\n            // Function to run XHR callbacks and events\r\n            function fireAjaxCallback (eventName, eventData, callbackName) {\r\n                var a = arguments;\r\n                if (eventName) $(document).trigger(eventName, eventData);\r\n                if (callbackName) {\r\n                    // Global callback\r\n                    if (callbackName in globalAjaxOptions) globalAjaxOptions[callbackName](a[3], a[4], a[5], a[6]);\r\n                    // Options callback\r\n                    if (options[callbackName]) options[callbackName](a[3], a[4], a[5], a[6]);\r\n                }\r\n            }\r\n        \r\n            // Merge options and defaults\r\n            $.each(defaults, function (prop, defaultValue) {\r\n                if (!(prop in options)) options[prop] = defaultValue;\r\n            });\r\n        \r\n            // Default URL\r\n            if (!options.url) {\r\n                options.url = window.location.toString();\r\n            }\r\n            // Parameters Prefix\r\n            var paramsPrefix = options.url.indexOf('?') >= 0 ? '&' : '?';\r\n        \r\n            // UC method\r\n            var _method = options.method.toUpperCase();\r\n            // Data to modify GET URL\r\n            if ((_method === 'GET' || _method === 'HEAD' || _method === 'OPTIONS' || _method === 'DELETE') && options.data) {\r\n                var stringData;\r\n                if (typeof options.data === 'string') {\r\n                    // Should be key=value string\r\n                    if (options.data.indexOf('?') >= 0) stringData = options.data.split('?')[1];\r\n                    else stringData = options.data;\r\n                }\r\n                else {\r\n                    // Should be key=value object\r\n                    stringData = $.serializeObject(options.data);\r\n                }\r\n                if (stringData.length) {\r\n                    options.url += paramsPrefix + stringData;\r\n                    if (paramsPrefix === '?') paramsPrefix = '&';\r\n                }\r\n            }\r\n            // JSONP\r\n            if (options.dataType === 'json' && options.url.indexOf('callback=') >= 0) {\r\n        \r\n                var callbackName = 'f7jsonp_' + Date.now() + (_jsonpRequests++);\r\n                var abortTimeout;\r\n                var callbackSplit = options.url.split('callback=');\r\n                var requestUrl = callbackSplit[0] + 'callback=' + callbackName;\r\n                if (callbackSplit[1].indexOf('&') >= 0) {\r\n                    var addVars = callbackSplit[1].split('&').filter(function (el) { return el.indexOf('=') > 0; }).join('&');\r\n                    if (addVars.length > 0) requestUrl += '&' + addVars;\r\n                }\r\n        \r\n                // Create script\r\n                var script = document.createElement('script');\r\n                script.type = 'text/javascript';\r\n                script.onerror = function() {\r\n                    clearTimeout(abortTimeout);\r\n                    fireAjaxCallback(undefined, undefined, 'error', null, 'scripterror');\r\n                };\r\n                script.src = requestUrl;\r\n        \r\n                // Handler\r\n                window[callbackName] = function (data) {\r\n                    clearTimeout(abortTimeout);\r\n                    fireAjaxCallback(undefined, undefined, 'success', data);\r\n                    script.parentNode.removeChild(script);\r\n                    script = null;\r\n                    delete window[callbackName];\r\n                };\r\n                document.querySelector('head').appendChild(script);\r\n        \r\n                if (options.timeout > 0) {\r\n                    abortTimeout = setTimeout(function () {\r\n                        script.parentNode.removeChild(script);\r\n                        script = null;\r\n                        fireAjaxCallback(undefined, undefined, 'error', null, 'timeout');\r\n                    }, options.timeout);\r\n                }\r\n        \r\n                return;\r\n            }\r\n        \r\n            // Cache for GET/HEAD requests\r\n            if (_method === 'GET' || _method === 'HEAD' || _method === 'OPTIONS' || _method === 'DELETE') {\r\n                if (options.cache === false) {\r\n                    options.url += (paramsPrefix + '_nocache=' + Date.now());\r\n                }\r\n            }\r\n        \r\n            // Create XHR\r\n            var xhr = new XMLHttpRequest();\r\n        \r\n            // Save Request URL\r\n            xhr.requestUrl = options.url;\r\n            xhr.requestParameters = options;\r\n        \r\n            // Open XHR\r\n            xhr.open(_method, options.url, options.async, options.user, options.password);\r\n        \r\n            // Create POST Data\r\n            var postData = null;\r\n        \r\n            if ((_method === 'POST' || _method === 'PUT' || _method === 'PATCH') && options.data) {\r\n                if (options.processData) {\r\n                    var postDataInstances = [ArrayBuffer, Blob, Document, FormData];\r\n                    // Post Data\r\n                    if (postDataInstances.indexOf(options.data.constructor) >= 0) {\r\n                        postData = options.data;\r\n                    }\r\n                    else {\r\n                        // POST Headers\r\n                        var boundary = '---------------------------' + Date.now().toString(16);\r\n        \r\n                        if (options.contentType === 'multipart\\/form-data') {\r\n                            xhr.setRequestHeader('Content-Type', 'multipart\\/form-data; boundary=' + boundary);\r\n                        }\r\n                        else {\r\n                            xhr.setRequestHeader('Content-Type', options.contentType);\r\n                        }\r\n                        postData = '';\r\n                        var _data = $.serializeObject(options.data);\r\n                        if (options.contentType === 'multipart\\/form-data') {\r\n                            boundary = '---------------------------' + Date.now().toString(16);\r\n                            _data = _data.split('&');\r\n                            var _newData = [];\r\n                            for (var i = 0; i < _data.length; i++) {\r\n                                _newData.push('Content-Disposition: form-data; name=\"' + _data[i].split('=')[0] + '\"\\r\\n\\r\\n' + _data[i].split('=')[1] + '\\r\\n');\r\n                            }\r\n                            postData = '--' + boundary + '\\r\\n' + _newData.join('--' + boundary + '\\r\\n') + '--' + boundary + '--\\r\\n';\r\n                        }\r\n                        else {\r\n                            postData = _data;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    postData = options.data;\r\n                }\r\n        \r\n            }\r\n        \r\n            // Additional headers\r\n            if (options.headers) {\r\n                $.each(options.headers, function (headerName, headerCallback) {\r\n                    xhr.setRequestHeader(headerName, headerCallback);\r\n                });\r\n            }\r\n        \r\n            // Check for crossDomain\r\n            if (typeof options.crossDomain === 'undefined') {\r\n                options.crossDomain = /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(options.url) && RegExp.$2 !== window.location.host;\r\n            }\r\n        \r\n            if (!options.crossDomain) {\r\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n            }\r\n        \r\n            if (options.xhrFields) {\r\n                $.each(options.xhrFields, function (fieldName, fieldValue) {\r\n                    xhr[fieldName] = fieldValue;\r\n                });\r\n            }\r\n        \r\n            var xhrTimeout;\r\n            // Handle XHR\r\n            xhr.onload = function (e) {\r\n                if (xhrTimeout) clearTimeout(xhrTimeout);\r\n                if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 0) {\r\n                    var responseData;\r\n                    if (options.dataType === 'json') {\r\n                        try {\r\n                            responseData = JSON.parse(xhr.responseText);\r\n                            fireAjaxCallback('ajaxSuccess ajax:success', {xhr: xhr}, 'success', responseData, xhr.status, xhr);\r\n                        }\r\n                        catch (err) {\r\n                            fireAjaxCallback('ajaxError ajax:error', {xhr: xhr, parseerror: true}, 'error', xhr, 'parseerror');\r\n                        }\r\n                    }\r\n                    else {\r\n                        responseData = xhr.responseType === 'text' || xhr.responseType === '' ? xhr.responseText : xhr.response;\r\n                        fireAjaxCallback('ajaxSuccess ajax:success', {xhr: xhr}, 'success', responseData, xhr.status, xhr);\r\n                    }\r\n                }\r\n                else {\r\n                    fireAjaxCallback('ajaxError ajax:error', {xhr: xhr}, 'error', xhr, xhr.status);\r\n                }\r\n                if (options.statusCode) {\r\n                    if (globalAjaxOptions.statusCode && globalAjaxOptions.statusCode[xhr.status]) globalAjaxOptions.statusCode[xhr.status](xhr);\r\n                    if (options.statusCode[xhr.status]) options.statusCode[xhr.status](xhr);\r\n                }\r\n                fireAjaxCallback('ajaxComplete ajax:complete', {xhr: xhr}, 'complete', xhr, xhr.status);\r\n            };\r\n        \r\n            xhr.onerror = function (e) {\r\n                if (xhrTimeout) clearTimeout(xhrTimeout);\r\n                fireAjaxCallback('ajaxError ajax:error', {xhr: xhr}, 'error', xhr, xhr.status);\r\n            };\r\n        \r\n            // Ajax start callback\r\n            fireAjaxCallback('ajaxStart ajax:start', {xhr: xhr}, 'start', xhr);\r\n            fireAjaxCallback(undefined, undefined, 'beforeSend', xhr);\r\n        \r\n            // Timeout\r\n            if (options.timeout > 0) {\r\n                xhr.onabort = function () {\r\n                    if (xhrTimeout) clearTimeout(xhrTimeout);\r\n                };\r\n                xhrTimeout = setTimeout(function () {\r\n                    xhr.abort();\r\n                    fireAjaxCallback('ajaxError ajax:error', {xhr: xhr, timeout: true}, 'error', xhr, 'timeout');\r\n                    fireAjaxCallback('ajaxComplete ajax:complete', {xhr: xhr, timeout: true}, 'complete', xhr, 'timeout');\r\n                }, options.timeout);\r\n            }\r\n        \r\n            // Send XHR\r\n            xhr.send(postData);\r\n        \r\n            // Return XHR object\r\n            return xhr;\r\n        };\r\n        // Shrotcuts\r\n        (function () {\r\n            var methods = ('get post getJSON').split(' ');\r\n            function createMethod(method) {\r\n                $[method] = function (url, data, success, error) {\r\n                    return $.ajax({\r\n                        url: url,\r\n                        method: method === 'post' ? 'POST' : 'GET',\r\n                        data: typeof data === 'function' ? undefined : data,\r\n                        success: typeof data === 'function' ? data : success,\r\n                        error: typeof data === 'function' ? success : error,\r\n                        dataType: method === 'getJSON' ? 'json' : undefined\r\n                    });\r\n                };\r\n            }\r\n            for (var i = 0; i < methods.length; i++) {\r\n                createMethod(methods[i]);\r\n            }\r\n        })();\r\n        \n\n        // DOM Library Utilites\r\n        $.parseUrlQuery= function (url) {\r\n            var url = url || location.href;\r\n            var query = {},i, params, param, length;\r\n            if (typeof url === 'string' && url.length)  {\r\n                url = url.indexOf('?')>-1 ? url.replace(/\\S*\\?/,'') : '';\r\n                params = url.split('&'), length = params.length;\r\n        \r\n                for (i = 0; i < length; i++) {\r\n                    param = params[i].replace(/#\\S+/g,'').split('=');\r\n                    query[decodeURIComponent(param[0])] = decodeURIComponent(param[1]) || '';\r\n                }\r\n            }\r\n        \r\n            return query;\r\n        };\r\n        $.isArray = function (arr) {\r\n            if (Object.prototype.toString.apply(arr) === '[object Array]') return true;\r\n            else return false;\r\n        };\r\n        $.each = function (obj, callback) {\r\n            if (typeof obj !== 'object') return;\r\n            if (!callback) return;\r\n            var i, prop;\r\n            if ($.isArray(obj) || obj instanceof Dom7) {\r\n                // Array\r\n                for (i = 0; i < obj.length; i++) {\r\n                    callback(i, obj[i]);\r\n                }\r\n            }\r\n            else {\r\n                // Object\r\n                for (prop in obj) {\r\n                    if (obj.hasOwnProperty(prop)) {\r\n                        callback(prop, obj[prop]);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        $.unique = function (arr) {\r\n            var unique = [];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                if (unique.indexOf(arr[i]) === -1) unique.push(arr[i]);\r\n            }\r\n            return unique;\r\n        };\r\n        $.serializeObject = $.param = function (obj, parents) {\r\n            if (typeof obj === 'string') return obj;\r\n            var resultArray = [];\r\n            var separator = '&';\r\n            parents = parents || [];\r\n            var newParents;\r\n            function var_name(name) {\r\n                if (parents.length > 0) {\r\n                    var _parents = '';\r\n                    for (var j = 0; j < parents.length; j++) {\r\n                        if (j === 0) _parents += parents[j];\r\n                        else _parents += '[' + encodeURIComponent(parents[j]) + ']';\r\n                    }\r\n                    return _parents + '[' + encodeURIComponent(name) + ']';\r\n                }\r\n                else {\r\n                    return encodeURIComponent(name);\r\n                }\r\n            }\r\n            function var_value(value) {\r\n                return encodeURIComponent(value);\r\n            }\r\n            for (var prop in obj) {\r\n                if (obj.hasOwnProperty(prop)) {\r\n                    var toPush;\r\n                    if ($.isArray(obj[prop])) {\r\n                        toPush = [];\r\n                        for (var i = 0; i < obj[prop].length; i ++) {\r\n                            if (!$.isArray(obj[prop][i]) && typeof obj[prop][i] === 'object') {\r\n                                newParents = parents.slice();\r\n                                newParents.push(prop);\r\n                                newParents.push(i + '');\r\n                                toPush.push($.serializeObject(obj[prop][i], newParents));\r\n                            }\r\n                            else {\r\n                                toPush.push(var_name(prop) + '[]=' + var_value(obj[prop][i]));\r\n                            }\r\n        \r\n                        }\r\n                        if (toPush.length > 0) resultArray.push(toPush.join(separator));\r\n                    }\r\n                    else if (obj[prop] === null) {\r\n                        resultArray.push(var_name(prop) + '=');\r\n                    }\r\n                    else if (typeof obj[prop] === 'object') {\r\n                        // Object, convert to named array\r\n                        newParents = parents.slice();\r\n                        newParents.push(prop);\r\n                        toPush = $.serializeObject(obj[prop], newParents);\r\n                        if (toPush !== '') resultArray.push(toPush);\r\n                    }\r\n                    else if (typeof obj[prop] !== 'undefined' && obj[prop] !== '') {\r\n                        // Should be string or plain value\r\n                        resultArray.push(var_name(prop) + '=' + var_value(obj[prop]));\r\n                    }\r\n                    else if (obj[prop] === '') resultArray.push(var_name(prop));\r\n                }\r\n            }\r\n            return resultArray.join(separator);\r\n        };\r\n        $.toCamelCase = function (string) {\r\n            return string.toLowerCase().replace(/-(.)/g, function(match, group1) {\r\n                return group1.toUpperCase();\r\n            });\r\n        };\r\n        $.dataset = function (el) {\r\n            return $(el).dataset();\r\n        };\r\n        $.getTranslate = function (el, axis) {\r\n            var matrix, curTransform, curStyle, transformMatrix;\r\n        \r\n            // automatic axis detection\r\n            if (typeof axis === 'undefined') {\r\n                axis = 'x';\r\n            }\r\n        \r\n            curStyle = window.getComputedStyle(el, null);\r\n            if (window.WebKitCSSMatrix) {\r\n                curTransform = curStyle.transform || curStyle.webkitTransform;\r\n                if (curTransform.split(',').length > 6) {\r\n                    curTransform = curTransform.split(', ').map(function(a){\r\n                        return a.replace(',','.');\r\n                    }).join(', ');\r\n                }\r\n                // Some old versions of Webkit choke when 'none' is passed; pass\r\n                // empty string instead in this case\r\n                transformMatrix = new WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\r\n            }\r\n            else {\r\n                transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform  || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\r\n                matrix = transformMatrix.toString().split(',');\r\n            }\r\n        \r\n            if (axis === 'x') {\r\n                //Latest Chrome and webkits Fix\r\n                if (window.WebKitCSSMatrix)\r\n                    curTransform = transformMatrix.m41;\r\n                //Crazy IE10 Matrix\r\n                else if (matrix.length === 16)\r\n                    curTransform = parseFloat(matrix[12]);\r\n                //Normal Browsers\r\n                else\r\n                    curTransform = parseFloat(matrix[4]);\r\n            }\r\n            if (axis === 'y') {\r\n                //Latest Chrome and webkits Fix\r\n                if (window.WebKitCSSMatrix)\r\n                    curTransform = transformMatrix.m42;\r\n                //Crazy IE10 Matrix\r\n                else if (matrix.length === 16)\r\n                    curTransform = parseFloat(matrix[13]);\r\n                //Normal Browsers\r\n                else\r\n                    curTransform = parseFloat(matrix[5]);\r\n            }\r\n            \r\n            return curTransform || 0;\r\n        };\r\n        \r\n        $.requestAnimationFrame = function (callback) {\r\n            if (window.requestAnimationFrame) return window.requestAnimationFrame(callback);\r\n            else if (window.webkitRequestAnimationFrame) return window.webkitRequestAnimationFrame(callback);\r\n            else if (window.mozRequestAnimationFrame) return window.mozRequestAnimationFrame(callback);\r\n            else {\r\n                return window.setTimeout(callback, 1000 / 60);\r\n            }\r\n        };\r\n        $.cancelAnimationFrame = function (id) {\r\n            if (window.cancelAnimationFrame) return window.cancelAnimationFrame(id);\r\n            else if (window.webkitCancelAnimationFrame) return window.webkitCancelAnimationFrame(id);\r\n            else if (window.mozCancelAnimationFrame) return window.mozCancelAnimationFrame(id);\r\n            else {\r\n                return window.clearTimeout(id);\r\n            }  \r\n        };\r\n        $.supportTouch = !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch);\r\n        \r\n        // Remove Diacritics\r\n        var defaultDiacriticsRemovalap = [\r\n            {base:'A', letters:'\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'},\r\n            {base:'AA',letters:'\\uA732'},\r\n            {base:'AE',letters:'\\u00C6\\u01FC\\u01E2'},\r\n            {base:'AO',letters:'\\uA734'},\r\n            {base:'AU',letters:'\\uA736'},\r\n            {base:'AV',letters:'\\uA738\\uA73A'},\r\n            {base:'AY',letters:'\\uA73C'},\r\n            {base:'B', letters:'\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'},\r\n            {base:'C', letters:'\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'},\r\n            {base:'D', letters:'\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'},\r\n            {base:'DZ',letters:'\\u01F1\\u01C4'},\r\n            {base:'Dz',letters:'\\u01F2\\u01C5'},\r\n            {base:'E', letters:'\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'},\r\n            {base:'F', letters:'\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'},\r\n            {base:'G', letters:'\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'},\r\n            {base:'H', letters:'\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'},\r\n            {base:'I', letters:'\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'},\r\n            {base:'J', letters:'\\u004A\\u24BF\\uFF2A\\u0134\\u0248'},\r\n            {base:'K', letters:'\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'},\r\n            {base:'L', letters:'\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'},\r\n            {base:'LJ',letters:'\\u01C7'},\r\n            {base:'Lj',letters:'\\u01C8'},\r\n            {base:'M', letters:'\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'},\r\n            {base:'N', letters:'\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'},\r\n            {base:'NJ',letters:'\\u01CA'},\r\n            {base:'Nj',letters:'\\u01CB'},\r\n            {base:'O', letters:'\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'},\r\n            {base:'OI',letters:'\\u01A2'},\r\n            {base:'OO',letters:'\\uA74E'},\r\n            {base:'OU',letters:'\\u0222'},\r\n            {base:'OE',letters:'\\u008C\\u0152'},\r\n            {base:'oe',letters:'\\u009C\\u0153'},\r\n            {base:'P', letters:'\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'},\r\n            {base:'Q', letters:'\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'},\r\n            {base:'R', letters:'\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'},\r\n            {base:'S', letters:'\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'},\r\n            {base:'T', letters:'\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'},\r\n            {base:'TZ',letters:'\\uA728'},\r\n            {base:'U', letters:'\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'},\r\n            {base:'V', letters:'\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'},\r\n            {base:'VY',letters:'\\uA760'},\r\n            {base:'W', letters:'\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'},\r\n            {base:'X', letters:'\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'},\r\n            {base:'Y', letters:'\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'},\r\n            {base:'Z', letters:'\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'},\r\n            {base:'a', letters:'\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'},\r\n            {base:'aa',letters:'\\uA733'},\r\n            {base:'ae',letters:'\\u00E6\\u01FD\\u01E3'},\r\n            {base:'ao',letters:'\\uA735'},\r\n            {base:'au',letters:'\\uA737'},\r\n            {base:'av',letters:'\\uA739\\uA73B'},\r\n            {base:'ay',letters:'\\uA73D'},\r\n            {base:'b', letters:'\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'},\r\n            {base:'c', letters:'\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'},\r\n            {base:'d', letters:'\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'},\r\n            {base:'dz',letters:'\\u01F3\\u01C6'},\r\n            {base:'e', letters:'\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'},\r\n            {base:'f', letters:'\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'},\r\n            {base:'g', letters:'\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'},\r\n            {base:'h', letters:'\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'},\r\n            {base:'hv',letters:'\\u0195'},\r\n            {base:'i', letters:'\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'},\r\n            {base:'j', letters:'\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'},\r\n            {base:'k', letters:'\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'},\r\n            {base:'l', letters:'\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'},\r\n            {base:'lj',letters:'\\u01C9'},\r\n            {base:'m', letters:'\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'},\r\n            {base:'n', letters:'\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'},\r\n            {base:'nj',letters:'\\u01CC'},\r\n            {base:'o', letters:'\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'},\r\n            {base:'oi',letters:'\\u01A3'},\r\n            {base:'ou',letters:'\\u0223'},\r\n            {base:'oo',letters:'\\uA74F'},\r\n            {base:'p',letters:'\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'},\r\n            {base:'q',letters:'\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'},\r\n            {base:'r',letters:'\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'},\r\n            {base:'s',letters:'\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'},\r\n            {base:'t',letters:'\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'},\r\n            {base:'tz',letters:'\\uA729'},\r\n            {base:'u',letters: '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'},\r\n            {base:'v',letters:'\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'},\r\n            {base:'vy',letters:'\\uA761'},\r\n            {base:'w',letters:'\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'},\r\n            {base:'x',letters:'\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'},\r\n            {base:'y',letters:'\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'},\r\n            {base:'z',letters:'\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'}\r\n        ];\r\n        \r\n        var diacriticsMap = {};\r\n        for (var i=0; i < defaultDiacriticsRemovalap.length; i++){\r\n            var letters = defaultDiacriticsRemovalap[i].letters;\r\n            for (var j=0; j < letters.length ; j++){\r\n                diacriticsMap[letters[j]] = defaultDiacriticsRemovalap[i].base;\r\n            }\r\n        }\r\n        \r\n        $.removeDiacritics = function (str) {\r\n            return str.replace(/[^\\u0000-\\u007E]/g, function(a){\r\n               return diacriticsMap[a] || a;\r\n            });\r\n        };\r\n        // Link to prototype\r\n        $.fn = Dom7.prototype;\r\n        \r\n        // Plugins\r\n        $.fn.scrollTo = function (left, top, duration, easing, callback) {\r\n            if (arguments.length === 4 && typeof easing === 'function') {\r\n                callback = easing;\r\n                easing = undefined;\r\n            }\r\n            return this.each(function () {\r\n                var el = this;\r\n                var currentTop, currentLeft, maxTop, maxLeft, newTop, newLeft, scrollTop, scrollLeft;\r\n                var animateTop = top > 0 || top === 0;\r\n                var animateLeft = left > 0 || left === 0;\r\n                if (typeof easing === 'undefined') {\r\n                    easing = 'swing';\r\n                }\r\n                if (animateTop) {\r\n                    currentTop = el.scrollTop;\r\n                    if (!duration) {\r\n                        el.scrollTop = top;\r\n                    }\r\n                }\r\n                if (animateLeft) {\r\n                    currentLeft = el.scrollLeft;\r\n                    if (!duration) {\r\n                        el.scrollLeft = left;\r\n                    }\r\n                }\r\n                if (!duration) return;\r\n                if (animateTop) {\r\n                    maxTop = el.scrollHeight - el.offsetHeight;\r\n                    newTop = Math.max(Math.min(top, maxTop), 0);\r\n                }\r\n                if (animateLeft) {\r\n                    maxLeft = el.scrollWidth - el.offsetWidth;\r\n                    newLeft = Math.max(Math.min(left, maxLeft), 0);\r\n                }\r\n                var startTime = null;\r\n                if (animateTop && newTop === currentTop) animateTop = false;\r\n                if (animateLeft && newLeft === currentLeft) animateLeft = false;\r\n                function render(time) {\r\n                    if (time === undefined) {\r\n                        time = new Date().getTime();\r\n                    }\r\n                    if (startTime === null) {\r\n                        startTime = time;\r\n                    }\r\n                    var doneLeft, doneTop, done;\r\n                    var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\r\n                    var easeProgress = easing === 'linear' ? progress : (0.5 - Math.cos( progress * Math.PI ) / 2);\r\n                    if (animateTop) scrollTop = currentTop + (easeProgress * (newTop - currentTop));\r\n                    if (animateLeft) scrollLeft = currentLeft + (easeProgress * (newLeft - currentLeft));\r\n                    if (animateTop && newTop > currentTop && scrollTop >= newTop)  {\r\n                        el.scrollTop = newTop;\r\n                        done = true;\r\n                    }\r\n                    if (animateTop && newTop < currentTop && scrollTop <= newTop)  {\r\n                        el.scrollTop = newTop;\r\n                        done = true;\r\n                    }\r\n        \r\n                    if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft)  {\r\n                        el.scrollLeft = newLeft;\r\n                        done = true;\r\n                    }\r\n                    if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft)  {\r\n                        el.scrollLeft = newLeft;\r\n                        done = true;\r\n                    }\r\n        \r\n                    if (done) {\r\n                        if (callback) callback();\r\n                        return;\r\n                    }\r\n                    if (animateTop) el.scrollTop = scrollTop;\r\n                    if (animateLeft) el.scrollLeft = scrollLeft;\r\n                    $.requestAnimationFrame(render);\r\n                }\r\n                $.requestAnimationFrame(render);\r\n            });\r\n        };\r\n        $.fn.scrollTop = function (top, duration, easing, callback) {\r\n            if (arguments.length === 3 && typeof easing === 'function') {\r\n                callback = easing;\r\n                easing = undefined;\r\n            }\r\n            var dom = this;\r\n            if (typeof top === 'undefined') {\r\n                if (dom.length > 0) return dom[0].scrollTop;\r\n                else return null;\r\n            }\r\n            return dom.scrollTo(undefined, top, duration, easing, callback);\r\n        };\r\n        $.fn.scrollLeft = function (left, duration, easing, callback) {\r\n            if (arguments.length === 3 && typeof easing === 'function') {\r\n                callback = easing;\r\n                easing = undefined;\r\n            }\r\n            var dom = this;\r\n            if (typeof left === 'undefined') {\r\n                if (dom.length > 0) return dom[0].scrollLeft;\r\n                else return null;\r\n            }\r\n            return dom.scrollTo(left, undefined, duration, easing, callback);\r\n        };\n\n            return $;\r\n        })();\r\n        \r\n        // Export Dom7 to Framework7\r\n        Framework7.$ = Dom7;\r\n        \r\n        // Export to local scope\r\n        var $ = Dom7;\r\n        \r\n        // Export to Window\r\n        window.Dom7 = Dom7;\r\n        \n\n        /*========================\r\n        Animate7 Animate Engine\r\n        ==========================*/\r\n        var Animate7 = function (elements, props, params) {\r\n            props = props || {};\r\n            params = params || {};\r\n            var defaults = {\r\n                duration: 300,\r\n                easing: 'swing', // or 'linear'\r\n                /* Callbacks\r\n                begin(elements)\r\n                complete(elements)\r\n                progress(elements, complete, remaining, start, tweenValue)\r\n                */\r\n            };\r\n        \r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined') {\r\n                    params[def] = defaults[def];\r\n                }\r\n            }\r\n        \r\n            var a = this;\r\n            a.params = params;\r\n            a.props = props;\r\n            a.elements = $(elements);\r\n            if (a.elements.length === 0) {\r\n                return a;\r\n            }\r\n        \r\n            a.easingProgress = function (easing, progress) {\r\n                if (easing === 'swing') {\r\n                    return 0.5 - Math.cos( progress * Math.PI ) / 2;\r\n                }\r\n                if (typeof easing === 'function') {\r\n                    return easing(progress);\r\n                }\r\n                return progress;\r\n            };\r\n        \r\n            a.stop = function () {\r\n                if (a.frameId) {\r\n                    $.cancelAnimationFrame(a.frameId);\r\n                }\r\n                a.animating = false;\r\n                a.elements.each(function (index, el) {\r\n                    delete el.animate7Instance;\r\n                });\r\n                a.que = [];\r\n            };\r\n            a.done = function (complete) {\r\n                a.animating = false;\r\n                a.elements.each(function (index, el) {\r\n                    delete el.animate7Instance;\r\n                });\r\n                if (complete) complete(elements);\r\n                if (a.que.length > 0) {\r\n                    var que = a.que.shift();\r\n                    a.animate(que[0], que[1]);\r\n                }\r\n            };\r\n            a.animating = false;\r\n            a.que = [];\r\n            a.animate = function (props, params) {\r\n                if (a.animating) {\r\n                    a.que.push([props, params]);\r\n                    return a;\r\n                }\r\n                a.params = params;\r\n        \r\n                var _elements = [];\r\n        \r\n                // Define & Cache Initials & Units\r\n                a.elements.each(function (index, el) {\r\n                    var initialFullValue, initialValue, unit, finalValue, finalFullValue;\r\n        \r\n                    _elements[index] = {\r\n                        _container: el\r\n                    };\r\n        \r\n                    for (var prop in props) {\r\n                        initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\r\n                        initialValue = parseFloat(initialFullValue);\r\n                        unit = initialFullValue.replace(initialValue, '');\r\n                        finalValue = props[prop];\r\n                        finalFullValue = props[prop] + unit;\r\n                        _elements[index][prop] = {\r\n                            initialFullValue: initialFullValue,\r\n                            initialValue: initialValue,\r\n                            unit: unit,\r\n                            finalValue: finalValue,\r\n                            finalFullValue: finalFullValue,\r\n                            currentValue: initialValue\r\n                        };\r\n        \r\n                    }\r\n                });\r\n        \r\n                var startTime = null,\r\n                    time,\r\n                    elementsDone = 0,\r\n                    propsDone = 0,\r\n                    done,\r\n                    began = false;\r\n        \r\n                a.animating = true;\r\n        \r\n                function render() {\r\n                    time = new Date().getTime();\r\n                    var progress, easeProgress, el;\r\n                    if (!began) {\r\n                        began = true;\r\n                        if (params.begin) params.begin(elements);\r\n                    }\r\n                    if (startTime === null) {\r\n                        startTime = time;\r\n                    }\r\n                    if (params.progress) {\r\n                        params.progress(\r\n                            a.elements,\r\n                            Math.max(Math.min((time - startTime) / params.duration, 1), 0),\r\n                            ((startTime + params.duration) - time < 0 ? 0 : (startTime + params.duration) - time),\r\n                            startTime\r\n                        );\r\n                    }\r\n        \r\n                    for (var i = 0; i < _elements.length; i++) {\r\n                        if (done) continue;\r\n                        el = _elements[i];\r\n                        if (el.done) continue;\r\n        \r\n                        for (var prop in props) {\r\n                            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\r\n                            easeProgress = a.easingProgress(params.easing, progress);\r\n        \r\n                            el[prop].currentValue = el[prop].initialValue + easeProgress * (el[prop].finalValue - el[prop].initialValue);\r\n        \r\n                            if (el[prop].finalValue > el[prop].initialValue && el[prop].currentValue >= el[prop].finalValue || el[prop].finalValue < el[prop].initialValue && el[prop].currentValue <= el[prop].finalValue)  {\r\n                                el._container.style[prop] = el[prop].finalValue + el[prop].unit;\r\n                                propsDone ++;\r\n                                if (propsDone === Object.keys(props).length) {\r\n                                    el.done = true;\r\n                                    elementsDone++;\r\n                                }\r\n                                if (elementsDone === _elements.length) {\r\n                                    done = true;\r\n                                }\r\n                            }\r\n                            if (done) {\r\n                                a.done(params.complete);\r\n                                return a;\r\n                            }\r\n                            el._container.style[prop] = el[prop].currentValue + el[prop].unit;\r\n                        }\r\n                    }\r\n        \r\n                    // Then call\r\n                    a.frameId = $.requestAnimationFrame(render);\r\n                }\r\n                a.frameId = $.requestAnimationFrame(render);\r\n                return a;\r\n            };\r\n            var foundInstance;\r\n            for (var i = 0; i < a.elements.length; i++) {\r\n                if (a.elements[i].animate7Instance) {\r\n                    foundInstance = a.elements[i].animate7Instance;\r\n                }\r\n                else a.elements[i].animate7Instance = a;\r\n            }\r\n            if (foundInstance) {\r\n                return foundInstance.animate(props, params);\r\n            }\r\n            else a.animate(props, params);\r\n            return a;\r\n        };\r\n        window.Animate7 = function (elements, props, params){\r\n            return new Animate7(elements, props, params);\r\n        };\r\n        Dom7.fn.animate = function (props, params) {\r\n            new Animate7(this, props, params);\r\n            return this;\r\n        };\n\n        /*===========================\r\n        Features Support Detection\r\n        ===========================*/\r\n        Framework7.prototype.support = (function () {\r\n            var support = {\r\n                touch: !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch),\r\n                passiveListener: (function () {\r\n                    var supportsPassive = false;\r\n                    try {\r\n                        var opts = Object.defineProperty({}, 'passive', {\r\n                            get: function() {\r\n                                supportsPassive = true;\r\n                            }\r\n                        });\r\n                        window.addEventListener('testPassiveListener', null, opts);\r\n                    } catch (e) {}\r\n                    return supportsPassive;\r\n                })()\r\n            };\r\n        \r\n            // Export object\r\n            return support;\r\n        })();\r\n        \n\n        /*===========================\r\n        Device/OS Detection\r\n        ===========================*/\r\n        Framework7.prototype.device = (function () {\r\n            var device = {};\r\n            var ua = navigator.userAgent;\r\n            var $ = Dom7;\r\n        \r\n            var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\r\n            var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\r\n            var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\r\n            var iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\r\n        \r\n            device.ios = device.android = device.iphone = device.ipod = device.ipad = device.androidChrome = false;\r\n            \r\n            // Android\r\n            if (android) {\r\n                device.os = 'android';\r\n                device.osVersion = android[2];\r\n                device.android = true;\r\n                device.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;\r\n            }\r\n            if (ipad || iphone || ipod) {\r\n                device.os = 'ios';\r\n                device.ios = true;\r\n            }\r\n            // iOS\r\n            if (iphone && !ipod) {\r\n                device.osVersion = iphone[2].replace(/_/g, '.');\r\n                device.iphone = true;\r\n            }\r\n            if (ipad) {\r\n                device.osVersion = ipad[2].replace(/_/g, '.');\r\n                device.ipad = true;\r\n            }\r\n            if (ipod) {\r\n                device.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\r\n                device.iphone = true;\r\n            }\r\n            // iOS 8+ changed UA\r\n            if (device.ios && device.osVersion && ua.indexOf('Version/') >= 0) {\r\n                if (device.osVersion.split('.')[0] === '10') {\r\n                    device.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];\r\n                }\r\n            }\r\n        \r\n            // Webview\r\n            device.webView = (iphone || ipad || ipod) && ua.match(/.*AppleWebKit(?!.*Safari)/i);\r\n                \r\n            // Minimal UI\r\n            if (device.os && device.os === 'ios') {\r\n                var osVersionArr = device.osVersion.split('.');\r\n                device.minimalUi = !device.webView &&\r\n                                    (ipod || iphone) &&\r\n                                    (osVersionArr[0] * 1 === 7 ? osVersionArr[1] * 1 >= 1 : osVersionArr[0] * 1 > 7) &&\r\n                                    $('meta[name=\"viewport\"]').length > 0 && $('meta[name=\"viewport\"]').attr('content').indexOf('minimal-ui') >= 0;\r\n            }\r\n        \r\n            // Check for status bar and fullscreen app mode\r\n            var windowWidth = $(window).width();\r\n            var windowHeight = $(window).height();\r\n        \r\n            device.needsStatusBar = function () {\r\n                if (device.webView && (windowWidth * windowHeight === screen.width * screen.height)) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n            device.statusBar = device.needsStatusBar();\r\n        \r\n            // Classes\r\n            var classNames = [];\r\n        \r\n            // Pixel Ratio\r\n            device.pixelRatio = window.devicePixelRatio || 1;\r\n            classNames.push('pixel-ratio-' + Math.floor(device.pixelRatio));\r\n            if (device.pixelRatio >= 2) {\r\n                classNames.push('retina');\r\n            }\r\n        \r\n            // OS classes\r\n            if (device.os) {\r\n                classNames.push(device.os, device.os + '-' + device.osVersion.split('.')[0], device.os + '-' + device.osVersion.replace(/\\./g, '-'));\r\n                if (device.os === 'ios') {\r\n                    var major = parseInt(device.osVersion.split('.')[0], 10);\r\n                    for (var i = major - 1; i >= 6; i--) {\r\n                        classNames.push('ios-gt-' + i);\r\n                    }\r\n                }\r\n                \r\n            }\r\n            // Status bar classes\r\n            if (device.statusBar) {\r\n                classNames.push('with-statusbar-overlay');\r\n            }\r\n            else {\r\n                $('html').removeClass('with-statusbar-overlay');\r\n            }\r\n        \r\n            // Add html classes\r\n            if (classNames.length > 0) $('html').addClass(classNames.join(' '));\r\n        \r\n            // Export object\r\n            return device;\r\n        })();\r\n        \n\n        /*===========================\r\n        Plugins prototype\r\n        ===========================*/\r\n        Framework7.prototype.plugins = {};\r\n        \n\n        /*===========================\r\n        Template7 Template engine\r\n        ===========================*/\r\n        window.Template7 = (function () {\r\n            'use strict';\r\n            function isArray(arr) {\r\n                return Object.prototype.toString.apply(arr) === '[object Array]';\r\n            }\r\n            function isObject(obj) {\r\n                return obj instanceof Object;\r\n            }\r\n            function isFunction(func) {\r\n                return typeof func === 'function';\r\n            }\r\n            function _escape(string) {\r\n                return typeof window !== 'undefined' && window.escape ? window.escape(string) : string\r\n                    .replace(/&/g, '&amp;')\r\n                    .replace(/</g, '&lt;')\r\n                    .replace(/>/g, '&gt;')\r\n                    .replace(/\"/g, '&quot;');\r\n            }\r\n            var cache = {};\r\n            var quoteSingleRexExp = new RegExp('\\'', 'g');\r\n            var quoteDoubleRexExp = new RegExp('\"', 'g');\r\n            function helperToSlices(string) {\r\n                var helperParts = string.replace(/[{}#}]/g, '').split(' ');\r\n                var slices = [];\r\n                var shiftIndex, i, j;\r\n                for (i = 0; i < helperParts.length; i++) {\r\n                    var part = helperParts[i];\r\n                    var blockQuoteRegExp, openingQuote;\r\n                    if (i === 0) slices.push(part);\r\n                    else {\r\n                        if (part.indexOf('\"') === 0 || part.indexOf('\\'') === 0) {\r\n                            blockQuoteRegExp = part.indexOf('\"') === 0 ? quoteDoubleRexExp : quoteSingleRexExp;\r\n                            openingQuote = part.indexOf('\"') === 0 ? '\"' : '\\'';\r\n                            // Plain String\r\n                            if (part.match(blockQuoteRegExp).length === 2) {\r\n                                // One word string\r\n                                slices.push(part);\r\n                            }\r\n                            else {\r\n                                // Find closed Index\r\n                                shiftIndex = 0;\r\n                                for (j = i + 1; j < helperParts.length; j++) {\r\n                                    part += ' ' + helperParts[j];\r\n                                    if (helperParts[j].indexOf(openingQuote) >= 0) {\r\n                                        shiftIndex = j;\r\n                                        slices.push(part);\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (shiftIndex) i = shiftIndex;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (part.indexOf('=') > 0) {\r\n                                // Hash\r\n                                var hashParts = part.split('=');\r\n                                var hashName = hashParts[0];\r\n                                var hashContent = hashParts[1];\r\n                                if (!blockQuoteRegExp) {\r\n                                    blockQuoteRegExp = hashContent.indexOf('\"') === 0 ? quoteDoubleRexExp : quoteSingleRexExp;\r\n                                    openingQuote = hashContent.indexOf('\"') === 0 ? '\"' : '\\'';\r\n                                }\r\n                                if (hashContent.match(blockQuoteRegExp).length !== 2) {\r\n                                    shiftIndex = 0;\r\n                                    for (j = i + 1; j < helperParts.length; j++) {\r\n                                        hashContent += ' ' + helperParts[j];\r\n                                        if (helperParts[j].indexOf(openingQuote) >= 0) {\r\n                                            shiftIndex = j;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                    if (shiftIndex) i = shiftIndex;\r\n                                }\r\n                                var hash = [hashName, hashContent.replace(blockQuoteRegExp,'')];\r\n                                slices.push(hash);\r\n                            }\r\n                            else {\r\n                                // Plain variable\r\n                                slices.push(part);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return slices;\r\n            }\r\n            function stringToBlocks(string) {\r\n                var blocks = [], i, j, k;\r\n                if (!string) return [];\r\n                var _blocks = string.split(/({{[^{^}]*}})/);\r\n                for (i = 0; i < _blocks.length; i++) {\r\n                    var block = _blocks[i];\r\n                    if (block === '') continue;\r\n                    if (block.indexOf('{{') < 0) {\r\n                        blocks.push({\r\n                            type: 'plain',\r\n                            content: block\r\n                        });\r\n                    }\r\n                    else {\r\n                        if (block.indexOf('{/') >= 0) {\r\n                            continue;\r\n                        }\r\n                        if (block.indexOf('{#') < 0 && block.indexOf(' ') < 0 && block.indexOf('else') < 0) {\r\n                            // Simple variable\r\n                            blocks.push({\r\n                                type: 'variable',\r\n                                contextName: block.replace(/[{}]/g, '')\r\n                            });\r\n                            continue;\r\n                        }\r\n                        // Helpers\r\n                        var helperSlices = helperToSlices(block);\r\n                        var helperName = helperSlices[0];\r\n                        var isPartial = helperName === '>';\r\n                        var helperContext = [];\r\n                        var helperHash = {};\r\n                        for (j = 1; j < helperSlices.length; j++) {\r\n                            var slice = helperSlices[j];\r\n                            if (isArray(slice)) {\r\n                                // Hash\r\n                                helperHash[slice[0]] = slice[1] === 'false' ? false : slice[1];\r\n                            }\r\n                            else {\r\n                                helperContext.push(slice);\r\n                            }\r\n                        }\r\n        \r\n                        if (block.indexOf('{#') >= 0) {\r\n                            // Condition/Helper\r\n                            var helperStartIndex = i;\r\n                            var helperContent = '';\r\n                            var elseContent = '';\r\n                            var toSkip = 0;\r\n                            var shiftIndex;\r\n                            var foundClosed = false, foundElse = false, foundClosedElse = false, depth = 0;\r\n                            for (j = i + 1; j < _blocks.length; j++) {\r\n                                if (_blocks[j].indexOf('{{#') >= 0) {\r\n                                    depth ++;\r\n                                }\r\n                                if (_blocks[j].indexOf('{{/') >= 0) {\r\n                                    depth --;\r\n                                }\r\n                                if (_blocks[j].indexOf('{{#' + helperName) >= 0) {\r\n                                    helperContent += _blocks[j];\r\n                                    if (foundElse) elseContent += _blocks[j];\r\n                                    toSkip ++;\r\n                                }\r\n                                else if (_blocks[j].indexOf('{{/' + helperName) >= 0) {\r\n                                    if (toSkip > 0) {\r\n                                        toSkip--;\r\n                                        helperContent += _blocks[j];\r\n                                        if (foundElse) elseContent += _blocks[j];\r\n                                    }\r\n                                    else {\r\n                                        shiftIndex = j;\r\n                                        foundClosed = true;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                else if (_blocks[j].indexOf('else') >= 0 && depth === 0) {\r\n                                    foundElse = true;\r\n                                }\r\n                                else {\r\n                                    if (!foundElse) helperContent += _blocks[j];\r\n                                    if (foundElse) elseContent += _blocks[j];\r\n                                }\r\n        \r\n                            }\r\n                            if (foundClosed) {\r\n                                if (shiftIndex) i = shiftIndex;\r\n                                blocks.push({\r\n                                    type: 'helper',\r\n                                    helperName: helperName,\r\n                                    contextName: helperContext,\r\n                                    content: helperContent,\r\n                                    inverseContent: elseContent,\r\n                                    hash: helperHash\r\n                                });\r\n                            }\r\n                        }\r\n                        else if (block.indexOf(' ') > 0) {\r\n                            if (isPartial) {\r\n                                helperName = '_partial';\r\n                                if (helperContext[0]) helperContext[0] = '\"' + helperContext[0].replace(/\"|'/g, '') + '\"';\r\n                            }\r\n                            blocks.push({\r\n                                type: 'helper',\r\n                                helperName: helperName,\r\n                                contextName: helperContext,\r\n                                hash: helperHash\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                return blocks;\r\n            }\r\n            var Template7 = function (template, options) {\r\n                var t = this;\r\n                t.template = template;\r\n        \r\n                function getCompileFn(block, depth) {\r\n                    if (block.content) return compile(block.content, depth);\r\n                    else return function () {return ''; };\r\n                }\r\n                function getCompileInverse(block, depth) {\r\n                    if (block.inverseContent) return compile(block.inverseContent, depth);\r\n                    else return function () {return ''; };\r\n                }\r\n                function getCompileVar(name, ctx) {\r\n                    var variable, parts, levelsUp = 0, initialCtx = ctx;\r\n                    if (name.indexOf('../') === 0) {\r\n                        levelsUp = name.split('../').length - 1;\r\n                        var newDepth = ctx.split('_')[1] - levelsUp;\r\n                        ctx = 'ctx_' + (newDepth >= 1 ? newDepth : 1);\r\n                        parts = name.split('../')[levelsUp].split('.');\r\n                    }\r\n                    else if (name.indexOf('@global') === 0) {\r\n                        ctx = 'Template7.global';\r\n                        parts = name.split('@global.')[1].split('.');\r\n                    }\r\n                    else if (name.indexOf('@root') === 0) {\r\n                        ctx = 'root';\r\n                        parts = name.split('@root.')[1].split('.');\r\n                    }\r\n                    else {\r\n                        parts = name.split('.');\r\n                    }\r\n                    variable = ctx;\r\n                    for (var i = 0; i < parts.length; i++) {\r\n                        var part = parts[i];\r\n                        if (part.indexOf('@') === 0) {\r\n                            if (i > 0) {\r\n                                variable += '[(data && data.' + part.replace('@', '') + ')]';\r\n                            }\r\n                            else {\r\n                                variable = '(data && data.' + name.replace('@', '') + ')';\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (isFinite(part)) {\r\n                                variable += '[' + part + ']';\r\n                            }\r\n                            else {\r\n                                if (part === 'this' || part.indexOf('this.') >= 0 || part.indexOf('this[') >= 0 || part.indexOf('this(') >= 0) {\r\n                                    variable = part.replace('this', ctx);\r\n                                }\r\n                                else {\r\n                                    variable += '.' + part;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n        \r\n                    return variable;\r\n                }\r\n                function getCompiledArguments(contextArray, ctx) {\r\n                    var arr = [];\r\n                    for (var i = 0; i < contextArray.length; i++) {\r\n                        if (/^['\"]/.test(contextArray[i])) arr.push(contextArray[i]);\r\n                        else if (/^(true|false|\\d+)$/.test(contextArray[i])) arr.push(contextArray[i]);\r\n                        else {\r\n                            arr.push(getCompileVar(contextArray[i], ctx));\r\n                        }\r\n                    }\r\n        \r\n                    return arr.join(', ');\r\n                }\r\n                function compile(template, depth) {\r\n                    depth = depth || 1;\r\n                    template = template || t.template;\r\n                    if (typeof template !== 'string') {\r\n                        throw new Error('Template7: Template must be a string');\r\n                    }\r\n                    var blocks = stringToBlocks(template);\r\n                    if (blocks.length === 0) {\r\n                        return function () { return ''; };\r\n                    }\r\n                    var ctx = 'ctx_' + depth;\r\n                    var resultString = '';\r\n                    if (depth === 1) {\r\n                        resultString += '(function (' + ctx + ', data, root) {\\n';\r\n                    }\r\n                    else {\r\n                        resultString += '(function (' + ctx + ', data) {\\n';\r\n                    }\r\n                    if (depth === 1) {\r\n                        resultString += 'function isArray(arr){return Object.prototype.toString.apply(arr) === \\'[object Array]\\';}\\n';\r\n                        resultString += 'function isFunction(func){return (typeof func === \\'function\\');}\\n';\r\n                        resultString += 'function c(val, ctx) {if (typeof val !== \"undefined\" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return \"\";}\\n';\r\n                        resultString += 'root = root || ctx_1 || {};\\n';\r\n                    }\r\n                    resultString += 'var r = \\'\\';\\n';\r\n                    var i, j, context;\r\n                    for (i = 0; i < blocks.length; i++) {\r\n                        var block = blocks[i];\r\n                        // Plain block\r\n                        if (block.type === 'plain') {\r\n                            resultString += 'r +=\\'' + (block.content).replace(/\\r/g, '\\\\r').replace(/\\n/g, '\\\\n').replace(/'/g, '\\\\' + '\\'') + '\\';';\r\n                            continue;\r\n                        }\r\n                        var variable, compiledArguments;\r\n                        // Variable block\r\n                        if (block.type === 'variable') {\r\n                            variable = getCompileVar(block.contextName, ctx);\r\n                            resultString += 'r += c(' + variable + ', ' + ctx + ');';\r\n                        }\r\n                        // Helpers block\r\n                        if (block.type === 'helper') {\r\n                            if (block.helperName in t.helpers) {\r\n                                compiledArguments = getCompiledArguments(block.contextName, ctx);\r\n        \r\n                                resultString += 'r += (Template7.helpers.' + block.helperName + ').call(' + ctx + ', ' + (compiledArguments && (compiledArguments + ', ')) +'{hash:' + JSON.stringify(block.hash) + ', data: data || {}, fn: ' + getCompileFn(block, depth + 1) + ', inverse: ' + getCompileInverse(block, depth + 1) + ', root: root});';\r\n        \r\n                            }\r\n                            else {\r\n                                if (block.contextName.length > 0) {\r\n                                    throw new Error('Template7: Missing helper: \"' + block.helperName + '\"');\r\n                                }\r\n                                else {\r\n                                    variable = getCompileVar(block.helperName, ctx);\r\n                                    resultString += 'if (' + variable + ') {';\r\n                                    resultString += 'if (isArray(' + variable + ')) {';\r\n                                    resultString += 'r += (Template7.helpers.each).call(' + ctx + ', ' + variable + ', {hash:' + JSON.stringify(block.hash) + ', data: data || {}, fn: ' + getCompileFn(block, depth+1) + ', inverse: ' + getCompileInverse(block, depth+1) + ', root: root});';\r\n                                    resultString += '}else {';\r\n                                    resultString += 'r += (Template7.helpers.with).call(' + ctx + ', ' + variable + ', {hash:' + JSON.stringify(block.hash) + ', data: data || {}, fn: ' + getCompileFn(block, depth+1) + ', inverse: ' + getCompileInverse(block, depth+1) + ', root: root});';\r\n                                    resultString += '}}';\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    resultString += '\\nreturn r;})';\r\n                    return eval.call(window, resultString);\r\n                }\r\n                t.compile = function (template) {\r\n                    if (!t.compiled) {\r\n                        t.compiled = compile(template);\r\n                    }\r\n                    return t.compiled;\r\n                };\r\n            };\r\n            Template7.prototype = {\r\n                options: {},\r\n                partials: {},\r\n                helpers: {\r\n                    '_partial' : function (partialName, options) {\r\n                        var p = Template7.prototype.partials[partialName];\r\n                        if (!p || (p && !p.template)) return '';\r\n                        if (!p.compiled) {\r\n                            p.compiled = new Template7(p.template).compile();\r\n                        }\r\n                        var ctx = this;\r\n                        for (var hashName in options.hash) {\r\n                            ctx[hashName] = options.hash[hashName];\r\n                        }\r\n                        return p.compiled(ctx, options.data, options.root);\r\n                    },\r\n                    'escape': function (context, options) {\r\n                        if (typeof context !== 'string') {\r\n                            throw new Error('Template7: Passed context to \"escape\" helper should be a string');\r\n                        }\r\n                        return _escape(context);\r\n                    },\r\n                    'if': function (context, options) {\r\n                        if (isFunction(context)) { context = context.call(this); }\r\n                        if (context) {\r\n                            return options.fn(this, options.data);\r\n                        }\r\n                        else {\r\n                            return options.inverse(this, options.data);\r\n                        }\r\n                    },\r\n                    'unless': function (context, options) {\r\n                        if (isFunction(context)) { context = context.call(this); }\r\n                        if (!context) {\r\n                            return options.fn(this, options.data);\r\n                        }\r\n                        else {\r\n                            return options.inverse(this, options.data);\r\n                        }\r\n                    },\r\n                    'each': function (context, options) {\r\n                        var ret = '', i = 0;\r\n                        if (isFunction(context)) { context = context.call(this); }\r\n                        if (isArray(context)) {\r\n                            if (options.hash.reverse) {\r\n                                context = context.reverse();\r\n                            }\r\n                            for (i = 0; i < context.length; i++) {\r\n                                ret += options.fn(context[i], {first: i === 0, last: i === context.length - 1, index: i});\r\n                            }\r\n                            if (options.hash.reverse) {\r\n                                context = context.reverse();\r\n                            }\r\n                        }\r\n                        else {\r\n                            for (var key in context) {\r\n                                i++;\r\n                                ret += options.fn(context[key], {key: key});\r\n                            }\r\n                        }\r\n                        if (i > 0) return ret;\r\n                        else return options.inverse(this);\r\n                    },\r\n                    'with': function (context, options) {\r\n                        if (isFunction(context)) { context = context.call(this); }\r\n                        return options.fn(context);\r\n                    },\r\n                    'join': function (context, options) {\r\n                        if (isFunction(context)) { context = context.call(this); }\r\n                        return context.join(options.hash.delimiter || options.hash.delimeter);\r\n                    },\r\n                    'js': function (expression, options) {\r\n                        var func;\r\n                        if (expression.indexOf('return')>=0) {\r\n                            func = '(function(){'+expression+'})';\r\n                        }\r\n                        else {\r\n                            func = '(function(){return ('+expression+')})';\r\n                        }\r\n                        return eval.call(this, func).call(this);\r\n                    },\r\n                    'js_compare': function (expression, options) {\r\n                        var func;\r\n                        if (expression.indexOf('return')>=0) {\r\n                            func = '(function(){'+expression+'})';\r\n                        }\r\n                        else {\r\n                            func = '(function(){return ('+expression+')})';\r\n                        }\r\n                        var condition = eval.call(this, func).call(this);\r\n                        if (condition) {\r\n                            return options.fn(this, options.data);\r\n                        }\r\n                        else {\r\n                            return options.inverse(this, options.data);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            var t7 = function (template, data) {\r\n                if (arguments.length === 2) {\r\n                    var instance = new Template7(template);\r\n                    var rendered = instance.compile()(data);\r\n                    instance = null;\r\n                    return (rendered);\r\n                }\r\n                else return new Template7(template);\r\n            };\r\n            t7.registerHelper = function (name, fn) {\r\n                Template7.prototype.helpers[name] = fn;\r\n            };\r\n            t7.unregisterHelper = function (name) {\r\n                Template7.prototype.helpers[name] = undefined;\r\n                delete Template7.prototype.helpers[name];\r\n            };\r\n            t7.registerPartial = function (name, template) {\r\n                Template7.prototype.partials[name] = {template: template};\r\n            };\r\n            t7.unregisterPartial = function (name, template) {\r\n                if (Template7.prototype.partials[name]) {\r\n                    Template7.prototype.partials[name] = undefined;\r\n                    delete Template7.prototype.partials[name];\r\n                }\r\n            };\r\n            t7.compile = function (template, options) {\r\n                var instance = new Template7(template, options);\r\n                return instance.compile();\r\n            };\r\n        \r\n            t7.options = Template7.prototype.options;\r\n            t7.helpers = Template7.prototype.helpers;\r\n            t7.partials = Template7.prototype.partials;\r\n            return t7;\r\n        })();\n\n        /*===========================\r\n        Swiper\r\n        ===========================*/\r\n        window.Swiper = function (container, params) {\r\n            if (!(this instanceof Swiper)) return new Swiper(container, params);\r\n            var defaults = {\r\n                direction: 'horizontal',\r\n                touchEventsTarget: 'container',\r\n                initialSlide: 0,\r\n                speed: 300,\r\n                // autoplay\r\n                autoplay: false,\r\n                autoplayDisableOnInteraction: true,\r\n                autoplayStopOnLast: false,\r\n                // To support iOS's swipe-to-go-back gesture (when being used in-app, with UIWebView).\r\n                iOSEdgeSwipeDetection: false,\r\n                iOSEdgeSwipeThreshold: 20,\r\n                // Free mode\r\n                freeMode: false,\r\n                freeModeMomentum: true,\r\n                freeModeMomentumRatio: 1,\r\n                freeModeMomentumBounce: true,\r\n                freeModeMomentumBounceRatio: 1,\r\n                freeModeMomentumVelocityRatio: 1,\r\n                freeModeSticky: false,\r\n                freeModeMinimumVelocity: 0.02,\r\n                // Autoheight\r\n                autoHeight: false,\r\n                // Set wrapper width\r\n                setWrapperSize: false,\r\n                // Virtual Translate\r\n                virtualTranslate: false,\r\n                // Effects\r\n                effect: 'slide', // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\r\n                coverflow: {\r\n                    rotate: 50,\r\n                    stretch: 0,\r\n                    depth: 100,\r\n                    modifier: 1,\r\n                    slideShadows : true\r\n                },\r\n                flip: {\r\n                    slideShadows : true,\r\n                    limitRotation: true\r\n                },\r\n                cube: {\r\n                    slideShadows: true,\r\n                    shadow: true,\r\n                    shadowOffset: 20,\r\n                    shadowScale: 0.94\r\n                },\r\n                fade: {\r\n                    crossFade: false\r\n                },\r\n                // Parallax\r\n                parallax: false,\r\n                // Zoom\r\n                zoom: false,\r\n                zoomMax: 3,\r\n                zoomMin: 1,\r\n                zoomToggle: true,\r\n                // Scrollbar\r\n                scrollbar: null,\r\n                scrollbarHide: true,\r\n                scrollbarDraggable: false,\r\n                scrollbarSnapOnRelease: false,\r\n                // Keyboard Mousewheel\r\n                keyboardControl: false,\r\n                mousewheelControl: false,\r\n                mousewheelReleaseOnEdges: false,\r\n                mousewheelInvert: false,\r\n                mousewheelForceToAxis: false,\r\n                mousewheelSensitivity: 1,\r\n                mousewheelEventsTarged: 'container',\r\n                // Hash Navigation\r\n                hashnav: false,\r\n                hashnavWatchState: false,\r\n                // History\r\n                history: false,\r\n                // Commong Nav State\r\n                replaceState: false,\r\n                // Breakpoints\r\n                breakpoints: undefined,\r\n                // Slides grid\r\n                spaceBetween: 0,\r\n                slidesPerView: 1,\r\n                slidesPerColumn: 1,\r\n                slidesPerColumnFill: 'column',\r\n                slidesPerGroup: 1,\r\n                centeredSlides: false,\r\n                slidesOffsetBefore: 0, // in px\r\n                slidesOffsetAfter: 0, // in px\r\n                // Round length\r\n                roundLengths: false,\r\n                // Touches\r\n                touchRatio: 1,\r\n                touchAngle: 45,\r\n                simulateTouch: true,\r\n                shortSwipes: true,\r\n                longSwipes: true,\r\n                longSwipesRatio: 0.5,\r\n                longSwipesMs: 300,\r\n                followFinger: true,\r\n                onlyExternal: false,\r\n                threshold: 0,\r\n                touchMoveStopPropagation: true,\r\n                touchReleaseOnEdges: false,\r\n                // Unique Navigation Elements\r\n                uniqueNavElements: true,\r\n                // Pagination\r\n                pagination: null,\r\n                paginationElement: 'span',\r\n                paginationClickable: false,\r\n                paginationHide: false,\r\n                paginationBulletRender: null,\r\n                paginationProgressRender: null,\r\n                paginationFractionRender: null,\r\n                paginationCustomRender: null,\r\n                paginationType: 'bullets', // 'bullets' or 'progress' or 'fraction' or 'custom'\r\n                // Resistance\r\n                resistance: true,\r\n                resistanceRatio: 0.85,\r\n                // Next/prev buttons\r\n                nextButton: null,\r\n                prevButton: null,\r\n                // Progress\r\n                watchSlidesProgress: false,\r\n                watchSlidesVisibility: false,\r\n                // Cursor\r\n                grabCursor: false,\r\n                // Clicks\r\n                preventClicks: true,\r\n                preventClicksPropagation: true,\r\n                slideToClickedSlide: false,\r\n                // Lazy Loading\r\n                lazyLoading: false,\r\n                lazyLoadingInPrevNext: false,\r\n                lazyLoadingInPrevNextAmount: 1,\r\n                lazyLoadingOnTransitionStart: false,\r\n                // Images\r\n                preloadImages: true,\r\n                updateOnImagesReady: true,\r\n                // loop\r\n                loop: false,\r\n                loopAdditionalSlides: 0,\r\n                loopedSlides: null,\r\n                // Control\r\n                control: undefined,\r\n                controlInverse: false,\r\n                controlBy: 'slide', //or 'container'\r\n                normalizeSlideIndex: true,\r\n                // Swiping/no swiping\r\n                allowSwipeToPrev: true,\r\n                allowSwipeToNext: true,\r\n                swipeHandler: null, //'.swipe-handler',\r\n                noSwiping: true,\r\n                noSwipingClass: 'swiper-no-swiping',\r\n                // Passive Listeners\r\n                passiveListeners: true,\r\n                // NS\r\n                containerModifierClass: 'swiper-container-', // NEW\r\n                slideClass: 'swiper-slide',\r\n                slideActiveClass: 'swiper-slide-active',\r\n                slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\r\n                slideVisibleClass: 'swiper-slide-visible',\r\n                slideDuplicateClass: 'swiper-slide-duplicate',\r\n                slideNextClass: 'swiper-slide-next',\r\n                slideDuplicateNextClass: 'swiper-slide-duplicate-next',\r\n                slidePrevClass: 'swiper-slide-prev',\r\n                slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\r\n                wrapperClass: 'swiper-wrapper',\r\n                bulletClass: 'swiper-pagination-bullet',\r\n                bulletActiveClass: 'swiper-pagination-bullet-active',\r\n                buttonDisabledClass: 'swiper-button-disabled',\r\n                paginationCurrentClass: 'swiper-pagination-current',\r\n                paginationTotalClass: 'swiper-pagination-total',\r\n                paginationHiddenClass: 'swiper-pagination-hidden',\r\n                paginationProgressbarClass: 'swiper-pagination-progressbar',\r\n                paginationClickableClass: 'swiper-pagination-clickable', // NEW\r\n                paginationModifierClass: 'swiper-pagination-', // NEW\r\n                lazyLoadingClass: 'swiper-lazy',\r\n                lazyStatusLoadingClass: 'swiper-lazy-loading',\r\n                lazyStatusLoadedClass: 'swiper-lazy-loaded',\r\n                lazyPreloaderClass: 'swiper-lazy-preloader',\r\n                notificationClass: 'swiper-notification',\r\n                preloaderClass: 'preloader',\r\n                zoomContainerClass: 'swiper-zoom-container',\r\n            \r\n                // Observer\r\n                observer: false,\r\n                observeParents: false,\r\n                // Accessibility\r\n                a11y: false,\r\n                prevSlideMessage: 'Previous slide',\r\n                nextSlideMessage: 'Next slide',\r\n                firstSlideMessage: 'This is the first slide',\r\n                lastSlideMessage: 'This is the last slide',\r\n                paginationBulletMessage: 'Go to slide {{index}}',\r\n                // Callbacks\r\n                runCallbacksOnInit: true\r\n                /*\r\n                Callbacks:\r\n                onInit: function (swiper)\r\n                onDestroy: function (swiper)\r\n                onClick: function (swiper, e)\r\n                onTap: function (swiper, e)\r\n                onDoubleTap: function (swiper, e)\r\n                onSliderMove: function (swiper, e)\r\n                onSlideChangeStart: function (swiper)\r\n                onSlideChangeEnd: function (swiper)\r\n                onTransitionStart: function (swiper)\r\n                onTransitionEnd: function (swiper)\r\n                onImagesReady: function (swiper)\r\n                onProgress: function (swiper, progress)\r\n                onTouchStart: function (swiper, e)\r\n                onTouchMove: function (swiper, e)\r\n                onTouchMoveOpposite: function (swiper, e)\r\n                onTouchEnd: function (swiper, e)\r\n                onReachBeginning: function (swiper)\r\n                onReachEnd: function (swiper)\r\n                onSetTransition: function (swiper, duration)\r\n                onSetTranslate: function (swiper, translate)\r\n                onAutoplayStart: function (swiper)\r\n                onAutoplayStop: function (swiper),\r\n                onLazyImageLoad: function (swiper, slide, image)\r\n                onLazyImageReady: function (swiper, slide, image)\r\n                */\r\n            \r\n            };\r\n            var initialVirtualTranslate = params && params.virtualTranslate;\r\n            \r\n            params = params || {};\r\n            var originalParams = {};\r\n            for (var param in params) {\r\n                if (typeof params[param] === 'object' && params[param] !== null && !(params[param].nodeType || params[param] === window || params[param] === document || (typeof Dom7 !== 'undefined' && params[param] instanceof Dom7) || (typeof jQuery !== 'undefined' && params[param] instanceof jQuery))) {\r\n                    originalParams[param] = {};\r\n                    for (var deepParam in params[param]) {\r\n                        originalParams[param][deepParam] = params[param][deepParam];\r\n                    }\r\n                }\r\n                else {\r\n                    originalParams[param] = params[param];\r\n                }\r\n            }\r\n            for (var def in defaults) {\r\n                if (typeof params[def] === 'undefined') {\r\n                    params[def] = defaults[def];\r\n                }\r\n                else if (typeof params[def] === 'object') {\r\n                    for (var deepDef in defaults[def]) {\r\n                        if (typeof params[def][deepDef] === 'undefined') {\r\n                            params[def][deepDef] = defaults[def][deepDef];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            // Swiper\r\n            var s = this;\r\n            \r\n            // Params\r\n            s.params = params;\r\n            s.originalParams = originalParams;\r\n            \r\n            // Classname\r\n            s.classNames = [];\r\n            /*=========================\r\n              Dom Library and plugins\r\n              ===========================*/\r\n            if (typeof $ !== 'undefined' && typeof Dom7 !== 'undefined'){\r\n                $ = Dom7;\r\n            }\r\n            if (typeof $ === 'undefined') {\r\n                if (typeof Dom7 === 'undefined') {\r\n                    $ = window.Dom7 || window.Zepto || window.jQuery;\r\n                }\r\n                else {\r\n                    $ = Dom7;\r\n                }\r\n                if (!$) return;\r\n            }\r\n            // Export it to Swiper instance\r\n            s.$ = $;\r\n            \r\n            /*=========================\r\n              Breakpoints\r\n              ===========================*/\r\n            s.currentBreakpoint = undefined;\r\n            s.getActiveBreakpoint = function () {\r\n                //Get breakpoint for window width\r\n                if (!s.params.breakpoints) return false;\r\n                var breakpoint = false;\r\n                var points = [], point;\r\n                for ( point in s.params.breakpoints ) {\r\n                    if (s.params.breakpoints.hasOwnProperty(point)) {\r\n                        points.push(point);\r\n                    }\r\n                }\r\n                points.sort(function (a, b) {\r\n                    return parseInt(a, 10) > parseInt(b, 10);\r\n                });\r\n                for (var i = 0; i < points.length; i++) {\r\n                    point = points[i];\r\n                    if (point >= window.innerWidth && !breakpoint) {\r\n                        breakpoint = point;\r\n                    }\r\n                }\r\n                return breakpoint || 'max';\r\n            };\r\n            s.setBreakpoint = function () {\r\n                //Set breakpoint for window width and update parameters\r\n                var breakpoint = s.getActiveBreakpoint();\r\n                if (breakpoint && s.currentBreakpoint !== breakpoint) {\r\n                    var breakPointsParams = breakpoint in s.params.breakpoints ? s.params.breakpoints[breakpoint] : s.originalParams;\r\n                    var needsReLoop = s.params.loop && (breakPointsParams.slidesPerView !== s.params.slidesPerView);\r\n                    for ( var param in breakPointsParams ) {\r\n                        s.params[param] = breakPointsParams[param];\r\n                    }\r\n                    s.currentBreakpoint = breakpoint;\r\n                    if(needsReLoop && s.destroyLoop) {\r\n                        s.reLoop(true);\r\n                    }\r\n                }\r\n            };\r\n            // Set breakpoint on load\r\n            if (s.params.breakpoints) {\r\n                s.setBreakpoint();\r\n            }\r\n            \r\n            /*=========================\r\n              Preparation - Define Container, Wrapper and Pagination\r\n              ===========================*/\r\n            s.container = $(container);\r\n            if (s.container.length === 0) return;\r\n            if (s.container.length > 1) {\r\n                var swipers = [];\r\n                s.container.each(function () {\r\n                    var container = this;\r\n                    swipers.push(new Swiper(this, params));\r\n                });\r\n                return swipers;\r\n            }\r\n            \r\n            // Save instance in container HTML Element and in data\r\n            s.container[0].swiper = s;\r\n            s.container.data('swiper', s);\r\n            \r\n            s.classNames.push(s.params.containerModifierClass + s.params.direction);\r\n            \r\n            if (s.params.freeMode) {\r\n                s.classNames.push(s.params.containerModifierClass + 'free-mode');\r\n            }\r\n            if (!s.support.flexbox) {\r\n                s.classNames.push(s.params.containerModifierClass + 'no-flexbox');\r\n                s.params.slidesPerColumn = 1;\r\n            }\r\n            if (s.params.autoHeight) {\r\n                s.classNames.push(s.params.containerModifierClass + 'autoheight');\r\n            }\r\n            // Enable slides progress when required\r\n            if (s.params.parallax || s.params.watchSlidesVisibility) {\r\n                s.params.watchSlidesProgress = true;\r\n            }\r\n            // Max resistance when touchReleaseOnEdges\r\n            if (s.params.touchReleaseOnEdges) {\r\n                s.params.resistanceRatio = 0;\r\n            }\r\n            // Coverflow / 3D\r\n            if (['cube', 'coverflow', 'flip'].indexOf(s.params.effect) >= 0) {\r\n                if (s.support.transforms3d) {\r\n                    s.params.watchSlidesProgress = true;\r\n                    s.classNames.push(s.params.containerModifierClass + '3d');\r\n                }\r\n                else {\r\n                    s.params.effect = 'slide';\r\n                }\r\n            }\r\n            if (s.params.effect !== 'slide') {\r\n                s.classNames.push(s.params.containerModifierClass + s.params.effect);\r\n            }\r\n            if (s.params.effect === 'cube') {\r\n                s.params.resistanceRatio = 0;\r\n                s.params.slidesPerView = 1;\r\n                s.params.slidesPerColumn = 1;\r\n                s.params.slidesPerGroup = 1;\r\n                s.params.centeredSlides = false;\r\n                s.params.spaceBetween = 0;\r\n                s.params.virtualTranslate = true;\r\n                s.params.setWrapperSize = false;\r\n            }\r\n            if (s.params.effect === 'fade' || s.params.effect === 'flip') {\r\n                s.params.slidesPerView = 1;\r\n                s.params.slidesPerColumn = 1;\r\n                s.params.slidesPerGroup = 1;\r\n                s.params.watchSlidesProgress = true;\r\n                s.params.spaceBetween = 0;\r\n                s.params.setWrapperSize = false;\r\n                if (typeof initialVirtualTranslate === 'undefined') {\r\n                    s.params.virtualTranslate = true;\r\n                }\r\n            }\r\n            \r\n            // Grab Cursor\r\n            if (s.params.grabCursor && s.support.touch) {\r\n                s.params.grabCursor = false;\r\n            }\r\n            \r\n            // Wrapper\r\n            s.wrapper = s.container.children('.' + s.params.wrapperClass);\r\n            \r\n            // Pagination\r\n            if (s.params.pagination) {\r\n                s.paginationContainer = $(s.params.pagination);\r\n                if (s.params.uniqueNavElements && typeof s.params.pagination === 'string' && s.paginationContainer.length > 1 && s.container.find(s.params.pagination).length === 1) {\r\n                    s.paginationContainer = s.container.find(s.params.pagination);\r\n                }\r\n            \r\n                if (s.params.paginationType === 'bullets' && s.params.paginationClickable) {\r\n                    s.paginationContainer.addClass(s.params.paginationModifierClass + 'clickable');\r\n                }\r\n                else {\r\n                    s.params.paginationClickable = false;\r\n                }\r\n                s.paginationContainer.addClass(s.params.paginationModifierClass + s.params.paginationType);\r\n            }\r\n            // Next/Prev Buttons\r\n            if (s.params.nextButton || s.params.prevButton) {\r\n                if (s.params.nextButton) {\r\n                    s.nextButton = $(s.params.nextButton);\r\n                    if (s.params.uniqueNavElements && typeof s.params.nextButton === 'string' && s.nextButton.length > 1 && s.container.find(s.params.nextButton).length === 1) {\r\n                        s.nextButton = s.container.find(s.params.nextButton);\r\n                    }\r\n                }\r\n                if (s.params.prevButton) {\r\n                    s.prevButton = $(s.params.prevButton);\r\n                    if (s.params.uniqueNavElements && typeof s.params.prevButton === 'string' && s.prevButton.length > 1 && s.container.find(s.params.prevButton).length === 1) {\r\n                        s.prevButton = s.container.find(s.params.prevButton);\r\n                    }\r\n                }\r\n            }\r\n            \r\n            // Is Horizontal\r\n            s.isHorizontal = function () {\r\n                return s.params.direction === 'horizontal';\r\n            };\r\n            // s.isH = isH;\r\n            \r\n            // RTL\r\n            s.rtl = s.isHorizontal() && (s.container[0].dir.toLowerCase() === 'rtl' || s.container.css('direction') === 'rtl');\r\n            if (s.rtl) {\r\n                s.classNames.push(s.params.containerModifierClass + 'rtl');\r\n            }\r\n            \r\n            // Wrong RTL support\r\n            if (s.rtl) {\r\n                s.wrongRTL = s.wrapper.css('display') === '-webkit-box';\r\n            }\r\n            \r\n            // Columns\r\n            if (s.params.slidesPerColumn > 1) {\r\n                s.classNames.push(s.params.containerModifierClass + 'multirow');\r\n            }\r\n            \r\n            // Check for Android\r\n            if (s.device.android) {\r\n                s.classNames.push(s.params.containerModifierClass + 'android');\r\n            }\r\n            \r\n            // Add classes\r\n            s.container.addClass(s.classNames.join(' '));\r\n            \r\n            // Translate\r\n            s.translate = 0;\r\n            \r\n            // Progress\r\n            s.progress = 0;\r\n            \r\n            // Velocity\r\n            s.velocity = 0;\r\n            \r\n            /*=========================\r\n              Locks, unlocks\r\n              ===========================*/\r\n            s.lockSwipeToNext = function () {\r\n                s.params.allowSwipeToNext = false;\r\n                if (s.params.allowSwipeToPrev === false && s.params.grabCursor) {\r\n                    s.unsetGrabCursor();\r\n                }\r\n            };\r\n            s.lockSwipeToPrev = function () {\r\n                s.params.allowSwipeToPrev = false;\r\n                if (s.params.allowSwipeToNext === false && s.params.grabCursor) {\r\n                    s.unsetGrabCursor();\r\n                }\r\n            };\r\n            s.lockSwipes = function () {\r\n                s.params.allowSwipeToNext = s.params.allowSwipeToPrev = false;\r\n                if (s.params.grabCursor) s.unsetGrabCursor();\r\n            };\r\n            s.unlockSwipeToNext = function () {\r\n                s.params.allowSwipeToNext = true;\r\n                if (s.params.allowSwipeToPrev === true && s.params.grabCursor) {\r\n                    s.setGrabCursor();\r\n                }\r\n            };\r\n            s.unlockSwipeToPrev = function () {\r\n                s.params.allowSwipeToPrev = true;\r\n                if (s.params.allowSwipeToNext === true && s.params.grabCursor) {\r\n                    s.setGrabCursor();\r\n                }\r\n            };\r\n            s.unlockSwipes = function () {\r\n                s.params.allowSwipeToNext = s.params.allowSwipeToPrev = true;\r\n                if (s.params.grabCursor) s.setGrabCursor();\r\n            };\r\n            \r\n            /*=========================\r\n              Round helper\r\n              ===========================*/\r\n            function round(a) {\r\n                return Math.floor(a);\r\n            }\r\n            /*=========================\r\n              Set grab cursor\r\n              ===========================*/\r\n            s.setGrabCursor = function(moving) {\r\n                s.container[0].style.cursor = 'move';\r\n                s.container[0].style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\r\n                s.container[0].style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\r\n                s.container[0].style.cursor = moving ? 'grabbing': 'grab';\r\n            };\r\n            s.unsetGrabCursor = function () {\r\n                s.container[0].style.cursor = '';\r\n            };\r\n            if (s.params.grabCursor) {\r\n                s.setGrabCursor();\r\n            }\r\n            /*=========================\r\n              Update on Images Ready\r\n              ===========================*/\r\n            s.imagesToLoad = [];\r\n            s.imagesLoaded = 0;\r\n            \r\n            s.loadImage = function (imgElement, src, srcset, sizes, checkForComplete, callback) {\r\n                var image;\r\n                function onReady () {\r\n                    if (callback) callback();\r\n                }\r\n                if (!imgElement.complete || !checkForComplete) {\r\n                    if (src) {\r\n                        image = new window.Image();\r\n                        image.onload = onReady;\r\n                        image.onerror = onReady;\r\n                        if (sizes) {\r\n                            image.sizes = sizes;\r\n                        }\r\n                        if (srcset) {\r\n                            image.srcset = srcset;\r\n                        }\r\n                        if (src) {\r\n                            image.src = src;\r\n                        }\r\n                    } else {\r\n                        onReady();\r\n                    }\r\n            \r\n                } else {//image already loaded...\r\n                    onReady();\r\n                }\r\n            };\r\n            s.preloadImages = function () {\r\n                s.imagesToLoad = s.container.find('img');\r\n                function _onReady() {\r\n                    if (typeof s === 'undefined' || s === null || !s) return;\r\n                    if (s.imagesLoaded !== undefined) s.imagesLoaded++;\r\n                    if (s.imagesLoaded === s.imagesToLoad.length) {\r\n                        if (s.params.updateOnImagesReady) s.update();\r\n                        s.emit('onImagesReady', s);\r\n                    }\r\n                }\r\n                for (var i = 0; i < s.imagesToLoad.length; i++) {\r\n                    s.loadImage(s.imagesToLoad[i], (s.imagesToLoad[i].currentSrc || s.imagesToLoad[i].getAttribute('src')), (s.imagesToLoad[i].srcset || s.imagesToLoad[i].getAttribute('srcset')), s.imagesToLoad[i].sizes || s.imagesToLoad[i].getAttribute('sizes'), true, _onReady);\r\n                }\r\n            };\r\n            \r\n            /*=========================\r\n              Autoplay\r\n              ===========================*/\r\n            s.autoplayTimeoutId = undefined;\r\n            s.autoplaying = false;\r\n            s.autoplayPaused = false;\r\n            function autoplay() {\r\n                var autoplayDelay = s.params.autoplay;\r\n                var activeSlide = s.slides.eq(s.activeIndex);\r\n                if (activeSlide.attr('data-swiper-autoplay')) {\r\n                    autoplayDelay = activeSlide.attr('data-swiper-autoplay') || s.params.autoplay;\r\n                }\r\n                s.autoplayTimeoutId = setTimeout(function () {\r\n                    if (s.params.loop) {\r\n                        s.fixLoop();\r\n                        s._slideNext();\r\n                        s.emit('onAutoplay', s);\r\n                    }\r\n                    else {\r\n                        if (!s.isEnd) {\r\n                            s._slideNext();\r\n                            s.emit('onAutoplay', s);\r\n                        }\r\n                        else {\r\n                            if (!params.autoplayStopOnLast) {\r\n                                s._slideTo(0);\r\n                                s.emit('onAutoplay', s);\r\n                            }\r\n                            else {\r\n                                s.stopAutoplay();\r\n                            }\r\n                        }\r\n                    }\r\n                }, autoplayDelay);\r\n            }\r\n            s.startAutoplay = function () {\r\n                if (typeof s.autoplayTimeoutId !== 'undefined') return false;\r\n                if (!s.params.autoplay) return false;\r\n                if (s.autoplaying) return false;\r\n                s.autoplaying = true;\r\n                s.emit('onAutoplayStart', s);\r\n                autoplay();\r\n            };\r\n            s.stopAutoplay = function (internal) {\r\n                if (!s.autoplayTimeoutId) return;\r\n                if (s.autoplayTimeoutId) clearTimeout(s.autoplayTimeoutId);\r\n                s.autoplaying = false;\r\n                s.autoplayTimeoutId = undefined;\r\n                s.emit('onAutoplayStop', s);\r\n            };\r\n            s.pauseAutoplay = function (speed) {\r\n                if (s.autoplayPaused) return;\r\n                if (s.autoplayTimeoutId) clearTimeout(s.autoplayTimeoutId);\r\n                s.autoplayPaused = true;\r\n                if (speed === 0) {\r\n                    s.autoplayPaused = false;\r\n                    autoplay();\r\n                }\r\n                else {\r\n                    s.wrapper.transitionEnd(function () {\r\n                        if (!s) return;\r\n                        s.autoplayPaused = false;\r\n                        if (!s.autoplaying) {\r\n                            s.stopAutoplay();\r\n                        }\r\n                        else {\r\n                            autoplay();\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n            /*=========================\r\n              Min/Max Translate\r\n              ===========================*/\r\n            s.minTranslate = function () {\r\n                return (-s.snapGrid[0]);\r\n            };\r\n            s.maxTranslate = function () {\r\n                return (-s.snapGrid[s.snapGrid.length - 1]);\r\n            };\r\n            /*=========================\r\n              Slider/slides sizes\r\n              ===========================*/\r\n            s.updateAutoHeight = function () {\r\n                var activeSlides = [];\r\n                var newHeight = 0;\r\n                var i;\r\n            \r\n                // Find slides currently in view\r\n                if(s.params.slidesPerView !== 'auto' && s.params.slidesPerView > 1) {\r\n                    for (i = 0; i < Math.ceil(s.params.slidesPerView); i++) {\r\n                        var index = s.activeIndex + i;\r\n                        if(index > s.slides.length) break;\r\n                        activeSlides.push(s.slides.eq(index)[0]);\r\n                    }\r\n                } else {\r\n                    activeSlides.push(s.slides.eq(s.activeIndex)[0]);\r\n                }\r\n            \r\n                // Find new height from heighest slide in view\r\n                for (i = 0; i < activeSlides.length; i++) {\r\n                    if (typeof activeSlides[i] !== 'undefined') {\r\n                        var height = activeSlides[i].offsetHeight;\r\n                        newHeight = height > newHeight ? height : newHeight;\r\n                    }\r\n                }\r\n            \r\n                // Update Height\r\n                if (newHeight) s.wrapper.css('height', newHeight + 'px');\r\n            };\r\n            s.updateContainerSize = function () {\r\n                var width, height;\r\n                if (typeof s.params.width !== 'undefined') {\r\n                    width = s.params.width;\r\n                }\r\n                else {\r\n                    width = s.container[0].clientWidth;\r\n                }\r\n                if (typeof s.params.height !== 'undefined') {\r\n                    height = s.params.height;\r\n                }\r\n                else {\r\n                    height = s.container[0].clientHeight;\r\n                }\r\n                if (width === 0 && s.isHorizontal() || height === 0 && !s.isHorizontal()) {\r\n                    return;\r\n                }\r\n            \r\n                //Subtract paddings\r\n                width = width - parseInt(s.container.css('padding-left'), 10) - parseInt(s.container.css('padding-right'), 10);\r\n                height = height - parseInt(s.container.css('padding-top'), 10) - parseInt(s.container.css('padding-bottom'), 10);\r\n            \r\n                // Store values\r\n                s.width = width;\r\n                s.height = height;\r\n                s.size = s.isHorizontal() ? s.width : s.height;\r\n            };\r\n            \r\n            s.updateSlidesSize = function () {\r\n                s.slides = s.wrapper.children('.' + s.params.slideClass);\r\n                s.snapGrid = [];\r\n                s.slidesGrid = [];\r\n                s.slidesSizesGrid = [];\r\n            \r\n                var spaceBetween = s.params.spaceBetween,\r\n                    slidePosition = -s.params.slidesOffsetBefore,\r\n                    i,\r\n                    prevSlideSize = 0,\r\n                    index = 0;\r\n                if (typeof s.size === 'undefined') return;\r\n                if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\r\n                    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * s.size;\r\n                }\r\n            \r\n                s.virtualSize = -spaceBetween;\r\n                // reset margins\r\n                if (s.rtl) s.slides.css({marginLeft: '', marginTop: ''});\r\n                else s.slides.css({marginRight: '', marginBottom: ''});\r\n            \r\n                var slidesNumberEvenToRows;\r\n                if (s.params.slidesPerColumn > 1) {\r\n                    if (Math.floor(s.slides.length / s.params.slidesPerColumn) === s.slides.length / s.params.slidesPerColumn) {\r\n                        slidesNumberEvenToRows = s.slides.length;\r\n                    }\r\n                    else {\r\n                        slidesNumberEvenToRows = Math.ceil(s.slides.length / s.params.slidesPerColumn) * s.params.slidesPerColumn;\r\n                    }\r\n                    if (s.params.slidesPerView !== 'auto' && s.params.slidesPerColumnFill === 'row') {\r\n                        slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, s.params.slidesPerView * s.params.slidesPerColumn);\r\n                    }\r\n                }\r\n            \r\n                // Calc slides\r\n                var slideSize;\r\n                var slidesPerColumn = s.params.slidesPerColumn;\r\n                var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\r\n                var numFullColumns = slidesPerRow - (s.params.slidesPerColumn * slidesPerRow - s.slides.length);\r\n                for (i = 0; i < s.slides.length; i++) {\r\n                    slideSize = 0;\r\n                    var slide = s.slides.eq(i);\r\n                    if (s.params.slidesPerColumn > 1) {\r\n                        // Set slides order\r\n                        var newSlideOrderIndex;\r\n                        var column, row;\r\n                        if (s.params.slidesPerColumnFill === 'column') {\r\n                            column = Math.floor(i / slidesPerColumn);\r\n                            row = i - column * slidesPerColumn;\r\n                            if (column > numFullColumns || (column === numFullColumns && row === slidesPerColumn-1)) {\r\n                                if (++row >= slidesPerColumn) {\r\n                                    row = 0;\r\n                                    column++;\r\n                                }\r\n                            }\r\n                            newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;\r\n                            slide\r\n                                .css({\r\n                                    '-webkit-box-ordinal-group': newSlideOrderIndex,\r\n                                    '-moz-box-ordinal-group': newSlideOrderIndex,\r\n                                    '-ms-flex-order': newSlideOrderIndex,\r\n                                    '-webkit-order': newSlideOrderIndex,\r\n                                    'order': newSlideOrderIndex\r\n                                });\r\n                        }\r\n                        else {\r\n                            row = Math.floor(i / slidesPerRow);\r\n                            column = i - row * slidesPerRow;\r\n                        }\r\n                        slide\r\n                            .css(\r\n                                'margin-' + (s.isHorizontal() ? 'top' : 'left'),\r\n                                (row !== 0 && s.params.spaceBetween) && (s.params.spaceBetween + 'px')\r\n                            )\r\n                            .attr('data-swiper-column', column)\r\n                            .attr('data-swiper-row', row);\r\n            \r\n                    }\r\n                    if (slide.css('display') === 'none') continue;\r\n                    if (s.params.slidesPerView === 'auto') {\r\n                        slideSize = s.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\r\n                        if (s.params.roundLengths) slideSize = round(slideSize);\r\n                    }\r\n                    else {\r\n                        slideSize = (s.size - (s.params.slidesPerView - 1) * spaceBetween) / s.params.slidesPerView;\r\n                        if (s.params.roundLengths) slideSize = round(slideSize);\r\n            \r\n                        if (s.isHorizontal()) {\r\n                            s.slides[i].style.width = slideSize + 'px';\r\n                        }\r\n                        else {\r\n                            s.slides[i].style.height = slideSize + 'px';\r\n                        }\r\n                    }\r\n                    s.slides[i].swiperSlideSize = slideSize;\r\n                    s.slidesSizesGrid.push(slideSize);\r\n            \r\n            \r\n                    if (s.params.centeredSlides) {\r\n                        slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\r\n                        if (i === 0) slidePosition = slidePosition - s.size / 2 - spaceBetween;\r\n                        if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\r\n                        if ((index) % s.params.slidesPerGroup === 0) s.snapGrid.push(slidePosition);\r\n                        s.slidesGrid.push(slidePosition);\r\n                    }\r\n                    else {\r\n                        if ((index) % s.params.slidesPerGroup === 0) s.snapGrid.push(slidePosition);\r\n                        s.slidesGrid.push(slidePosition);\r\n                        slidePosition = slidePosition + slideSize + spaceBetween;\r\n                    }\r\n            \r\n                    s.virtualSize += slideSize + spaceBetween;\r\n            \r\n                    prevSlideSize = slideSize;\r\n            \r\n                    index ++;\r\n                }\r\n                s.virtualSize = Math.max(s.virtualSize, s.size) + s.params.slidesOffsetAfter;\r\n                var newSlidesGrid;\r\n            \r\n                if (\r\n                    s.rtl && s.wrongRTL && (s.params.effect === 'slide' || s.params.effect === 'coverflow')) {\r\n                    s.wrapper.css({width: s.virtualSize + s.params.spaceBetween + 'px'});\r\n                }\r\n                if (!s.support.flexbox || s.params.setWrapperSize) {\r\n                    if (s.isHorizontal()) s.wrapper.css({width: s.virtualSize + s.params.spaceBetween + 'px'});\r\n                    else s.wrapper.css({height: s.virtualSize + s.params.spaceBetween + 'px'});\r\n                }\r\n            \r\n                if (s.params.slidesPerColumn > 1) {\r\n                    s.virtualSize = (slideSize + s.params.spaceBetween) * slidesNumberEvenToRows;\r\n                    s.virtualSize = Math.ceil(s.virtualSize / s.params.slidesPerColumn) - s.params.spaceBetween;\r\n                    if (s.isHorizontal()) s.wrapper.css({width: s.virtualSize + s.params.spaceBetween + 'px'});\r\n                    else s.wrapper.css({height: s.virtualSize + s.params.spaceBetween + 'px'});\r\n                    if (s.params.centeredSlides) {\r\n                        newSlidesGrid = [];\r\n                        for (i = 0; i < s.snapGrid.length; i++) {\r\n                            if (s.snapGrid[i] < s.virtualSize + s.snapGrid[0]) newSlidesGrid.push(s.snapGrid[i]);\r\n                        }\r\n                        s.snapGrid = newSlidesGrid;\r\n                    }\r\n                }\r\n            \r\n                // Remove last grid elements depending on width\r\n                if (!s.params.centeredSlides) {\r\n                    newSlidesGrid = [];\r\n                    for (i = 0; i < s.snapGrid.length; i++) {\r\n                        if (s.snapGrid[i] <= s.virtualSize - s.size) {\r\n                            newSlidesGrid.push(s.snapGrid[i]);\r\n                        }\r\n                    }\r\n                    s.snapGrid = newSlidesGrid;\r\n                    if (Math.floor(s.virtualSize - s.size) - Math.floor(s.snapGrid[s.snapGrid.length - 1]) > 1) {\r\n                        s.snapGrid.push(s.virtualSize - s.size);\r\n                    }\r\n                }\r\n                if (s.snapGrid.length === 0) s.snapGrid = [0];\r\n            \r\n                if (s.params.spaceBetween !== 0) {\r\n                    if (s.isHorizontal()) {\r\n                        if (s.rtl) s.slides.css({marginLeft: spaceBetween + 'px'});\r\n                        else s.slides.css({marginRight: spaceBetween + 'px'});\r\n                    }\r\n                    else s.slides.css({marginBottom: spaceBetween + 'px'});\r\n                }\r\n                if (s.params.watchSlidesProgress) {\r\n                    s.updateSlidesOffset();\r\n                }\r\n            };\r\n            s.updateSlidesOffset = function () {\r\n                for (var i = 0; i < s.slides.length; i++) {\r\n                    s.slides[i].swiperSlideOffset = s.isHorizontal() ? s.slides[i].offsetLeft : s.slides[i].offsetTop;\r\n                }\r\n            };\r\n            \r\n            /*=========================\r\n              Dynamic Slides Per View\r\n              ===========================*/\r\n            s.currentSlidesPerView = function () {\r\n                var spv = 1, i, j;\r\n                if (s.params.centeredSlides) {\r\n                    var size = s.slides[s.activeIndex].swiperSlideSize;\r\n                    var breakLoop;\r\n                    for (i = s.activeIndex + 1; i < s.slides.length; i++) {\r\n                        if (s.slides[i] && !breakLoop) {\r\n                            size += s.slides[i].swiperSlideSize;\r\n                            spv ++;\r\n                            if (size > s.size) breakLoop = true;\r\n                        }\r\n                    }\r\n                    for (j = s.activeIndex - 1; j >= 0; j--) {\r\n                        if (s.slides[j] && !breakLoop) {\r\n                            size += s.slides[j].swiperSlideSize;\r\n                            spv ++;\r\n                            if (size > s.size) breakLoop = true;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    for (i = s.activeIndex + 1; i < s.slides.length; i++) {\r\n                        if (s.slidesGrid[i] - s.slidesGrid[s.activeIndex] < s.size) {\r\n                            spv++;\r\n                        }\r\n                    }\r\n                }\r\n                return spv;\r\n            };\r\n            /*=========================\r\n              Slider/slides progress\r\n              ===========================*/\r\n            s.updateSlidesProgress = function (translate) {\r\n                if (typeof translate === 'undefined') {\r\n                    translate = s.translate || 0;\r\n                }\r\n                if (s.slides.length === 0) return;\r\n                if (typeof s.slides[0].swiperSlideOffset === 'undefined') s.updateSlidesOffset();\r\n            \r\n                var offsetCenter = -translate;\r\n                if (s.rtl) offsetCenter = translate;\r\n            \r\n                // Visible Slides\r\n                s.slides.removeClass(s.params.slideVisibleClass);\r\n                for (var i = 0; i < s.slides.length; i++) {\r\n                    var slide = s.slides[i];\r\n                    var slideProgress = (offsetCenter + (s.params.centeredSlides ? s.minTranslate() : 0) - slide.swiperSlideOffset) / (slide.swiperSlideSize + s.params.spaceBetween);\r\n                    if (s.params.watchSlidesVisibility) {\r\n                        var slideBefore = -(offsetCenter - slide.swiperSlideOffset);\r\n                        var slideAfter = slideBefore + s.slidesSizesGrid[i];\r\n                        var isVisible =\r\n                            (slideBefore >= 0 && slideBefore < s.size) ||\r\n                            (slideAfter > 0 && slideAfter <= s.size) ||\r\n                            (slideBefore <= 0 && slideAfter >= s.size);\r\n                        if (isVisible) {\r\n                            s.slides.eq(i).addClass(s.params.slideVisibleClass);\r\n                        }\r\n                    }\r\n                    slide.progress = s.rtl ? -slideProgress : slideProgress;\r\n                }\r\n            };\r\n            s.updateProgress = function (translate) {\r\n                if (typeof translate === 'undefined') {\r\n                    translate = s.translate || 0;\r\n                }\r\n                var translatesDiff = s.maxTranslate() - s.minTranslate();\r\n                var wasBeginning = s.isBeginning;\r\n                var wasEnd = s.isEnd;\r\n                if (translatesDiff === 0) {\r\n                    s.progress = 0;\r\n                    s.isBeginning = s.isEnd = true;\r\n                }\r\n                else {\r\n                    s.progress = (translate - s.minTranslate()) / (translatesDiff);\r\n                    s.isBeginning = s.progress <= 0;\r\n                    s.isEnd = s.progress >= 1;\r\n                }\r\n                if (s.isBeginning && !wasBeginning) s.emit('onReachBeginning', s);\r\n                if (s.isEnd && !wasEnd) s.emit('onReachEnd', s);\r\n            \r\n                if (s.params.watchSlidesProgress) s.updateSlidesProgress(translate);\r\n                s.emit('onProgress', s, s.progress);\r\n            };\r\n            s.updateActiveIndex = function () {\r\n                var translate = s.rtl ? s.translate : -s.translate;\r\n                var newActiveIndex, i, snapIndex;\r\n                for (i = 0; i < s.slidesGrid.length; i ++) {\r\n                    if (typeof s.slidesGrid[i + 1] !== 'undefined') {\r\n                        if (translate >= s.slidesGrid[i] && translate < s.slidesGrid[i + 1] - (s.slidesGrid[i + 1] - s.slidesGrid[i]) / 2) {\r\n                            newActiveIndex = i;\r\n                        }\r\n                        else if (translate >= s.slidesGrid[i] && translate < s.slidesGrid[i + 1]) {\r\n                            newActiveIndex = i + 1;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (translate >= s.slidesGrid[i]) {\r\n                            newActiveIndex = i;\r\n                        }\r\n                    }\r\n                }\r\n                // Normalize slideIndex\r\n                if(s.params.normalizeSlideIndex){\r\n                    if (newActiveIndex < 0 || typeof newActiveIndex === 'undefined') newActiveIndex = 0;\r\n                }\r\n                // for (i = 0; i < s.slidesGrid.length; i++) {\r\n                    // if (- translate >= s.slidesGrid[i]) {\r\n                        // newActiveIndex = i;\r\n                    // }\r\n                // }\r\n                snapIndex = Math.floor(newActiveIndex / s.params.slidesPerGroup);\r\n                if (snapIndex >= s.snapGrid.length) snapIndex = s.snapGrid.length - 1;\r\n            \r\n                if (newActiveIndex === s.activeIndex) {\r\n                    return;\r\n                }\r\n                s.snapIndex = snapIndex;\r\n                s.previousIndex = s.activeIndex;\r\n                s.activeIndex = newActiveIndex;\r\n                s.updateClasses();\r\n                s.updateRealIndex();\r\n            };\r\n            s.updateRealIndex = function(){\r\n                s.realIndex = parseInt(s.slides.eq(s.activeIndex).attr('data-swiper-slide-index') || s.activeIndex, 10);\r\n            };\r\n            \r\n            /*=========================\r\n              Classes\r\n              ===========================*/\r\n            s.updateClasses = function () {\r\n                s.slides.removeClass(s.params.slideActiveClass + ' ' + s.params.slideNextClass + ' ' + s.params.slidePrevClass + ' ' + s.params.slideDuplicateActiveClass + ' ' + s.params.slideDuplicateNextClass + ' ' + s.params.slideDuplicatePrevClass);\r\n                var activeSlide = s.slides.eq(s.activeIndex);\r\n                // Active classes\r\n                activeSlide.addClass(s.params.slideActiveClass);\r\n                if (params.loop) {\r\n                    // Duplicate to all looped slides\r\n                    if (activeSlide.hasClass(s.params.slideDuplicateClass)) {\r\n                        s.wrapper.children('.' + s.params.slideClass + ':not(.' + s.params.slideDuplicateClass + ')[data-swiper-slide-index=\"' + s.realIndex + '\"]').addClass(s.params.slideDuplicateActiveClass);\r\n                    }\r\n                    else {\r\n                        s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass + '[data-swiper-slide-index=\"' + s.realIndex + '\"]').addClass(s.params.slideDuplicateActiveClass);\r\n                    }\r\n                }\r\n                // Next Slide\r\n                var nextSlide = activeSlide.next('.' + s.params.slideClass).addClass(s.params.slideNextClass);\r\n                if (s.params.loop && nextSlide.length === 0) {\r\n                    nextSlide = s.slides.eq(0);\r\n                    nextSlide.addClass(s.params.slideNextClass);\r\n                }\r\n                // Prev Slide\r\n                var prevSlide = activeSlide.prev('.' + s.params.slideClass).addClass(s.params.slidePrevClass);\r\n                if (s.params.loop && prevSlide.length === 0) {\r\n                    prevSlide = s.slides.eq(-1);\r\n                    prevSlide.addClass(s.params.slidePrevClass);\r\n                }\r\n                if (params.loop) {\r\n                    // Duplicate to all looped slides\r\n                    if (nextSlide.hasClass(s.params.slideDuplicateClass)) {\r\n                        s.wrapper.children('.' + s.params.slideClass + ':not(.' + s.params.slideDuplicateClass + ')[data-swiper-slide-index=\"' + nextSlide.attr('data-swiper-slide-index') + '\"]').addClass(s.params.slideDuplicateNextClass);\r\n                    }\r\n                    else {\r\n                        s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass + '[data-swiper-slide-index=\"' + nextSlide.attr('data-swiper-slide-index') + '\"]').addClass(s.params.slideDuplicateNextClass);\r\n                    }\r\n                    if (prevSlide.hasClass(s.params.slideDuplicateClass)) {\r\n                        s.wrapper.children('.' + s.params.slideClass + ':not(.' + s.params.slideDuplicateClass + ')[data-swiper-slide-index=\"' + prevSlide.attr('data-swiper-slide-index') + '\"]').addClass(s.params.slideDuplicatePrevClass);\r\n                    }\r\n                    else {\r\n                        s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass + '[data-swiper-slide-index=\"' + prevSlide.attr('data-swiper-slide-index') + '\"]').addClass(s.params.slideDuplicatePrevClass);\r\n                    }\r\n                }\r\n            \r\n                // Pagination\r\n                if (s.paginationContainer && s.paginationContainer.length > 0) {\r\n                    // Current/Total\r\n                    var current,\r\n                        total = s.params.loop ? Math.ceil((s.slides.length - s.loopedSlides * 2) / s.params.slidesPerGroup) : s.snapGrid.length;\r\n                    if (s.params.loop) {\r\n                        current = Math.ceil((s.activeIndex - s.loopedSlides)/s.params.slidesPerGroup);\r\n                        if (current > s.slides.length - 1 - s.loopedSlides * 2) {\r\n                            current = current - (s.slides.length - s.loopedSlides * 2);\r\n                        }\r\n                        if (current > total - 1) current = current - total;\r\n                        if (current < 0 && s.params.paginationType !== 'bullets') current = total + current;\r\n                    }\r\n                    else {\r\n                        if (typeof s.snapIndex !== 'undefined') {\r\n                            current = s.snapIndex;\r\n                        }\r\n                        else {\r\n                            current = s.activeIndex || 0;\r\n                        }\r\n                    }\r\n                    // Types\r\n                    if (s.params.paginationType === 'bullets' && s.bullets && s.bullets.length > 0) {\r\n                        s.bullets.removeClass(s.params.bulletActiveClass);\r\n                        if (s.paginationContainer.length > 1) {\r\n                            s.bullets.each(function () {\r\n                                if ($(this).index() === current) $(this).addClass(s.params.bulletActiveClass);\r\n                            });\r\n                        }\r\n                        else {\r\n                            s.bullets.eq(current).addClass(s.params.bulletActiveClass);\r\n                        }\r\n                    }\r\n                    if (s.params.paginationType === 'fraction') {\r\n                        s.paginationContainer.find('.' + s.params.paginationCurrentClass).text(current + 1);\r\n                        s.paginationContainer.find('.' + s.params.paginationTotalClass).text(total);\r\n                    }\r\n                    if (s.params.paginationType === 'progress') {\r\n                        var scale = (current + 1) / total,\r\n                            scaleX = scale,\r\n                            scaleY = 1;\r\n                        if (!s.isHorizontal()) {\r\n                            scaleY = scale;\r\n                            scaleX = 1;\r\n                        }\r\n                        s.paginationContainer.find('.' + s.params.paginationProgressbarClass).transform('translate3d(0,0,0) scaleX(' + scaleX + ') scaleY(' + scaleY + ')').transition(s.params.speed);\r\n                    }\r\n                    if (s.params.paginationType === 'custom' && s.params.paginationCustomRender) {\r\n                        s.paginationContainer.html(s.params.paginationCustomRender(s, current + 1, total));\r\n                        s.emit('onPaginationRendered', s, s.paginationContainer[0]);\r\n                    }\r\n                }\r\n            \r\n                // Next/active buttons\r\n                if (!s.params.loop) {\r\n                    if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\r\n                        if (s.isBeginning) {\r\n                            s.prevButton.addClass(s.params.buttonDisabledClass);\r\n                            if (s.params.a11y && s.a11y) s.a11y.disable(s.prevButton);\r\n                        }\r\n                        else {\r\n                            s.prevButton.removeClass(s.params.buttonDisabledClass);\r\n                            if (s.params.a11y && s.a11y) s.a11y.enable(s.prevButton);\r\n                        }\r\n                    }\r\n                    if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\r\n                        if (s.isEnd) {\r\n                            s.nextButton.addClass(s.params.buttonDisabledClass);\r\n                            if (s.params.a11y && s.a11y) s.a11y.disable(s.nextButton);\r\n                        }\r\n                        else {\r\n                            s.nextButton.removeClass(s.params.buttonDisabledClass);\r\n                            if (s.params.a11y && s.a11y) s.a11y.enable(s.nextButton);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            \r\n            /*=========================\r\n              Pagination\r\n              ===========================*/\r\n            s.updatePagination = function () {\r\n                if (!s.params.pagination) return;\r\n                if (s.paginationContainer && s.paginationContainer.length > 0) {\r\n                    var paginationHTML = '';\r\n                    if (s.params.paginationType === 'bullets') {\r\n                        var numberOfBullets = s.params.loop ? Math.ceil((s.slides.length - s.loopedSlides * 2) / s.params.slidesPerGroup) : s.snapGrid.length;\r\n                        for (var i = 0; i < numberOfBullets; i++) {\r\n                            if (s.params.paginationBulletRender) {\r\n                                paginationHTML += s.params.paginationBulletRender(s, i, s.params.bulletClass);\r\n                            }\r\n                            else {\r\n                                paginationHTML += '<' + s.params.paginationElement+' class=\"' + s.params.bulletClass + '\"></' + s.params.paginationElement + '>';\r\n                            }\r\n                        }\r\n                        s.paginationContainer.html(paginationHTML);\r\n                        s.bullets = s.paginationContainer.find('.' + s.params.bulletClass);\r\n                        if (s.params.paginationClickable && s.params.a11y && s.a11y) {\r\n                            s.a11y.initPagination();\r\n                        }\r\n                    }\r\n                    if (s.params.paginationType === 'fraction') {\r\n                        if (s.params.paginationFractionRender) {\r\n                            paginationHTML = s.params.paginationFractionRender(s, s.params.paginationCurrentClass, s.params.paginationTotalClass);\r\n                        }\r\n                        else {\r\n                            paginationHTML =\r\n                                '<span class=\"' + s.params.paginationCurrentClass + '\"></span>' +\r\n                                ' / ' +\r\n                                '<span class=\"' + s.params.paginationTotalClass+'\"></span>';\r\n                        }\r\n                        s.paginationContainer.html(paginationHTML);\r\n                    }\r\n                    if (s.params.paginationType === 'progress') {\r\n                        if (s.params.paginationProgressRender) {\r\n                            paginationHTML = s.params.paginationProgressRender(s, s.params.paginationProgressbarClass);\r\n                        }\r\n                        else {\r\n                            paginationHTML = '<span class=\"' + s.params.paginationProgressbarClass + '\"></span>';\r\n                        }\r\n                        s.paginationContainer.html(paginationHTML);\r\n                    }\r\n                    if (s.params.paginationType !== 'custom') {\r\n                        s.emit('onPaginationRendered', s, s.paginationContainer[0]);\r\n                    }\r\n                }\r\n            };\r\n            /*=========================\r\n              Common update method\r\n              ===========================*/\r\n            s.update = function (updateTranslate) {\r\n                if (!s) return;\r\n                s.updateContainerSize();\r\n                s.updateSlidesSize();\r\n                s.updateProgress();\r\n                s.updatePagination();\r\n                s.updateClasses();\r\n                if (s.params.scrollbar && s.scrollbar) {\r\n                    s.scrollbar.set();\r\n                }\r\n                function forceSetTranslate() {\r\n                    var translate = s.rtl ? -s.translate : s.translate;\r\n                    newTranslate = Math.min(Math.max(s.translate, s.maxTranslate()), s.minTranslate());\r\n                    s.setWrapperTranslate(newTranslate);\r\n                    s.updateActiveIndex();\r\n                    s.updateClasses();\r\n                }\r\n                if (updateTranslate) {\r\n                    var translated, newTranslate;\r\n                    if (s.controller && s.controller.spline) {\r\n                        s.controller.spline = undefined;\r\n                    }\r\n                    if (s.params.freeMode) {\r\n                        forceSetTranslate();\r\n                        if (s.params.autoHeight) {\r\n                            s.updateAutoHeight();\r\n                        }\r\n                    }\r\n                    else {\r\n                        if ((s.params.slidesPerView === 'auto' || s.params.slidesPerView > 1) && s.isEnd && !s.params.centeredSlides) {\r\n                            translated = s.slideTo(s.slides.length - 1, 0, false, true);\r\n                        }\r\n                        else {\r\n                            translated = s.slideTo(s.activeIndex, 0, false, true);\r\n                        }\r\n                        if (!translated) {\r\n                            forceSetTranslate();\r\n                        }\r\n                    }\r\n                }\r\n                else if (s.params.autoHeight) {\r\n                    s.updateAutoHeight();\r\n                }\r\n            };\r\n            \r\n            /*=========================\r\n              Resize Handler\r\n              ===========================*/\r\n            s.onResize = function (forceUpdatePagination) {\r\n                //Breakpoints\r\n                if (s.params.breakpoints) {\r\n                    s.setBreakpoint();\r\n                }\r\n            \r\n                // Disable locks on resize\r\n                var allowSwipeToPrev = s.params.allowSwipeToPrev;\r\n                var allowSwipeToNext = s.params.allowSwipeToNext;\r\n                s.params.allowSwipeToPrev = s.params.allowSwipeToNext = true;\r\n            \r\n                s.updateContainerSize();\r\n                s.updateSlidesSize();\r\n                if (s.params.slidesPerView === 'auto' || s.params.freeMode || forceUpdatePagination) s.updatePagination();\r\n                if (s.params.scrollbar && s.scrollbar) {\r\n                    s.scrollbar.set();\r\n                }\r\n                if (s.controller && s.controller.spline) {\r\n                    s.controller.spline = undefined;\r\n                }\r\n                var slideChangedBySlideTo = false;\r\n                if (s.params.freeMode) {\r\n                    var newTranslate = Math.min(Math.max(s.translate, s.maxTranslate()), s.minTranslate());\r\n                    s.setWrapperTranslate(newTranslate);\r\n                    s.updateActiveIndex();\r\n                    s.updateClasses();\r\n            \r\n                    if (s.params.autoHeight) {\r\n                        s.updateAutoHeight();\r\n                    }\r\n                }\r\n                else {\r\n                    s.updateClasses();\r\n                    if ((s.params.slidesPerView === 'auto' || s.params.slidesPerView > 1) && s.isEnd && !s.params.centeredSlides) {\r\n                        slideChangedBySlideTo = s.slideTo(s.slides.length - 1, 0, false, true);\r\n                    }\r\n                    else {\r\n                        slideChangedBySlideTo = s.slideTo(s.activeIndex, 0, false, true);\r\n                    }\r\n                }\r\n                if (s.params.lazyLoading && !slideChangedBySlideTo && s.lazy) {\r\n                    s.lazy.load();\r\n                }\r\n                // Return locks after resize\r\n                s.params.allowSwipeToPrev = allowSwipeToPrev;\r\n                s.params.allowSwipeToNext = allowSwipeToNext;\r\n            };\r\n            \r\n            /*=========================\r\n              Events\r\n              ===========================*/\r\n            \r\n            //Define Touch Events\r\n            s.touchEventsDesktop = {start: 'mousedown', move: 'mousemove', end: 'mouseup'};\r\n            if (window.navigator.pointerEnabled) s.touchEventsDesktop = {start: 'pointerdown', move: 'pointermove', end: 'pointerup'};\r\n            else if (window.navigator.msPointerEnabled) s.touchEventsDesktop = {start: 'MSPointerDown', move: 'MSPointerMove', end: 'MSPointerUp'};\r\n            s.touchEvents = {\r\n                start : s.support.touch || !s.params.simulateTouch  ? 'touchstart' : s.touchEventsDesktop.start,\r\n                move : s.support.touch || !s.params.simulateTouch ? 'touchmove' : s.touchEventsDesktop.move,\r\n                end : s.support.touch || !s.params.simulateTouch ? 'touchend' : s.touchEventsDesktop.end\r\n            };\r\n            \r\n            \r\n            // WP8 Touch Events Fix\r\n            if (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) {\r\n                (s.params.touchEventsTarget === 'container' ? s.container : s.wrapper).addClass('swiper-wp8-' + s.params.direction);\r\n            }\r\n            \r\n            // Attach/detach events\r\n            s.initEvents = function (detach) {\r\n                var actionDom = detach ? 'off' : 'on';\r\n                var action = detach ? 'removeEventListener' : 'addEventListener';\r\n                var touchEventsTarget = s.params.touchEventsTarget === 'container' ? s.container[0] : s.wrapper[0];\r\n                var target = s.support.touch ? touchEventsTarget : document;\r\n            \r\n                var moveCapture = s.params.nested ? true : false;\r\n            \r\n                //Touch Events\r\n                if (s.browser.ie) {\r\n                    touchEventsTarget[action](s.touchEvents.start, s.onTouchStart, false);\r\n                    target[action](s.touchEvents.move, s.onTouchMove, moveCapture);\r\n                    target[action](s.touchEvents.end, s.onTouchEnd, false);\r\n                }\r\n                else {\r\n                    if (s.support.touch) {\r\n                        var passiveListener = s.touchEvents.start === 'touchstart' && s.support.passiveListener && s.params.passiveListeners ? {passive: true, capture: false} : false;\r\n                        touchEventsTarget[action](s.touchEvents.start, s.onTouchStart, passiveListener);\r\n                        touchEventsTarget[action](s.touchEvents.move, s.onTouchMove, moveCapture);\r\n                        touchEventsTarget[action](s.touchEvents.end, s.onTouchEnd, passiveListener);\r\n                    }\r\n                    if ((params.simulateTouch && !s.device.ios && !s.device.android) || (params.simulateTouch && !s.support.touch && s.device.ios)) {\r\n                        touchEventsTarget[action]('mousedown', s.onTouchStart, false);\r\n                        document[action]('mousemove', s.onTouchMove, moveCapture);\r\n                        document[action]('mouseup', s.onTouchEnd, false);\r\n                    }\r\n                }\r\n                window[action]('resize', s.onResize);\r\n            \r\n                // Next, Prev, Index\r\n                if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\r\n                    s.nextButton[actionDom]('click', s.onClickNext);\r\n                    if (s.params.a11y && s.a11y) s.nextButton[actionDom]('keydown', s.a11y.onEnterKey);\r\n                }\r\n                if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\r\n                    s.prevButton[actionDom]('click', s.onClickPrev);\r\n                    if (s.params.a11y && s.a11y) s.prevButton[actionDom]('keydown', s.a11y.onEnterKey);\r\n                }\r\n                if (s.params.pagination && s.params.paginationClickable) {\r\n                    s.paginationContainer[actionDom]('click', '.' + s.params.bulletClass, s.onClickIndex);\r\n                    if (s.params.a11y && s.a11y) s.paginationContainer[actionDom]('keydown', '.' + s.params.bulletClass, s.a11y.onEnterKey);\r\n                }\r\n            \r\n                // Prevent Links Clicks\r\n                if (s.params.preventClicks || s.params.preventClicksPropagation) touchEventsTarget[action]('click', s.preventClicks, true);\r\n            };\r\n            s.attachEvents = function () {\r\n                s.initEvents();\r\n            };\r\n            s.detachEvents = function () {\r\n                s.initEvents(true);\r\n            };\r\n            \r\n            /*=========================\r\n              Handle Clicks\r\n              ===========================*/\r\n            // Prevent Clicks\r\n            s.allowClick = true;\r\n            s.preventClicks = function (e) {\r\n                if (!s.allowClick) {\r\n                    if (s.params.preventClicks) e.preventDefault();\r\n                    if (s.params.preventClicksPropagation && s.animating) {\r\n                        e.stopPropagation();\r\n                        e.stopImmediatePropagation();\r\n                    }\r\n                }\r\n            };\r\n            // Clicks\r\n            s.onClickNext = function (e) {\r\n                e.preventDefault();\r\n                if (s.isEnd && !s.params.loop) return;\r\n                s.slideNext();\r\n            };\r\n            s.onClickPrev = function (e) {\r\n                e.preventDefault();\r\n                if (s.isBeginning && !s.params.loop) return;\r\n                s.slidePrev();\r\n            };\r\n            s.onClickIndex = function (e) {\r\n                e.preventDefault();\r\n                var index = $(this).index() * s.params.slidesPerGroup;\r\n                if (s.params.loop) index = index + s.loopedSlides;\r\n                s.slideTo(index);\r\n            };\r\n            \r\n            /*=========================\r\n              Handle Touches\r\n              ===========================*/\r\n            function findElementInEvent(e, selector) {\r\n                var el = $(e.target);\r\n                if (!el.is(selector)) {\r\n                    if (typeof selector === 'string') {\r\n                        el = el.parents(selector);\r\n                    }\r\n                    else if (selector.nodeType) {\r\n                        var found;\r\n                        el.parents().each(function (index, _el) {\r\n                            if (_el === selector) found = selector;\r\n                        });\r\n                        if (!found) return undefined;\r\n                        else return selector;\r\n                    }\r\n                }\r\n                if (el.length === 0) {\r\n                    return undefined;\r\n                }\r\n                return el[0];\r\n            }\r\n            s.updateClickedSlide = function (e) {\r\n                var slide = findElementInEvent(e, '.' + s.params.slideClass);\r\n                var slideFound = false;\r\n                if (slide) {\r\n                    for (var i = 0; i < s.slides.length; i++) {\r\n                        if (s.slides[i] === slide) slideFound = true;\r\n                    }\r\n                }\r\n            \r\n                if (slide && slideFound) {\r\n                    s.clickedSlide = slide;\r\n                    s.clickedIndex = $(slide).index();\r\n                }\r\n                else {\r\n                    s.clickedSlide = undefined;\r\n                    s.clickedIndex = undefined;\r\n                    return;\r\n                }\r\n                if (s.params.slideToClickedSlide && s.clickedIndex !== undefined && s.clickedIndex !== s.activeIndex) {\r\n                    var slideToIndex = s.clickedIndex,\r\n                        realIndex,\r\n                        duplicatedSlides,\r\n                        slidesPerView = s.params.slidesPerView === 'auto' ? s.currentSlidesPerView() : s.params.slidesPerView;\r\n                    if (s.params.loop) {\r\n                        if (s.animating) return;\r\n                        realIndex = parseInt($(s.clickedSlide).attr('data-swiper-slide-index'), 10);\r\n                        if (s.params.centeredSlides) {\r\n                            if ((slideToIndex < s.loopedSlides - slidesPerView/2) || (slideToIndex > s.slides.length - s.loopedSlides + slidesPerView/2)) {\r\n                                s.fixLoop();\r\n                                slideToIndex = s.wrapper.children('.' + s.params.slideClass + '[data-swiper-slide-index=\"' + realIndex + '\"]:not(.' + s.params.slideDuplicateClass + ')').eq(0).index();\r\n                                setTimeout(function () {\r\n                                    s.slideTo(slideToIndex);\r\n                                }, 0);\r\n                            }\r\n                            else {\r\n                                s.slideTo(slideToIndex);\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (slideToIndex > s.slides.length - slidesPerView) {\r\n                                s.fixLoop();\r\n                                slideToIndex = s.wrapper.children('.' + s.params.slideClass + '[data-swiper-slide-index=\"' + realIndex + '\"]:not(.' + s.params.slideDuplicateClass + ')').eq(0).index();\r\n                                setTimeout(function () {\r\n                                    s.slideTo(slideToIndex);\r\n                                }, 0);\r\n                            }\r\n                            else {\r\n                                s.slideTo(slideToIndex);\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        s.slideTo(slideToIndex);\r\n                    }\r\n                }\r\n            };\r\n            \r\n            var isTouched,\r\n                isMoved,\r\n                allowTouchCallbacks,\r\n                touchStartTime,\r\n                isScrolling,\r\n                currentTranslate,\r\n                startTranslate,\r\n                allowThresholdMove,\r\n                // Form elements to match\r\n                formElements = 'input, select, textarea, button, video',\r\n                // Last click time\r\n                lastClickTime = Date.now(), clickTimeout,\r\n                //Velocities\r\n                velocities = [],\r\n                allowMomentumBounce;\r\n            \r\n            // Animating Flag\r\n            s.animating = false;\r\n            \r\n            // Touches information\r\n            s.touches = {\r\n                startX: 0,\r\n                startY: 0,\r\n                currentX: 0,\r\n                currentY: 0,\r\n                diff: 0\r\n            };\r\n            \r\n            // Touch handlers\r\n            var isTouchEvent, startMoving;\r\n            s.onTouchStart = function (e) {\r\n                if (e.originalEvent) e = e.originalEvent;\r\n                isTouchEvent = e.type === 'touchstart';\r\n                if (!isTouchEvent && 'which' in e && e.which === 3) return;\r\n                if (s.params.noSwiping && findElementInEvent(e, '.' + s.params.noSwipingClass)) {\r\n                    s.allowClick = true;\r\n                    return;\r\n                }\r\n                if (s.params.swipeHandler) {\r\n                    if (!findElementInEvent(e, s.params.swipeHandler)) return;\r\n                }\r\n            \r\n                var startX = s.touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\r\n                var startY = s.touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\r\n            \r\n                // Do NOT start if iOS edge swipe is detected. Otherwise iOS app (UIWebView) cannot swipe-to-go-back anymore\r\n                if(s.device.ios && s.params.iOSEdgeSwipeDetection && startX <= s.params.iOSEdgeSwipeThreshold) {\r\n                    return;\r\n                }\r\n            \r\n                isTouched = true;\r\n                isMoved = false;\r\n                allowTouchCallbacks = true;\r\n                isScrolling = undefined;\r\n                startMoving = undefined;\r\n                s.touches.startX = startX;\r\n                s.touches.startY = startY;\r\n                touchStartTime = Date.now();\r\n                s.allowClick = true;\r\n                s.updateContainerSize();\r\n                s.swipeDirection = undefined;\r\n                if (s.params.threshold > 0) allowThresholdMove = false;\r\n                if (e.type !== 'touchstart') {\r\n                    var preventDefault = true;\r\n                    if ($(e.target).is(formElements)) preventDefault = false;\r\n                    if (document.activeElement && $(document.activeElement).is(formElements)) {\r\n                        document.activeElement.blur();\r\n                    }\r\n                    if (preventDefault) {\r\n                        e.preventDefault();\r\n                    }\r\n                }\r\n                s.emit('onTouchStart', s, e);\r\n            };\r\n            \r\n            s.onTouchMove = function (e) {\r\n                if (e.originalEvent) e = e.originalEvent;\r\n                if (isTouchEvent && e.type === 'mousemove') return;\r\n                if (e.preventedByNestedSwiper) {\r\n                    s.touches.startX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\r\n                    s.touches.startY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n                    return;\r\n                }\r\n                if (s.params.onlyExternal) {\r\n                    // isMoved = true;\r\n                    s.allowClick = false;\r\n                    if (isTouched) {\r\n                        s.touches.startX = s.touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\r\n                        s.touches.startY = s.touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n                        touchStartTime = Date.now();\r\n                    }\r\n                    return;\r\n                }\r\n                if (isTouchEvent && s.params.touchReleaseOnEdges && !s.params.loop) {\r\n                    if (!s.isHorizontal()) {\r\n                        // Vertical\r\n                        if (\r\n                            (s.touches.currentY < s.touches.startY && s.translate <= s.maxTranslate()) ||\r\n                            (s.touches.currentY > s.touches.startY && s.translate >= s.minTranslate())\r\n                            ) {\r\n                            return;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (\r\n                            (s.touches.currentX < s.touches.startX && s.translate <= s.maxTranslate()) ||\r\n                            (s.touches.currentX > s.touches.startX && s.translate >= s.minTranslate())\r\n                            ) {\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                if (isTouchEvent && document.activeElement) {\r\n                    if (e.target === document.activeElement && $(e.target).is(formElements)) {\r\n                        isMoved = true;\r\n                        s.allowClick = false;\r\n                        return;\r\n                    }\r\n                }\r\n                if (allowTouchCallbacks) {\r\n                    s.emit('onTouchMove', s, e);\r\n                }\r\n                if (e.targetTouches && e.targetTouches.length > 1) return;\r\n            \r\n                s.touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\r\n                s.touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n            \r\n                if (typeof isScrolling === 'undefined') {\r\n                    var touchAngle;\r\n                    if (s.isHorizontal() && s.touches.currentY === s.touches.startY || !s.isHorizontal() && s.touches.currentX === s.touches.startX) {\r\n                        isScrolling = false;\r\n                    }\r\n                    else {\r\n                        touchAngle = Math.atan2(Math.abs(s.touches.currentY - s.touches.startY), Math.abs(s.touches.currentX - s.touches.startX)) * 180 / Math.PI;\r\n                        isScrolling = s.isHorizontal() ? touchAngle > s.params.touchAngle : (90 - touchAngle > s.params.touchAngle);\r\n                    }\r\n                }\r\n                if (isScrolling) {\r\n                    s.emit('onTouchMoveOpposite', s, e);\r\n                }\r\n                if (typeof startMoving === 'undefined' && s.browser.ieTouch) {\r\n                    if (s.touches.currentX !== s.touches.startX || s.touches.currentY !== s.touches.startY) {\r\n                        startMoving = true;\r\n                    }\r\n                }\r\n                if (!isTouched) return;\r\n                if (isScrolling)  {\r\n                    isTouched = false;\r\n                    return;\r\n                }\r\n                if (!startMoving && s.browser.ieTouch) {\r\n                    return;\r\n                }\r\n                s.allowClick = false;\r\n                s.emit('onSliderMove', s, e);\r\n                e.preventDefault();\r\n                if (s.params.touchMoveStopPropagation && !s.params.nested) {\r\n                    e.stopPropagation();\r\n                }\r\n            \r\n                if (!isMoved) {\r\n                    if (params.loop) {\r\n                        s.fixLoop();\r\n                    }\r\n                    startTranslate = s.getWrapperTranslate();\r\n                    s.setWrapperTransition(0);\r\n                    if (s.animating) {\r\n                        s.wrapper.trigger('webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd');\r\n                    }\r\n                    if (s.params.autoplay && s.autoplaying) {\r\n                        if (s.params.autoplayDisableOnInteraction) {\r\n                            s.stopAutoplay();\r\n                        }\r\n                        else {\r\n                            s.pauseAutoplay();\r\n                        }\r\n                    }\r\n                    allowMomentumBounce = false;\r\n                    //Grab Cursor\r\n                    if (s.params.grabCursor && (s.params.allowSwipeToNext === true || s.params.allowSwipeToPrev === true)) {\r\n                        s.setGrabCursor(true);\r\n                    }\r\n                }\r\n                isMoved = true;\r\n            \r\n                var diff = s.touches.diff = s.isHorizontal() ? s.touches.currentX - s.touches.startX : s.touches.currentY - s.touches.startY;\r\n            \r\n                diff = diff * s.params.touchRatio;\r\n                if (s.rtl) diff = -diff;\r\n            \r\n                s.swipeDirection = diff > 0 ? 'prev' : 'next';\r\n                currentTranslate = diff + startTranslate;\r\n            \r\n                var disableParentSwiper = true;\r\n                if ((diff > 0 && currentTranslate > s.minTranslate())) {\r\n                    disableParentSwiper = false;\r\n                    if (s.params.resistance) currentTranslate = s.minTranslate() - 1 + Math.pow(-s.minTranslate() + startTranslate + diff, s.params.resistanceRatio);\r\n                }\r\n                else if (diff < 0 && currentTranslate < s.maxTranslate()) {\r\n                    disableParentSwiper = false;\r\n                    if (s.params.resistance) currentTranslate = s.maxTranslate() + 1 - Math.pow(s.maxTranslate() - startTranslate - diff, s.params.resistanceRatio);\r\n                }\r\n            \r\n                if (disableParentSwiper) {\r\n                    e.preventedByNestedSwiper = true;\r\n                }\r\n            \r\n                // Directions locks\r\n                if (!s.params.allowSwipeToNext && s.swipeDirection === 'next' && currentTranslate < startTranslate) {\r\n                    currentTranslate = startTranslate;\r\n                }\r\n                if (!s.params.allowSwipeToPrev && s.swipeDirection === 'prev' && currentTranslate > startTranslate) {\r\n                    currentTranslate = startTranslate;\r\n                }\r\n            \r\n            \r\n                // Threshold\r\n                if (s.params.threshold > 0) {\r\n                    if (Math.abs(diff) > s.params.threshold || allowThresholdMove) {\r\n                        if (!allowThresholdMove) {\r\n                            allowThresholdMove = true;\r\n                            s.touches.startX = s.touches.currentX;\r\n                            s.touches.startY = s.touches.currentY;\r\n                            currentTranslate = startTranslate;\r\n                            s.touches.diff = s.isHorizontal() ? s.touches.currentX - s.touches.startX : s.touches.currentY - s.touches.startY;\r\n                            return;\r\n                        }\r\n                    }\r\n                    else {\r\n                        currentTranslate = startTranslate;\r\n                        return;\r\n                    }\r\n                }\r\n            \r\n                if (!s.params.followFinger) return;\r\n            \r\n                // Update active index in free mode\r\n                if (s.params.freeMode || s.params.watchSlidesProgress) {\r\n                    s.updateActiveIndex();\r\n                }\r\n                if (s.params.freeMode) {\r\n                    //Velocity\r\n                    if (velocities.length === 0) {\r\n                        velocities.push({\r\n                            position: s.touches[s.isHorizontal() ? 'startX' : 'startY'],\r\n                            time: touchStartTime\r\n                        });\r\n                    }\r\n                    velocities.push({\r\n                        position: s.touches[s.isHorizontal() ? 'currentX' : 'currentY'],\r\n                        time: (new window.Date()).getTime()\r\n                    });\r\n                }\r\n                // Update progress\r\n                s.updateProgress(currentTranslate);\r\n                // Update translate\r\n                s.setWrapperTranslate(currentTranslate);\r\n            };\r\n            s.onTouchEnd = function (e) {\r\n                if (e.originalEvent) e = e.originalEvent;\r\n                if (allowTouchCallbacks) {\r\n                    s.emit('onTouchEnd', s, e);\r\n                }\r\n                allowTouchCallbacks = false;\r\n                if (!isTouched) return;\r\n                //Return Grab Cursor\r\n                if (s.params.grabCursor && isMoved && isTouched  && (s.params.allowSwipeToNext === true || s.params.allowSwipeToPrev === true)) {\r\n                    s.setGrabCursor(false);\r\n                }\r\n            \r\n                // Time diff\r\n                var touchEndTime = Date.now();\r\n                var timeDiff = touchEndTime - touchStartTime;\r\n            \r\n                // Tap, doubleTap, Click\r\n                if (s.allowClick) {\r\n                    s.updateClickedSlide(e);\r\n                    s.emit('onTap', s, e);\r\n                    if (timeDiff < 300 && (touchEndTime - lastClickTime) > 300) {\r\n                        if (clickTimeout) clearTimeout(clickTimeout);\r\n                        clickTimeout = setTimeout(function () {\r\n                            if (!s) return;\r\n                            if (s.params.paginationHide && s.paginationContainer.length > 0 && !$(e.target).hasClass(s.params.bulletClass)) {\r\n                                s.paginationContainer.toggleClass(s.params.paginationHiddenClass);\r\n                            }\r\n                            s.emit('onClick', s, e);\r\n                        }, 300);\r\n            \r\n                    }\r\n                    if (timeDiff < 300 && (touchEndTime - lastClickTime) < 300) {\r\n                        if (clickTimeout) clearTimeout(clickTimeout);\r\n                        s.emit('onDoubleTap', s, e);\r\n                    }\r\n                }\r\n            \r\n                lastClickTime = Date.now();\r\n                setTimeout(function () {\r\n                    if (s) s.allowClick = true;\r\n                }, 0);\r\n            \r\n                if (!isTouched || !isMoved || !s.swipeDirection || s.touches.diff === 0 || currentTranslate === startTranslate) {\r\n                    isTouched = isMoved = false;\r\n                    return;\r\n                }\r\n                isTouched = isMoved = false;\r\n            \r\n                var currentPos;\r\n                if (s.params.followFinger) {\r\n                    currentPos = s.rtl ? s.translate : -s.translate;\r\n                }\r\n                else {\r\n                    currentPos = -currentTranslate;\r\n                }\r\n                if (s.params.freeMode) {\r\n                    if (currentPos < -s.minTranslate()) {\r\n                        s.slideTo(s.activeIndex);\r\n                        return;\r\n                    }\r\n                    else if (currentPos > -s.maxTranslate()) {\r\n                        if (s.slides.length < s.snapGrid.length) {\r\n                            s.slideTo(s.snapGrid.length - 1);\r\n                        }\r\n                        else {\r\n                            s.slideTo(s.slides.length - 1);\r\n                        }\r\n                        return;\r\n                    }\r\n            \r\n                    if (s.params.freeModeMomentum) {\r\n                        if (velocities.length > 1) {\r\n                            var lastMoveEvent = velocities.pop(), velocityEvent = velocities.pop();\r\n            \r\n                            var distance = lastMoveEvent.position - velocityEvent.position;\r\n                            var time = lastMoveEvent.time - velocityEvent.time;\r\n                            s.velocity = distance / time;\r\n                            s.velocity = s.velocity / 2;\r\n                            if (Math.abs(s.velocity) < s.params.freeModeMinimumVelocity) {\r\n                                s.velocity = 0;\r\n                            }\r\n                            // this implies that the user stopped moving a finger then released.\r\n                            // There would be no events with distance zero, so the last event is stale.\r\n                            if (time > 150 || (new window.Date().getTime() - lastMoveEvent.time) > 300) {\r\n                                s.velocity = 0;\r\n                            }\r\n                        } else {\r\n                            s.velocity = 0;\r\n                        }\r\n                        s.velocity = s.velocity * s.params.freeModeMomentumVelocityRatio;\r\n            \r\n                        velocities.length = 0;\r\n                        var momentumDuration = 1000 * s.params.freeModeMomentumRatio;\r\n                        var momentumDistance = s.velocity * momentumDuration;\r\n            \r\n                        var newPosition = s.translate + momentumDistance;\r\n                        if (s.rtl) newPosition = - newPosition;\r\n                        var doBounce = false;\r\n                        var afterBouncePosition;\r\n                        var bounceAmount = Math.abs(s.velocity) * 20 * s.params.freeModeMomentumBounceRatio;\r\n                        if (newPosition < s.maxTranslate()) {\r\n                            if (s.params.freeModeMomentumBounce) {\r\n                                if (newPosition + s.maxTranslate() < -bounceAmount) {\r\n                                    newPosition = s.maxTranslate() - bounceAmount;\r\n                                }\r\n                                afterBouncePosition = s.maxTranslate();\r\n                                doBounce = true;\r\n                                allowMomentumBounce = true;\r\n                            }\r\n                            else {\r\n                                newPosition = s.maxTranslate();\r\n                            }\r\n                        }\r\n                        else if (newPosition > s.minTranslate()) {\r\n                            if (s.params.freeModeMomentumBounce) {\r\n                                if (newPosition - s.minTranslate() > bounceAmount) {\r\n                                    newPosition = s.minTranslate() + bounceAmount;\r\n                                }\r\n                                afterBouncePosition = s.minTranslate();\r\n                                doBounce = true;\r\n                                allowMomentumBounce = true;\r\n                            }\r\n                            else {\r\n                                newPosition = s.minTranslate();\r\n                            }\r\n                        }\r\n                        else if (s.params.freeModeSticky) {\r\n                            var j = 0,\r\n                                nextSlide;\r\n                            for (j = 0; j < s.snapGrid.length; j += 1) {\r\n                                if (s.snapGrid[j] > -newPosition) {\r\n                                    nextSlide = j;\r\n                                    break;\r\n                                }\r\n            \r\n                            }\r\n                            if (Math.abs(s.snapGrid[nextSlide] - newPosition) < Math.abs(s.snapGrid[nextSlide - 1] - newPosition) || s.swipeDirection === 'next') {\r\n                                newPosition = s.snapGrid[nextSlide];\r\n                            } else {\r\n                                newPosition = s.snapGrid[nextSlide - 1];\r\n                            }\r\n                            if (!s.rtl) newPosition = - newPosition;\r\n                        }\r\n                        //Fix duration\r\n                        if (s.velocity !== 0) {\r\n                            if (s.rtl) {\r\n                                momentumDuration = Math.abs((-newPosition - s.translate) / s.velocity);\r\n                            }\r\n                            else {\r\n                                momentumDuration = Math.abs((newPosition - s.translate) / s.velocity);\r\n                            }\r\n                        }\r\n                        else if (s.params.freeModeSticky) {\r\n                            s.slideReset();\r\n                            return;\r\n                        }\r\n            \r\n                        if (s.params.freeModeMomentumBounce && doBounce) {\r\n                            s.updateProgress(afterBouncePosition);\r\n                            s.setWrapperTransition(momentumDuration);\r\n                            s.setWrapperTranslate(newPosition);\r\n                            s.onTransitionStart();\r\n                            s.animating = true;\r\n                            s.wrapper.transitionEnd(function () {\r\n                                if (!s || !allowMomentumBounce) return;\r\n                                s.emit('onMomentumBounce', s);\r\n            \r\n                                s.setWrapperTransition(s.params.speed);\r\n                                s.setWrapperTranslate(afterBouncePosition);\r\n                                s.wrapper.transitionEnd(function () {\r\n                                    if (!s) return;\r\n                                    s.onTransitionEnd();\r\n                                });\r\n                            });\r\n                        } else if (s.velocity) {\r\n                            s.updateProgress(newPosition);\r\n                            s.setWrapperTransition(momentumDuration);\r\n                            s.setWrapperTranslate(newPosition);\r\n                            s.onTransitionStart();\r\n                            if (!s.animating) {\r\n                                s.animating = true;\r\n                                s.wrapper.transitionEnd(function () {\r\n                                    if (!s) return;\r\n                                    s.onTransitionEnd();\r\n                                });\r\n                            }\r\n            \r\n                        } else {\r\n                            s.updateProgress(newPosition);\r\n                        }\r\n            \r\n                        s.updateActiveIndex();\r\n                    }\r\n                    if (!s.params.freeModeMomentum || timeDiff >= s.params.longSwipesMs) {\r\n                        s.updateProgress();\r\n                        s.updateActiveIndex();\r\n                    }\r\n                    return;\r\n                }\r\n            \r\n                // Find current slide\r\n                var i, stopIndex = 0, groupSize = s.slidesSizesGrid[0];\r\n                for (i = 0; i < s.slidesGrid.length; i += s.params.slidesPerGroup) {\r\n                    if (typeof s.slidesGrid[i + s.params.slidesPerGroup] !== 'undefined') {\r\n                        if (currentPos >= s.slidesGrid[i] && currentPos < s.slidesGrid[i + s.params.slidesPerGroup]) {\r\n                            stopIndex = i;\r\n                            groupSize = s.slidesGrid[i + s.params.slidesPerGroup] - s.slidesGrid[i];\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (currentPos >= s.slidesGrid[i]) {\r\n                            stopIndex = i;\r\n                            groupSize = s.slidesGrid[s.slidesGrid.length - 1] - s.slidesGrid[s.slidesGrid.length - 2];\r\n                        }\r\n                    }\r\n                }\r\n            \r\n                // Find current slide size\r\n                var ratio = (currentPos - s.slidesGrid[stopIndex]) / groupSize;\r\n            \r\n                if (timeDiff > s.params.longSwipesMs) {\r\n                    // Long touches\r\n                    if (!s.params.longSwipes) {\r\n                        s.slideTo(s.activeIndex);\r\n                        return;\r\n                    }\r\n                    if (s.swipeDirection === 'next') {\r\n                        if (ratio >= s.params.longSwipesRatio) s.slideTo(stopIndex + s.params.slidesPerGroup);\r\n                        else s.slideTo(stopIndex);\r\n            \r\n                    }\r\n                    if (s.swipeDirection === 'prev') {\r\n                        if (ratio > (1 - s.params.longSwipesRatio)) s.slideTo(stopIndex + s.params.slidesPerGroup);\r\n                        else s.slideTo(stopIndex);\r\n                    }\r\n                }\r\n                else {\r\n                    // Short swipes\r\n                    if (!s.params.shortSwipes) {\r\n                        s.slideTo(s.activeIndex);\r\n                        return;\r\n                    }\r\n                    if (s.swipeDirection === 'next') {\r\n                        s.slideTo(stopIndex + s.params.slidesPerGroup);\r\n            \r\n                    }\r\n                    if (s.swipeDirection === 'prev') {\r\n                        s.slideTo(stopIndex);\r\n                    }\r\n                }\r\n            };\r\n            /*=========================\r\n              Transitions\r\n              ===========================*/\r\n            s._slideTo = function (slideIndex, speed) {\r\n                return s.slideTo(slideIndex, speed, true, true);\r\n            };\r\n            s.slideTo = function (slideIndex, speed, runCallbacks, internal) {\r\n                if (typeof runCallbacks === 'undefined') runCallbacks = true;\r\n                if (typeof slideIndex === 'undefined') slideIndex = 0;\r\n                if (slideIndex < 0) slideIndex = 0;\r\n                s.snapIndex = Math.floor(slideIndex / s.params.slidesPerGroup);\r\n                if (s.snapIndex >= s.snapGrid.length) s.snapIndex = s.snapGrid.length - 1;\r\n            \r\n                var translate = - s.snapGrid[s.snapIndex];\r\n                // Stop autoplay\r\n                if (s.params.autoplay && s.autoplaying) {\r\n                    if (internal || !s.params.autoplayDisableOnInteraction) {\r\n                        s.pauseAutoplay(speed);\r\n                    }\r\n                    else {\r\n                        s.stopAutoplay();\r\n                    }\r\n                }\r\n                // Update progress\r\n                s.updateProgress(translate);\r\n            \r\n                // Normalize slideIndex\r\n                if(s.params.normalizeSlideIndex){\r\n                    for (var i = 0; i < s.slidesGrid.length; i++) {\r\n                        if (- Math.floor(translate * 100) >= Math.floor(s.slidesGrid[i] * 100)) {\r\n                            slideIndex = i;\r\n                        }\r\n                    }\r\n                }\r\n            \r\n                // Directions locks\r\n                if (!s.params.allowSwipeToNext && translate < s.translate && translate < s.minTranslate()) {\r\n                    return false;\r\n                }\r\n                if (!s.params.allowSwipeToPrev && translate > s.translate && translate > s.maxTranslate()) {\r\n                    if ((s.activeIndex || 0) !== slideIndex ) return false;\r\n                }\r\n            \r\n                // Update Index\r\n                if (typeof speed === 'undefined') speed = s.params.speed;\r\n                s.previousIndex = s.activeIndex || 0;\r\n                s.activeIndex = slideIndex;\r\n                s.updateRealIndex();\r\n                if ((s.rtl && -translate === s.translate) || (!s.rtl && translate === s.translate)) {\r\n                    // Update Height\r\n                    if (s.params.autoHeight) {\r\n                        s.updateAutoHeight();\r\n                    }\r\n                    s.updateClasses();\r\n                    if (s.params.effect !== 'slide') {\r\n                        s.setWrapperTranslate(translate);\r\n                    }\r\n                    return false;\r\n                }\r\n                s.updateClasses();\r\n                s.onTransitionStart(runCallbacks);\r\n            \r\n                if (speed === 0 || s.browser.lteIE9) {\r\n                    s.setWrapperTranslate(translate);\r\n                    s.setWrapperTransition(0);\r\n                    s.onTransitionEnd(runCallbacks);\r\n                }\r\n                else {\r\n                    s.setWrapperTranslate(translate);\r\n                    s.setWrapperTransition(speed);\r\n                    if (!s.animating) {\r\n                        s.animating = true;\r\n                        s.wrapper.transitionEnd(function () {\r\n                            if (!s) return;\r\n                            s.onTransitionEnd(runCallbacks);\r\n                        });\r\n                    }\r\n            \r\n                }\r\n            \r\n                return true;\r\n            };\r\n            \r\n            s.onTransitionStart = function (runCallbacks) {\r\n                if (typeof runCallbacks === 'undefined') runCallbacks = true;\r\n                if (s.params.autoHeight) {\r\n                    s.updateAutoHeight();\r\n                }\r\n                if (s.lazy) s.lazy.onTransitionStart();\r\n                if (runCallbacks) {\r\n                    s.emit('onTransitionStart', s);\r\n                    if (s.activeIndex !== s.previousIndex) {\r\n                        s.emit('onSlideChangeStart', s);\r\n                        if (s.activeIndex > s.previousIndex) {\r\n                            s.emit('onSlideNextStart', s);\r\n                        }\r\n                        else {\r\n                            s.emit('onSlidePrevStart', s);\r\n                        }\r\n                    }\r\n            \r\n                }\r\n            };\r\n            s.onTransitionEnd = function (runCallbacks) {\r\n                s.animating = false;\r\n                s.setWrapperTransition(0);\r\n                if (typeof runCallbacks === 'undefined') runCallbacks = true;\r\n                if (s.lazy) s.lazy.onTransitionEnd();\r\n                if (runCallbacks) {\r\n                    s.emit('onTransitionEnd', s);\r\n                    if (s.activeIndex !== s.previousIndex) {\r\n                        s.emit('onSlideChangeEnd', s);\r\n                        if (s.activeIndex > s.previousIndex) {\r\n                            s.emit('onSlideNextEnd', s);\r\n                        }\r\n                        else {\r\n                            s.emit('onSlidePrevEnd', s);\r\n                        }\r\n                    }\r\n                }\r\n                if (s.params.history && s.history) {\r\n                    s.history.setHistory(s.params.history, s.activeIndex);\r\n                }\r\n                if (s.params.hashnav && s.hashnav) {\r\n                    s.hashnav.setHash();\r\n                }\r\n            \r\n            };\r\n            s.slideNext = function (runCallbacks, speed, internal) {\r\n                if (s.params.loop) {\r\n                    if (s.animating) return false;\r\n                    s.fixLoop();\r\n                    var clientLeft = s.container[0].clientLeft;\r\n                    return s.slideTo(s.activeIndex + s.params.slidesPerGroup, speed, runCallbacks, internal);\r\n                }\r\n                else return s.slideTo(s.activeIndex + s.params.slidesPerGroup, speed, runCallbacks, internal);\r\n            };\r\n            s._slideNext = function (speed) {\r\n                return s.slideNext(true, speed, true);\r\n            };\r\n            s.slidePrev = function (runCallbacks, speed, internal) {\r\n                if (s.params.loop) {\r\n                    if (s.animating) return false;\r\n                    s.fixLoop();\r\n                    var clientLeft = s.container[0].clientLeft;\r\n                    return s.slideTo(s.activeIndex - 1, speed, runCallbacks, internal);\r\n                }\r\n                else return s.slideTo(s.activeIndex - 1, speed, runCallbacks, internal);\r\n            };\r\n            s._slidePrev = function (speed) {\r\n                return s.slidePrev(true, speed, true);\r\n            };\r\n            s.slideReset = function (runCallbacks, speed, internal) {\r\n                return s.slideTo(s.activeIndex, speed, runCallbacks);\r\n            };\r\n            \r\n            s.disableTouchControl = function () {\r\n                s.params.onlyExternal = true;\r\n                return true;\r\n            };\r\n            s.enableTouchControl = function () {\r\n                s.params.onlyExternal = false;\r\n                return true;\r\n            };\r\n            \r\n            /*=========================\r\n              Translate/transition helpers\r\n              ===========================*/\r\n            s.setWrapperTransition = function (duration, byController) {\r\n                s.wrapper.transition(duration);\r\n                if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\r\n                    s.effects[s.params.effect].setTransition(duration);\r\n                }\r\n                if (s.params.parallax && s.parallax) {\r\n                    s.parallax.setTransition(duration);\r\n                }\r\n                if (s.params.scrollbar && s.scrollbar) {\r\n                    s.scrollbar.setTransition(duration);\r\n                }\r\n                if (s.params.control && s.controller) {\r\n                    s.controller.setTransition(duration, byController);\r\n                }\r\n                s.emit('onSetTransition', s, duration);\r\n            };\r\n            s.setWrapperTranslate = function (translate, updateActiveIndex, byController) {\r\n                var x = 0, y = 0, z = 0;\r\n                if (s.isHorizontal()) {\r\n                    x = s.rtl ? -translate : translate;\r\n                }\r\n                else {\r\n                    y = translate;\r\n                }\r\n            \r\n                if (s.params.roundLengths) {\r\n                    x = round(x);\r\n                    y = round(y);\r\n                }\r\n            \r\n                if (!s.params.virtualTranslate) {\r\n                    if (s.support.transforms3d) s.wrapper.transform('translate3d(' + x + 'px, ' + y + 'px, ' + z + 'px)');\r\n                    else s.wrapper.transform('translate(' + x + 'px, ' + y + 'px)');\r\n                }\r\n            \r\n                s.translate = s.isHorizontal() ? x : y;\r\n            \r\n                // Check if we need to update progress\r\n                var progress;\r\n                var translatesDiff = s.maxTranslate() - s.minTranslate();\r\n                if (translatesDiff === 0) {\r\n                    progress = 0;\r\n                }\r\n                else {\r\n                    progress = (translate - s.minTranslate()) / (translatesDiff);\r\n                }\r\n                if (progress !== s.progress) {\r\n                    s.updateProgress(translate);\r\n                }\r\n            \r\n                if (updateActiveIndex) s.updateActiveIndex();\r\n                if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\r\n                    s.effects[s.params.effect].setTranslate(s.translate);\r\n                }\r\n                if (s.params.parallax && s.parallax) {\r\n                    s.parallax.setTranslate(s.translate);\r\n                }\r\n                if (s.params.scrollbar && s.scrollbar) {\r\n                    s.scrollbar.setTranslate(s.translate);\r\n                }\r\n                if (s.params.control && s.controller) {\r\n                    s.controller.setTranslate(s.translate, byController);\r\n                }\r\n                s.emit('onSetTranslate', s, s.translate);\r\n            };\r\n            \r\n            s.getTranslate = function (el, axis) {\r\n                var matrix, curTransform, curStyle, transformMatrix;\r\n            \r\n                // automatic axis detection\r\n                if (typeof axis === 'undefined') {\r\n                    axis = 'x';\r\n                }\r\n            \r\n                if (s.params.virtualTranslate) {\r\n                    return s.rtl ? -s.translate : s.translate;\r\n                }\r\n            \r\n                curStyle = window.getComputedStyle(el, null);\r\n                if (window.WebKitCSSMatrix) {\r\n                    curTransform = curStyle.transform || curStyle.webkitTransform;\r\n                    if (curTransform.split(',').length > 6) {\r\n                        curTransform = curTransform.split(', ').map(function(a){\r\n                            return a.replace(',','.');\r\n                        }).join(', ');\r\n                    }\r\n                    // Some old versions of Webkit choke when 'none' is passed; pass\r\n                    // empty string instead in this case\r\n                    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\r\n                }\r\n                else {\r\n                    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform  || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\r\n                    matrix = transformMatrix.toString().split(',');\r\n                }\r\n            \r\n                if (axis === 'x') {\r\n                    //Latest Chrome and webkits Fix\r\n                    if (window.WebKitCSSMatrix)\r\n                        curTransform = transformMatrix.m41;\r\n                    //Crazy IE10 Matrix\r\n                    else if (matrix.length === 16)\r\n                        curTransform = parseFloat(matrix[12]);\r\n                    //Normal Browsers\r\n                    else\r\n                        curTransform = parseFloat(matrix[4]);\r\n                }\r\n                if (axis === 'y') {\r\n                    //Latest Chrome and webkits Fix\r\n                    if (window.WebKitCSSMatrix)\r\n                        curTransform = transformMatrix.m42;\r\n                    //Crazy IE10 Matrix\r\n                    else if (matrix.length === 16)\r\n                        curTransform = parseFloat(matrix[13]);\r\n                    //Normal Browsers\r\n                    else\r\n                        curTransform = parseFloat(matrix[5]);\r\n                }\r\n                if (s.rtl && curTransform) curTransform = -curTransform;\r\n                return curTransform || 0;\r\n            };\r\n            s.getWrapperTranslate = function (axis) {\r\n                if (typeof axis === 'undefined') {\r\n                    axis = s.isHorizontal() ? 'x' : 'y';\r\n                }\r\n                return s.getTranslate(s.wrapper[0], axis);\r\n            };\r\n            \r\n            /*=========================\r\n              Observer\r\n              ===========================*/\r\n            s.observers = [];\r\n            function initObserver(target, options) {\r\n                options = options || {};\r\n                // create an observer instance\r\n                var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\r\n                var observer = new ObserverFunc(function (mutations) {\r\n                    mutations.forEach(function (mutation) {\r\n                        s.onResize(true);\r\n                        s.emit('onObserverUpdate', s, mutation);\r\n                    });\r\n                });\r\n            \r\n                observer.observe(target, {\r\n                    attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\r\n                    childList: typeof options.childList === 'undefined' ? true : options.childList,\r\n                    characterData: typeof options.characterData === 'undefined' ? true : options.characterData\r\n                });\r\n            \r\n                s.observers.push(observer);\r\n            }\r\n            s.initObservers = function () {\r\n                if (s.params.observeParents) {\r\n                    var containerParents = s.container.parents();\r\n                    for (var i = 0; i < containerParents.length; i++) {\r\n                        initObserver(containerParents[i]);\r\n                    }\r\n                }\r\n            \r\n                // Observe container\r\n                initObserver(s.container[0], {childList: false});\r\n            \r\n                // Observe wrapper\r\n                initObserver(s.wrapper[0], {attributes: false});\r\n            };\r\n            s.disconnectObservers = function () {\r\n                for (var i = 0; i < s.observers.length; i++) {\r\n                    s.observers[i].disconnect();\r\n                }\r\n                s.observers = [];\r\n            };\r\n            /*=========================\r\n              Loop\r\n              ===========================*/\r\n            // Create looped slides\r\n            s.createLoop = function () {\r\n                // Remove duplicated slides\r\n                s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass).remove();\r\n            \r\n                var slides = s.wrapper.children('.' + s.params.slideClass);\r\n            \r\n                if(s.params.slidesPerView === 'auto' && !s.params.loopedSlides) s.params.loopedSlides = slides.length;\r\n            \r\n                s.loopedSlides = parseInt(s.params.loopedSlides || s.params.slidesPerView, 10);\r\n                s.loopedSlides = s.loopedSlides + s.params.loopAdditionalSlides;\r\n                if (s.loopedSlides > slides.length) {\r\n                    s.loopedSlides = slides.length;\r\n                }\r\n            \r\n                var prependSlides = [], appendSlides = [], i;\r\n                slides.each(function (index, el) {\r\n                    var slide = $(this);\r\n                    if (index < s.loopedSlides) appendSlides.push(el);\r\n                    if (index < slides.length && index >= slides.length - s.loopedSlides) prependSlides.push(el);\r\n                    slide.attr('data-swiper-slide-index', index);\r\n                });\r\n                for (i = 0; i < appendSlides.length; i++) {\r\n                    s.wrapper.append($(appendSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));\r\n                }\r\n                for (i = prependSlides.length - 1; i >= 0; i--) {\r\n                    s.wrapper.prepend($(prependSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));\r\n                }\r\n            };\r\n            s.destroyLoop = function () {\r\n                s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass).remove();\r\n                s.slides.removeAttr('data-swiper-slide-index');\r\n            };\r\n            s.reLoop = function (updatePosition) {\r\n                var oldIndex = s.activeIndex - s.loopedSlides;\r\n                s.destroyLoop();\r\n                s.createLoop();\r\n                s.updateSlidesSize();\r\n                if (updatePosition) {\r\n                    s.slideTo(oldIndex + s.loopedSlides, 0, false);\r\n                }\r\n            \r\n            };\r\n            s.fixLoop = function () {\r\n                var newIndex;\r\n                //Fix For Negative Oversliding\r\n                if (s.activeIndex < s.loopedSlides) {\r\n                    newIndex = s.slides.length - s.loopedSlides * 3 + s.activeIndex;\r\n                    newIndex = newIndex + s.loopedSlides;\r\n                    s.slideTo(newIndex, 0, false, true);\r\n                }\r\n                //Fix For Positive Oversliding\r\n                else if ((s.params.slidesPerView === 'auto' && s.activeIndex >= s.loopedSlides * 2) || (s.activeIndex > s.slides.length - s.params.slidesPerView * 2)) {\r\n                    newIndex = -s.slides.length + s.activeIndex + s.loopedSlides;\r\n                    newIndex = newIndex + s.loopedSlides;\r\n                    s.slideTo(newIndex, 0, false, true);\r\n                }\r\n            };\r\n            /*=========================\r\n              Append/Prepend/Remove Slides\r\n              ===========================*/\r\n            s.appendSlide = function (slides) {\r\n                if (s.params.loop) {\r\n                    s.destroyLoop();\r\n                }\r\n                if (typeof slides === 'object' && slides.length) {\r\n                    for (var i = 0; i < slides.length; i++) {\r\n                        if (slides[i]) s.wrapper.append(slides[i]);\r\n                    }\r\n                }\r\n                else {\r\n                    s.wrapper.append(slides);\r\n                }\r\n                if (s.params.loop) {\r\n                    s.createLoop();\r\n                }\r\n                if (!(s.params.observer && s.support.observer)) {\r\n                    s.update(true);\r\n                }\r\n            };\r\n            s.prependSlide = function (slides) {\r\n                if (s.params.loop) {\r\n                    s.destroyLoop();\r\n                }\r\n                var newActiveIndex = s.activeIndex + 1;\r\n                if (typeof slides === 'object' && slides.length) {\r\n                    for (var i = 0; i < slides.length; i++) {\r\n                        if (slides[i]) s.wrapper.prepend(slides[i]);\r\n                    }\r\n                    newActiveIndex = s.activeIndex + slides.length;\r\n                }\r\n                else {\r\n                    s.wrapper.prepend(slides);\r\n                }\r\n                if (s.params.loop) {\r\n                    s.createLoop();\r\n                }\r\n                if (!(s.params.observer && s.support.observer)) {\r\n                    s.update(true);\r\n                }\r\n                s.slideTo(newActiveIndex, 0, false);\r\n            };\r\n            s.removeSlide = function (slidesIndexes) {\r\n                if (s.params.loop) {\r\n                    s.destroyLoop();\r\n                    s.slides = s.wrapper.children('.' + s.params.slideClass);\r\n                }\r\n                var newActiveIndex = s.activeIndex,\r\n                    indexToRemove;\r\n                if (typeof slidesIndexes === 'object' && slidesIndexes.length) {\r\n                    for (var i = 0; i < slidesIndexes.length; i++) {\r\n                        indexToRemove = slidesIndexes[i];\r\n                        if (s.slides[indexToRemove]) s.slides.eq(indexToRemove).remove();\r\n                        if (indexToRemove < newActiveIndex) newActiveIndex--;\r\n                    }\r\n                    newActiveIndex = Math.max(newActiveIndex, 0);\r\n                }\r\n                else {\r\n                    indexToRemove = slidesIndexes;\r\n                    if (s.slides[indexToRemove]) s.slides.eq(indexToRemove).remove();\r\n                    if (indexToRemove < newActiveIndex) newActiveIndex--;\r\n                    newActiveIndex = Math.max(newActiveIndex, 0);\r\n                }\r\n            \r\n                if (s.params.loop) {\r\n                    s.createLoop();\r\n                }\r\n            \r\n                if (!(s.params.observer && s.support.observer)) {\r\n                    s.update(true);\r\n                }\r\n                if (s.params.loop) {\r\n                    s.slideTo(newActiveIndex + s.loopedSlides, 0, false);\r\n                }\r\n                else {\r\n                    s.slideTo(newActiveIndex, 0, false);\r\n                }\r\n            \r\n            };\r\n            s.removeAllSlides = function () {\r\n                var slidesIndexes = [];\r\n                for (var i = 0; i < s.slides.length; i++) {\r\n                    slidesIndexes.push(i);\r\n                }\r\n                s.removeSlide(slidesIndexes);\r\n            };\r\n            \r\n        \r\n            /*=========================\r\n              Effects\r\n              ===========================*/\r\n            s.effects = {\r\n                fade: {\r\n                    setTranslate: function () {\r\n                        for (var i = 0; i < s.slides.length; i++) {\r\n                            var slide = s.slides.eq(i);\r\n                            var offset = slide[0].swiperSlideOffset;\r\n                            var tx = -offset;\r\n                            if (!s.params.virtualTranslate) tx = tx - s.translate;\r\n                            var ty = 0;\r\n                            if (!s.isHorizontal()) {\r\n                                ty = tx;\r\n                                tx = 0;\r\n                            }\r\n                            var slideOpacity = s.params.fade.crossFade ?\r\n                                    Math.max(1 - Math.abs(slide[0].progress), 0) :\r\n                                    1 + Math.min(Math.max(slide[0].progress, -1), 0);\r\n                            slide\r\n                                .css({\r\n                                    opacity: slideOpacity\r\n                                })\r\n                                .transform('translate3d(' + tx + 'px, ' + ty + 'px, 0px)');\r\n            \r\n                        }\r\n            \r\n                    },\r\n                    setTransition: function (duration) {\r\n                        s.slides.transition(duration);\r\n                        if (s.params.virtualTranslate && duration !== 0) {\r\n                            var eventTriggered = false;\r\n                            s.slides.transitionEnd(function () {\r\n                                if (eventTriggered) return;\r\n                                if (!s) return;\r\n                                eventTriggered = true;\r\n                                s.animating = false;\r\n                                var triggerEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];\r\n                                for (var i = 0; i < triggerEvents.length; i++) {\r\n                                    s.wrapper.trigger(triggerEvents[i]);\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                },\r\n                flip: {\r\n                    setTranslate: function () {\r\n                        for (var i = 0; i < s.slides.length; i++) {\r\n                            var slide = s.slides.eq(i);\r\n                            var progress = slide[0].progress;\r\n                            if (s.params.flip.limitRotation) {\r\n                                progress = Math.max(Math.min(slide[0].progress, 1), -1);\r\n                            }\r\n                            var offset = slide[0].swiperSlideOffset;\r\n                            var rotate = -180 * progress,\r\n                                rotateY = rotate,\r\n                                rotateX = 0,\r\n                                tx = -offset,\r\n                                ty = 0;\r\n                            if (!s.isHorizontal()) {\r\n                                ty = tx;\r\n                                tx = 0;\r\n                                rotateX = -rotateY;\r\n                                rotateY = 0;\r\n                            }\r\n                            else if (s.rtl) {\r\n                                rotateY = -rotateY;\r\n                            }\r\n            \r\n                            slide[0].style.zIndex = -Math.abs(Math.round(progress)) + s.slides.length;\r\n            \r\n                            if (s.params.flip.slideShadows) {\r\n                                //Set shadows\r\n                                var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\r\n                                var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\r\n                                if (shadowBefore.length === 0) {\r\n                                    shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\r\n                                    slide.append(shadowBefore);\r\n                                }\r\n                                if (shadowAfter.length === 0) {\r\n                                    shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\r\n                                    slide.append(shadowAfter);\r\n                                }\r\n                                if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\r\n                                if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\r\n                            }\r\n            \r\n                            slide\r\n                                .transform('translate3d(' + tx + 'px, ' + ty + 'px, 0px) rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)');\r\n                        }\r\n                    },\r\n                    setTransition: function (duration) {\r\n                        s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\r\n                        if (s.params.virtualTranslate && duration !== 0) {\r\n                            var eventTriggered = false;\r\n                            s.slides.eq(s.activeIndex).transitionEnd(function () {\r\n                                if (eventTriggered) return;\r\n                                if (!s) return;\r\n                                if (!$(this).hasClass(s.params.slideActiveClass)) return;\r\n                                eventTriggered = true;\r\n                                s.animating = false;\r\n                                var triggerEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];\r\n                                for (var i = 0; i < triggerEvents.length; i++) {\r\n                                    s.wrapper.trigger(triggerEvents[i]);\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                },\r\n                cube: {\r\n                    setTranslate: function () {\r\n                        var wrapperRotate = 0, cubeShadow;\r\n                        if (s.params.cube.shadow) {\r\n                            if (s.isHorizontal()) {\r\n                                cubeShadow = s.wrapper.find('.swiper-cube-shadow');\r\n                                if (cubeShadow.length === 0) {\r\n                                    cubeShadow = $('<div class=\"swiper-cube-shadow\"></div>');\r\n                                    s.wrapper.append(cubeShadow);\r\n                                }\r\n                                cubeShadow.css({height: s.width + 'px'});\r\n                            }\r\n                            else {\r\n                                cubeShadow = s.container.find('.swiper-cube-shadow');\r\n                                if (cubeShadow.length === 0) {\r\n                                    cubeShadow = $('<div class=\"swiper-cube-shadow\"></div>');\r\n                                    s.container.append(cubeShadow);\r\n                                }\r\n                            }\r\n                        }\r\n                        for (var i = 0; i < s.slides.length; i++) {\r\n                            var slide = s.slides.eq(i);\r\n                            var slideAngle = i * 90;\r\n                            var round = Math.floor(slideAngle / 360);\r\n                            if (s.rtl) {\r\n                                slideAngle = -slideAngle;\r\n                                round = Math.floor(-slideAngle / 360);\r\n                            }\r\n                            var progress = Math.max(Math.min(slide[0].progress, 1), -1);\r\n                            var tx = 0, ty = 0, tz = 0;\r\n                            if (i % 4 === 0) {\r\n                                tx = - round * 4 * s.size;\r\n                                tz = 0;\r\n                            }\r\n                            else if ((i - 1) % 4 === 0) {\r\n                                tx = 0;\r\n                                tz = - round * 4 * s.size;\r\n                            }\r\n                            else if ((i - 2) % 4 === 0) {\r\n                                tx = s.size + round * 4 * s.size;\r\n                                tz = s.size;\r\n                            }\r\n                            else if ((i - 3) % 4 === 0) {\r\n                                tx = - s.size;\r\n                                tz = 3 * s.size + s.size * 4 * round;\r\n                            }\r\n                            if (s.rtl) {\r\n                                tx = -tx;\r\n                            }\r\n            \r\n                            if (!s.isHorizontal()) {\r\n                                ty = tx;\r\n                                tx = 0;\r\n                            }\r\n            \r\n                            var transform = 'rotateX(' + (s.isHorizontal() ? 0 : -slideAngle) + 'deg) rotateY(' + (s.isHorizontal() ? slideAngle : 0) + 'deg) translate3d(' + tx + 'px, ' + ty + 'px, ' + tz + 'px)';\r\n                            if (progress <= 1 && progress > -1) {\r\n                                wrapperRotate = i * 90 + progress * 90;\r\n                                if (s.rtl) wrapperRotate = -i * 90 - progress * 90;\r\n                            }\r\n                            slide.transform(transform);\r\n                            if (s.params.cube.slideShadows) {\r\n                                //Set shadows\r\n                                var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\r\n                                var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\r\n                                if (shadowBefore.length === 0) {\r\n                                    shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\r\n                                    slide.append(shadowBefore);\r\n                                }\r\n                                if (shadowAfter.length === 0) {\r\n                                    shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\r\n                                    slide.append(shadowAfter);\r\n                                }\r\n                                if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\r\n                                if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\r\n                            }\r\n                        }\r\n                        s.wrapper.css({\r\n                            '-webkit-transform-origin': '50% 50% -' + (s.size / 2) + 'px',\r\n                            '-moz-transform-origin': '50% 50% -' + (s.size / 2) + 'px',\r\n                            '-ms-transform-origin': '50% 50% -' + (s.size / 2) + 'px',\r\n                            'transform-origin': '50% 50% -' + (s.size / 2) + 'px'\r\n                        });\r\n            \r\n                        if (s.params.cube.shadow) {\r\n                            if (s.isHorizontal()) {\r\n                                cubeShadow.transform('translate3d(0px, ' + (s.width / 2 + s.params.cube.shadowOffset) + 'px, ' + (-s.width / 2) + 'px) rotateX(90deg) rotateZ(0deg) scale(' + (s.params.cube.shadowScale) + ')');\r\n                            }\r\n                            else {\r\n                                var shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\r\n                                var multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\r\n                                var scale1 = s.params.cube.shadowScale,\r\n                                    scale2 = s.params.cube.shadowScale / multiplier,\r\n                                    offset = s.params.cube.shadowOffset;\r\n                                cubeShadow.transform('scale3d(' + scale1 + ', 1, ' + scale2 + ') translate3d(0px, ' + (s.height / 2 + offset) + 'px, ' + (-s.height / 2 / scale2) + 'px) rotateX(-90deg)');\r\n                            }\r\n                        }\r\n                        var zFactor = (s.isSafari || s.isUiWebView) ? (-s.size / 2) : 0;\r\n                        s.wrapper.transform('translate3d(0px,0,' + zFactor + 'px) rotateX(' + (s.isHorizontal() ? 0 : wrapperRotate) + 'deg) rotateY(' + (s.isHorizontal() ? -wrapperRotate : 0) + 'deg)');\r\n                    },\r\n                    setTransition: function (duration) {\r\n                        s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\r\n                        if (s.params.cube.shadow && !s.isHorizontal()) {\r\n                            s.container.find('.swiper-cube-shadow').transition(duration);\r\n                        }\r\n                    }\r\n                },\r\n                coverflow: {\r\n                    setTranslate: function () {\r\n                        var transform = s.translate;\r\n                        var center = s.isHorizontal() ? -transform + s.width / 2 : -transform + s.height / 2;\r\n                        var rotate = s.isHorizontal() ? s.params.coverflow.rotate: -s.params.coverflow.rotate;\r\n                        var translate = s.params.coverflow.depth;\r\n                        //Each slide offset from center\r\n                        for (var i = 0, length = s.slides.length; i < length; i++) {\r\n                            var slide = s.slides.eq(i);\r\n                            var slideSize = s.slidesSizesGrid[i];\r\n                            var slideOffset = slide[0].swiperSlideOffset;\r\n                            var offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * s.params.coverflow.modifier;\r\n            \r\n                            var rotateY = s.isHorizontal() ? rotate * offsetMultiplier : 0;\r\n                            var rotateX = s.isHorizontal() ? 0 : rotate * offsetMultiplier;\r\n                            // var rotateZ = 0\r\n                            var translateZ = -translate * Math.abs(offsetMultiplier);\r\n            \r\n                            var translateY = s.isHorizontal() ? 0 : s.params.coverflow.stretch * (offsetMultiplier);\r\n                            var translateX = s.isHorizontal() ? s.params.coverflow.stretch * (offsetMultiplier) : 0;\r\n            \r\n                            //Fix for ultra small values\r\n                            if (Math.abs(translateX) < 0.001) translateX = 0;\r\n                            if (Math.abs(translateY) < 0.001) translateY = 0;\r\n                            if (Math.abs(translateZ) < 0.001) translateZ = 0;\r\n                            if (Math.abs(rotateY) < 0.001) rotateY = 0;\r\n                            if (Math.abs(rotateX) < 0.001) rotateX = 0;\r\n            \r\n                            var slideTransform = 'translate3d(' + translateX + 'px,' + translateY + 'px,' + translateZ + 'px)  rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)';\r\n            \r\n                            slide.transform(slideTransform);\r\n                            slide[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\r\n                            if (s.params.coverflow.slideShadows) {\r\n                                //Set shadows\r\n                                var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\r\n                                var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\r\n                                if (shadowBefore.length === 0) {\r\n                                    shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\r\n                                    slide.append(shadowBefore);\r\n                                }\r\n                                if (shadowAfter.length === 0) {\r\n                                    shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\r\n                                    slide.append(shadowAfter);\r\n                                }\r\n                                if (shadowBefore.length) shadowBefore[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\r\n                                if (shadowAfter.length) shadowAfter[0].style.opacity = (-offsetMultiplier) > 0 ? -offsetMultiplier : 0;\r\n                            }\r\n                        }\r\n            \r\n                        //Set correct perspective for IE10\r\n                        if (s.browser.ie) {\r\n                            var ws = s.wrapper[0].style;\r\n                            ws.perspectiveOrigin = center + 'px 50%';\r\n                        }\r\n                    },\r\n                    setTransition: function (duration) {\r\n                        s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\r\n                    }\r\n                }\r\n            };\r\n        \r\n            /*=========================\r\n              Images Lazy Loading\r\n              ===========================*/\r\n            s.lazy = {\r\n                initialImageLoaded: false,\r\n                loadImageInSlide: function (index, loadInDuplicate) {\r\n                    if (typeof index === 'undefined') return;\r\n                    if (typeof loadInDuplicate === 'undefined') loadInDuplicate = true;\r\n                    if (s.slides.length === 0) return;\r\n            \r\n                    var slide = s.slides.eq(index);\r\n                    var img = slide.find('.' + s.params.lazyLoadingClass + ':not(.' + s.params.lazyStatusLoadedClass + '):not(.' + s.params.lazyStatusLoadingClass + ')');\r\n                    if (slide.hasClass(s.params.lazyLoadingClass) && !slide.hasClass(s.params.lazyStatusLoadedClass) && !slide.hasClass(s.params.lazyStatusLoadingClass)) {\r\n                        img = img.add(slide[0]);\r\n                    }\r\n                    if (img.length === 0) return;\r\n            \r\n                    img.each(function () {\r\n                        var _img = $(this);\r\n                        _img.addClass(s.params.lazyStatusLoadingClass);\r\n                        var background = _img.attr('data-background');\r\n                        var src = _img.attr('data-src'),\r\n                            srcset = _img.attr('data-srcset'),\r\n                            sizes = _img.attr('data-sizes');\r\n                        s.loadImage(_img[0], (src || background), srcset, sizes, false, function () {\r\n                            if (background) {\r\n                                _img.css('background-image', 'url(\"' + background + '\")');\r\n                                _img.removeAttr('data-background');\r\n                            }\r\n                            else {\r\n                                if (srcset) {\r\n                                    _img.attr('srcset', srcset);\r\n                                    _img.removeAttr('data-srcset');\r\n                                }\r\n                                if (sizes) {\r\n                                    _img.attr('sizes', sizes);\r\n                                    _img.removeAttr('data-sizes');\r\n                                }\r\n                                if (src) {\r\n                                    _img.attr('src', src);\r\n                                    _img.removeAttr('data-src');\r\n                                }\r\n            \r\n                            }\r\n            \r\n                            _img.addClass(s.params.lazyStatusLoadedClass).removeClass(s.params.lazyStatusLoadingClass);\r\n                            slide.find('.' + s.params.lazyPreloaderClass + ', .' + s.params.preloaderClass).remove();\r\n                            if (s.params.loop && loadInDuplicate) {\r\n                                var slideOriginalIndex = slide.attr('data-swiper-slide-index');\r\n                                if (slide.hasClass(s.params.slideDuplicateClass)) {\r\n                                    var originalSlide = s.wrapper.children('[data-swiper-slide-index=\"' + slideOriginalIndex + '\"]:not(.' + s.params.slideDuplicateClass + ')');\r\n                                    s.lazy.loadImageInSlide(originalSlide.index(), false);\r\n                                }\r\n                                else {\r\n                                    var duplicatedSlide = s.wrapper.children('.' + s.params.slideDuplicateClass + '[data-swiper-slide-index=\"' + slideOriginalIndex + '\"]');\r\n                                    s.lazy.loadImageInSlide(duplicatedSlide.index(), false);\r\n                                }\r\n                            }\r\n                            s.emit('onLazyImageReady', s, slide[0], _img[0]);\r\n                        });\r\n            \r\n                        s.emit('onLazyImageLoad', s, slide[0], _img[0]);\r\n                    });\r\n            \r\n                },\r\n                load: function () {\r\n                    var i;\r\n                    var slidesPerView = s.params.slidesPerView;\r\n                    if (slidesPerView === 'auto') {\r\n                        slidesPerView = 0;\r\n                    }\r\n                    if (!s.lazy.initialImageLoaded) s.lazy.initialImageLoaded = true;\r\n                    if (s.params.watchSlidesVisibility) {\r\n                        s.wrapper.children('.' + s.params.slideVisibleClass).each(function () {\r\n                            s.lazy.loadImageInSlide($(this).index());\r\n                        });\r\n                    }\r\n                    else {\r\n                        if (slidesPerView > 1) {\r\n                            for (i = s.activeIndex; i < s.activeIndex + slidesPerView ; i++) {\r\n                                if (s.slides[i]) s.lazy.loadImageInSlide(i);\r\n                            }\r\n                        }\r\n                        else {\r\n                            s.lazy.loadImageInSlide(s.activeIndex);\r\n                        }\r\n                    }\r\n                    if (s.params.lazyLoadingInPrevNext) {\r\n                        if (slidesPerView > 1 || (s.params.lazyLoadingInPrevNextAmount && s.params.lazyLoadingInPrevNextAmount > 1)) {\r\n                            var amount = s.params.lazyLoadingInPrevNextAmount;\r\n                            var spv = slidesPerView;\r\n                            var maxIndex = Math.min(s.activeIndex + spv + Math.max(amount, spv), s.slides.length);\r\n                            var minIndex = Math.max(s.activeIndex - Math.max(spv, amount), 0);\r\n                            // Next Slides\r\n                            for (i = s.activeIndex + slidesPerView; i < maxIndex; i++) {\r\n                                if (s.slides[i]) s.lazy.loadImageInSlide(i);\r\n                            }\r\n                            // Prev Slides\r\n                            for (i = minIndex; i < s.activeIndex ; i++) {\r\n                                if (s.slides[i]) s.lazy.loadImageInSlide(i);\r\n                            }\r\n                        }\r\n                        else {\r\n                            var nextSlide = s.wrapper.children('.' + s.params.slideNextClass);\r\n                            if (nextSlide.length > 0) s.lazy.loadImageInSlide(nextSlide.index());\r\n            \r\n                            var prevSlide = s.wrapper.children('.' + s.params.slidePrevClass);\r\n                            if (prevSlide.length > 0) s.lazy.loadImageInSlide(prevSlide.index());\r\n                        }\r\n                    }\r\n                },\r\n                onTransitionStart: function () {\r\n                    if (s.params.lazyLoading) {\r\n                        if (s.params.lazyLoadingOnTransitionStart || (!s.params.lazyLoadingOnTransitionStart && !s.lazy.initialImageLoaded)) {\r\n                            s.lazy.load();\r\n                        }\r\n                    }\r\n                },\r\n                onTransitionEnd: function () {\r\n                    if (s.params.lazyLoading && !s.params.lazyLoadingOnTransitionStart) {\r\n                        s.lazy.load();\r\n                    }\r\n                }\r\n            };\r\n            \r\n        \r\n            /*=========================\r\n              Scrollbar\r\n              ===========================*/\r\n            s.scrollbar = {\r\n                isTouched: false,\r\n                setDragPosition: function (e) {\r\n                    var sb = s.scrollbar;\r\n                    var x = 0, y = 0;\r\n                    var translate;\r\n                    var pointerPosition = s.isHorizontal() ?\r\n                        ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageX : e.pageX || e.clientX) :\r\n                        ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageY : e.pageY || e.clientY) ;\r\n                    var position = (pointerPosition) - sb.track.offset()[s.isHorizontal() ? 'left' : 'top'] - sb.dragSize / 2;\r\n                    var positionMin = -s.minTranslate() * sb.moveDivider;\r\n                    var positionMax = -s.maxTranslate() * sb.moveDivider;\r\n                    if (position < positionMin) {\r\n                        position = positionMin;\r\n                    }\r\n                    else if (position > positionMax) {\r\n                        position = positionMax;\r\n                    }\r\n                    position = -position / sb.moveDivider;\r\n                    s.updateProgress(position);\r\n                    s.setWrapperTranslate(position, true);\r\n                },\r\n                dragStart: function (e) {\r\n                    var sb = s.scrollbar;\r\n                    sb.isTouched = true;\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n            \r\n                    sb.setDragPosition(e);\r\n                    clearTimeout(sb.dragTimeout);\r\n            \r\n                    sb.track.transition(0);\r\n                    if (s.params.scrollbarHide) {\r\n                        sb.track.css('opacity', 1);\r\n                    }\r\n                    s.wrapper.transition(100);\r\n                    sb.drag.transition(100);\r\n                    s.emit('onScrollbarDragStart', s);\r\n                },\r\n                dragMove: function (e) {\r\n                    var sb = s.scrollbar;\r\n                    if (!sb.isTouched) return;\r\n                    if (e.preventDefault) e.preventDefault();\r\n                    else e.returnValue = false;\r\n                    sb.setDragPosition(e);\r\n                    s.wrapper.transition(0);\r\n                    sb.track.transition(0);\r\n                    sb.drag.transition(0);\r\n                    s.emit('onScrollbarDragMove', s);\r\n                },\r\n                dragEnd: function (e) {\r\n                    var sb = s.scrollbar;\r\n                    if (!sb.isTouched) return;\r\n                    sb.isTouched = false;\r\n                    if (s.params.scrollbarHide) {\r\n                        clearTimeout(sb.dragTimeout);\r\n                        sb.dragTimeout = setTimeout(function () {\r\n                            sb.track.css('opacity', 0);\r\n                            sb.track.transition(400);\r\n                        }, 1000);\r\n            \r\n                    }\r\n                    s.emit('onScrollbarDragEnd', s);\r\n                    if (s.params.scrollbarSnapOnRelease) {\r\n                        s.slideReset();\r\n                    }\r\n                },\r\n                draggableEvents: (function () {\r\n                    if ((s.params.simulateTouch === false && !s.support.touch)) return s.touchEventsDesktop;\r\n                    else return s.touchEvents;\r\n                })(),\r\n                enableDraggable: function () {\r\n                    var sb = s.scrollbar;\r\n                    var target = s.support.touch ? sb.track : document;\r\n                    $(sb.track).on(sb.draggableEvents.start, sb.dragStart);\r\n                    $(target).on(sb.draggableEvents.move, sb.dragMove);\r\n                    $(target).on(sb.draggableEvents.end, sb.dragEnd);\r\n                },\r\n                disableDraggable: function () {\r\n                    var sb = s.scrollbar;\r\n                    var target = s.support.touch ? sb.track : document;\r\n                    $(sb.track).off(sb.draggableEvents.start, sb.dragStart);\r\n                    $(target).off(sb.draggableEvents.move, sb.dragMove);\r\n                    $(target).off(sb.draggableEvents.end, sb.dragEnd);\r\n                },\r\n                set: function () {\r\n                    if (!s.params.scrollbar) return;\r\n                    var sb = s.scrollbar;\r\n                    sb.track = $(s.params.scrollbar);\r\n                    if (s.params.uniqueNavElements && typeof s.params.scrollbar === 'string' && sb.track.length > 1 && s.container.find(s.params.scrollbar).length === 1) {\r\n                        sb.track = s.container.find(s.params.scrollbar);\r\n                    }\r\n                    sb.drag = sb.track.find('.swiper-scrollbar-drag');\r\n                    if (sb.drag.length === 0) {\r\n                        sb.drag = $('<div class=\"swiper-scrollbar-drag\"></div>');\r\n                        sb.track.append(sb.drag);\r\n                    }\r\n                    sb.drag[0].style.width = '';\r\n                    sb.drag[0].style.height = '';\r\n                    sb.trackSize = s.isHorizontal() ? sb.track[0].offsetWidth : sb.track[0].offsetHeight;\r\n            \r\n                    sb.divider = s.size / s.virtualSize;\r\n                    sb.moveDivider = sb.divider * (sb.trackSize / s.size);\r\n                    sb.dragSize = sb.trackSize * sb.divider;\r\n            \r\n                    if (s.isHorizontal()) {\r\n                        sb.drag[0].style.width = sb.dragSize + 'px';\r\n                    }\r\n                    else {\r\n                        sb.drag[0].style.height = sb.dragSize + 'px';\r\n                    }\r\n            \r\n                    if (sb.divider >= 1) {\r\n                        sb.track[0].style.display = 'none';\r\n                    }\r\n                    else {\r\n                        sb.track[0].style.display = '';\r\n                    }\r\n                    if (s.params.scrollbarHide) {\r\n                        sb.track[0].style.opacity = 0;\r\n                    }\r\n                },\r\n                setTranslate: function () {\r\n                    if (!s.params.scrollbar) return;\r\n                    var diff;\r\n                    var sb = s.scrollbar;\r\n                    var translate = s.translate || 0;\r\n                    var newPos;\r\n            \r\n                    var newSize = sb.dragSize;\r\n                    newPos = (sb.trackSize - sb.dragSize) * s.progress;\r\n                    if (s.rtl && s.isHorizontal()) {\r\n                        newPos = -newPos;\r\n                        if (newPos > 0) {\r\n                            newSize = sb.dragSize - newPos;\r\n                            newPos = 0;\r\n                        }\r\n                        else if (-newPos + sb.dragSize > sb.trackSize) {\r\n                            newSize = sb.trackSize + newPos;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (newPos < 0) {\r\n                            newSize = sb.dragSize + newPos;\r\n                            newPos = 0;\r\n                        }\r\n                        else if (newPos + sb.dragSize > sb.trackSize) {\r\n                            newSize = sb.trackSize - newPos;\r\n                        }\r\n                    }\r\n                    if (s.isHorizontal()) {\r\n                        if (s.support.transforms3d) {\r\n                            sb.drag.transform('translate3d(' + (newPos) + 'px, 0, 0)');\r\n                        }\r\n                        else {\r\n                            sb.drag.transform('translateX(' + (newPos) + 'px)');\r\n                        }\r\n                        sb.drag[0].style.width = newSize + 'px';\r\n                    }\r\n                    else {\r\n                        if (s.support.transforms3d) {\r\n                            sb.drag.transform('translate3d(0px, ' + (newPos) + 'px, 0)');\r\n                        }\r\n                        else {\r\n                            sb.drag.transform('translateY(' + (newPos) + 'px)');\r\n                        }\r\n                        sb.drag[0].style.height = newSize + 'px';\r\n                    }\r\n                    if (s.params.scrollbarHide) {\r\n                        clearTimeout(sb.timeout);\r\n                        sb.track[0].style.opacity = 1;\r\n                        sb.timeout = setTimeout(function () {\r\n                            sb.track[0].style.opacity = 0;\r\n                            sb.track.transition(400);\r\n                        }, 1000);\r\n                    }\r\n                },\r\n                setTransition: function (duration) {\r\n                    if (!s.params.scrollbar) return;\r\n                    s.scrollbar.drag.transition(duration);\r\n                }\r\n            };\r\n        \r\n            /*=========================\r\n              Controller\r\n              ===========================*/\r\n            s.controller = {\r\n                LinearSpline: function (x, y) {\r\n                    this.x = x;\r\n                    this.y = y;\r\n                    this.lastIndex = x.length - 1;\r\n                    // Given an x value (x2), return the expected y2 value:\r\n                    // (x1,y1) is the known point before given value,\r\n                    // (x3,y3) is the known point after given value.\r\n                    var i1, i3;\r\n                    var l = this.x.length;\r\n            \r\n                    this.interpolate = function (x2) {\r\n                        if (!x2) return 0;\r\n            \r\n                        // Get the indexes of x1 and x3 (the array indexes before and after given x2):\r\n                        i3 = binarySearch(this.x, x2);\r\n                        i1 = i3 - 1;\r\n            \r\n                        // We have our indexes i1 & i3, so we can calculate already:\r\n                        // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\r\n                        return ((x2 - this.x[i1]) * (this.y[i3] - this.y[i1])) / (this.x[i3] - this.x[i1]) + this.y[i1];\r\n                    };\r\n            \r\n                    var binarySearch = (function() {\r\n                        var maxIndex, minIndex, guess;\r\n                        return function(array, val) {\r\n                            minIndex = -1;\r\n                            maxIndex = array.length;\r\n                            while (maxIndex - minIndex > 1)\r\n                                if (array[guess = maxIndex + minIndex >> 1] <= val) {\r\n                                    minIndex = guess;\r\n                                } else {\r\n                                    maxIndex = guess;\r\n                                }\r\n                            return maxIndex;\r\n                        };\r\n                    })();\r\n                },\r\n                //xxx: for now i will just save one spline function to to\r\n                getInterpolateFunction: function(c){\r\n                    if(!s.controller.spline) s.controller.spline = s.params.loop ?\r\n                        new s.controller.LinearSpline(s.slidesGrid, c.slidesGrid) :\r\n                        new s.controller.LinearSpline(s.snapGrid, c.snapGrid);\r\n                },\r\n                setTranslate: function (translate, byController) {\r\n                   var controlled = s.params.control;\r\n                   var multiplier, controlledTranslate;\r\n                   function setControlledTranslate(c) {\r\n                        // this will create an Interpolate function based on the snapGrids\r\n                        // x is the Grid of the scrolled scroller and y will be the controlled scroller\r\n                        // it makes sense to create this only once and recall it for the interpolation\r\n                        // the function does a lot of value caching for performance\r\n                        translate = c.rtl && c.params.direction === 'horizontal' ? -s.translate : s.translate;\r\n                        if (s.params.controlBy === 'slide') {\r\n                            s.controller.getInterpolateFunction(c);\r\n                            // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\r\n                            // but it did not work out\r\n                            controlledTranslate = -s.controller.spline.interpolate(-translate);\r\n                        }\r\n            \r\n                        if(!controlledTranslate || s.params.controlBy === 'container'){\r\n                            multiplier = (c.maxTranslate() - c.minTranslate()) / (s.maxTranslate() - s.minTranslate());\r\n                            controlledTranslate = (translate - s.minTranslate()) * multiplier + c.minTranslate();\r\n                        }\r\n            \r\n                        if (s.params.controlInverse) {\r\n                            controlledTranslate = c.maxTranslate() - controlledTranslate;\r\n                        }\r\n                        c.updateProgress(controlledTranslate);\r\n                        c.setWrapperTranslate(controlledTranslate, false, s);\r\n                        c.updateActiveIndex();\r\n                   }\r\n                   if (s.isArray(controlled)) {\r\n                       for (var i = 0; i < controlled.length; i++) {\r\n                           if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\r\n                               setControlledTranslate(controlled[i]);\r\n                           }\r\n                       }\r\n                   }\r\n                   else if (controlled instanceof Swiper && byController !== controlled) {\r\n            \r\n                       setControlledTranslate(controlled);\r\n                   }\r\n                },\r\n                setTransition: function (duration, byController) {\r\n                    var controlled = s.params.control;\r\n                    var i;\r\n                    function setControlledTransition(c) {\r\n                        c.setWrapperTransition(duration, s);\r\n                        if (duration !== 0) {\r\n                            c.onTransitionStart();\r\n                            c.wrapper.transitionEnd(function(){\r\n                                if (!controlled) return;\r\n                                if (c.params.loop && s.params.controlBy === 'slide') {\r\n                                    c.fixLoop();\r\n                                }\r\n                                c.onTransitionEnd();\r\n            \r\n                            });\r\n                        }\r\n                    }\r\n                    if (s.isArray(controlled)) {\r\n                        for (i = 0; i < controlled.length; i++) {\r\n                            if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\r\n                                setControlledTransition(controlled[i]);\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (controlled instanceof Swiper && byController !== controlled) {\r\n                        setControlledTransition(controlled);\r\n                    }\r\n                }\r\n            };\r\n        \r\n            /*=========================\r\n              Parallax\r\n              ===========================*/\r\n            function setParallaxTransform(el, progress) {\r\n                el = $(el);\r\n                var p, pX, pY;\r\n                var rtlFactor = s.rtl ? -1 : 1;\r\n            \r\n                p = el.attr('data-swiper-parallax') || '0';\r\n                pX = el.attr('data-swiper-parallax-x');\r\n                pY = el.attr('data-swiper-parallax-y');\r\n                if (pX || pY) {\r\n                    pX = pX || '0';\r\n                    pY = pY || '0';\r\n                }\r\n                else {\r\n                    if (s.isHorizontal()) {\r\n                        pX = p;\r\n                        pY = '0';\r\n                    }\r\n                    else {\r\n                        pY = p;\r\n                        pX = '0';\r\n                    }\r\n                }\r\n            \r\n                if ((pX).indexOf('%') >= 0) {\r\n                    pX = parseInt(pX, 10) * progress * rtlFactor + '%';\r\n                }\r\n                else {\r\n                    pX = pX * progress * rtlFactor + 'px' ;\r\n                }\r\n                if ((pY).indexOf('%') >= 0) {\r\n                    pY = parseInt(pY, 10) * progress + '%';\r\n                }\r\n                else {\r\n                    pY = pY * progress + 'px' ;\r\n                }\r\n            \r\n                el.transform('translate3d(' + pX + ', ' + pY + ',0px)');\r\n            }\r\n            s.parallax = {\r\n                setTranslate: function () {\r\n                    s.container.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){\r\n                        setParallaxTransform(this, s.progress);\r\n            \r\n                    });\r\n                    s.slides.each(function () {\r\n                        var slide = $(this);\r\n                        slide.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function () {\r\n                            var progress = Math.min(Math.max(slide[0].progress, -1), 1);\r\n                            setParallaxTransform(this, progress);\r\n                        });\r\n                    });\r\n                },\r\n                setTransition: function (duration) {\r\n                    if (typeof duration === 'undefined') duration = s.params.speed;\r\n                    s.container.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){\r\n                        var el = $(this);\r\n                        var parallaxDuration = parseInt(el.attr('data-swiper-parallax-duration'), 10) || duration;\r\n                        if (duration === 0) parallaxDuration = 0;\r\n                        el.transition(parallaxDuration);\r\n                    });\r\n                }\r\n            };\r\n            \r\n        \r\n            /*=========================\r\n              Zoom\r\n              ===========================*/\r\n            s.zoom = {\r\n                // \"Global\" Props\r\n                scale: 1,\r\n                currentScale: 1,\r\n                isScaling: false,\r\n                gesture: {\r\n                    slide: undefined,\r\n                    slideWidth: undefined,\r\n                    slideHeight: undefined,\r\n                    image: undefined,\r\n                    imageWrap: undefined,\r\n                    zoomMax: s.params.zoomMax\r\n                },\r\n                image: {\r\n                    isTouched: undefined,\r\n                    isMoved: undefined,\r\n                    currentX: undefined,\r\n                    currentY: undefined,\r\n                    minX: undefined,\r\n                    minY: undefined,\r\n                    maxX: undefined,\r\n                    maxY: undefined,\r\n                    width: undefined,\r\n                    height: undefined,\r\n                    startX: undefined,\r\n                    startY: undefined,\r\n                    touchesStart: {},\r\n                    touchesCurrent: {}\r\n                },\r\n                velocity: {\r\n                    x: undefined,\r\n                    y: undefined,\r\n                    prevPositionX: undefined,\r\n                    prevPositionY: undefined,\r\n                    prevTime: undefined\r\n                },\r\n                // Calc Scale From Multi-touches\r\n                getDistanceBetweenTouches: function (e) {\r\n                    if (e.targetTouches.length < 2) return 1;\r\n                    var x1 = e.targetTouches[0].pageX,\r\n                        y1 = e.targetTouches[0].pageY,\r\n                        x2 = e.targetTouches[1].pageX,\r\n                        y2 = e.targetTouches[1].pageY;\r\n                    var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\r\n                    return distance;\r\n                },\r\n                // Events\r\n                onGestureStart: function (e) {\r\n                    var z = s.zoom;\r\n                    if (!s.support.gestures) {\r\n                        if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\r\n                            return;\r\n                        }\r\n                        z.gesture.scaleStart = z.getDistanceBetweenTouches(e);\r\n                    }\r\n                    if (!z.gesture.slide || !z.gesture.slide.length) {\r\n                        z.gesture.slide = $(this);\r\n                        if (z.gesture.slide.length === 0) z.gesture.slide = s.slides.eq(s.activeIndex);\r\n                        z.gesture.image = z.gesture.slide.find('img, svg, canvas');\r\n                        z.gesture.imageWrap = z.gesture.image.parent('.' + s.params.zoomContainerClass);\r\n                        z.gesture.zoomMax = z.gesture.imageWrap.attr('data-swiper-zoom') || s.params.zoomMax ;\r\n                        if (z.gesture.imageWrap.length === 0) {\r\n                            z.gesture.image = undefined;\r\n                            return;\r\n                        }\r\n                    }\r\n                    z.gesture.image.transition(0);\r\n                    z.isScaling = true;\r\n                },\r\n                onGestureChange: function (e) {\r\n                    var z = s.zoom;\r\n                    if (!s.support.gestures) {\r\n                        if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\r\n                            return;\r\n                        }\r\n                        z.gesture.scaleMove = z.getDistanceBetweenTouches(e);\r\n                    }\r\n                    if (!z.gesture.image || z.gesture.image.length === 0) return;\r\n                    if (s.support.gestures) {\r\n                        z.scale = e.scale * z.currentScale;\r\n                    }\r\n                    else {\r\n                        z.scale = (z.gesture.scaleMove / z.gesture.scaleStart) * z.currentScale;\r\n                    }\r\n                    if (z.scale > z.gesture.zoomMax) {\r\n                        z.scale = z.gesture.zoomMax - 1 + Math.pow((z.scale - z.gesture.zoomMax + 1), 0.5);\r\n                    }\r\n                    if (z.scale < s.params.zoomMin) {\r\n                        z.scale =  s.params.zoomMin + 1 - Math.pow((s.params.zoomMin - z.scale + 1), 0.5);\r\n                    }\r\n                    z.gesture.image.transform('translate3d(0,0,0) scale(' + z.scale + ')');\r\n                },\r\n                onGestureEnd: function (e) {\r\n                    var z = s.zoom;\r\n                    if (!s.support.gestures) {\r\n                        if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2) {\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (!z.gesture.image || z.gesture.image.length === 0) return;\r\n                    z.scale = Math.max(Math.min(z.scale, z.gesture.zoomMax), s.params.zoomMin);\r\n                    z.gesture.image.transition(s.params.speed).transform('translate3d(0,0,0) scale(' + z.scale + ')');\r\n                    z.currentScale = z.scale;\r\n                    z.isScaling = false;\r\n                    if (z.scale === 1) z.gesture.slide = undefined;\r\n                },\r\n                onTouchStart: function (s, e) {\r\n                    var z = s.zoom;\r\n                    if (!z.gesture.image || z.gesture.image.length === 0) return;\r\n                    if (z.image.isTouched) return;\r\n                    if (s.device.os === 'android') e.preventDefault();\r\n                    z.image.isTouched = true;\r\n                    z.image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\r\n                    z.image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\r\n                },\r\n                onTouchMove: function (e) {\r\n                    var z = s.zoom;\r\n                    if (!z.gesture.image || z.gesture.image.length === 0) return;\r\n                    s.allowClick = false;\r\n                    if (!z.image.isTouched || !z.gesture.slide) return;\r\n            \r\n                    if (!z.image.isMoved) {\r\n                        z.image.width = z.gesture.image[0].offsetWidth;\r\n                        z.image.height = z.gesture.image[0].offsetHeight;\r\n                        z.image.startX = s.getTranslate(z.gesture.imageWrap[0], 'x') || 0;\r\n                        z.image.startY = s.getTranslate(z.gesture.imageWrap[0], 'y') || 0;\r\n                        z.gesture.slideWidth = z.gesture.slide[0].offsetWidth;\r\n                        z.gesture.slideHeight = z.gesture.slide[0].offsetHeight;\r\n                        z.gesture.imageWrap.transition(0);\r\n                        if (s.rtl) z.image.startX = -z.image.startX;\r\n                        if (s.rtl) z.image.startY = -z.image.startY;\r\n                    }\r\n                    // Define if we need image drag\r\n                    var scaledWidth = z.image.width * z.scale;\r\n                    var scaledHeight = z.image.height * z.scale;\r\n            \r\n                    if (scaledWidth < z.gesture.slideWidth && scaledHeight < z.gesture.slideHeight) return;\r\n            \r\n                    z.image.minX = Math.min((z.gesture.slideWidth / 2 - scaledWidth / 2), 0);\r\n                    z.image.maxX = -z.image.minX;\r\n                    z.image.minY = Math.min((z.gesture.slideHeight / 2 - scaledHeight / 2), 0);\r\n                    z.image.maxY = -z.image.minY;\r\n            \r\n                    z.image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\r\n                    z.image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\r\n            \r\n                    if (!z.image.isMoved && !z.isScaling) {\r\n                        if (s.isHorizontal() &&\r\n                            (Math.floor(z.image.minX) === Math.floor(z.image.startX) && z.image.touchesCurrent.x < z.image.touchesStart.x) ||\r\n                            (Math.floor(z.image.maxX) === Math.floor(z.image.startX) && z.image.touchesCurrent.x > z.image.touchesStart.x)\r\n                            ) {\r\n                            z.image.isTouched = false;\r\n                            return;\r\n                        }\r\n                        else if (!s.isHorizontal() &&\r\n                            (Math.floor(z.image.minY) === Math.floor(z.image.startY) && z.image.touchesCurrent.y < z.image.touchesStart.y) ||\r\n                            (Math.floor(z.image.maxY) === Math.floor(z.image.startY) && z.image.touchesCurrent.y > z.image.touchesStart.y)\r\n                            ) {\r\n                            z.image.isTouched = false;\r\n                            return;\r\n                        }\r\n                    }\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n            \r\n                    z.image.isMoved = true;\r\n                    z.image.currentX = z.image.touchesCurrent.x - z.image.touchesStart.x + z.image.startX;\r\n                    z.image.currentY = z.image.touchesCurrent.y - z.image.touchesStart.y + z.image.startY;\r\n            \r\n                    if (z.image.currentX < z.image.minX) {\r\n                        z.image.currentX =  z.image.minX + 1 - Math.pow((z.image.minX - z.image.currentX + 1), 0.8);\r\n                    }\r\n                    if (z.image.currentX > z.image.maxX) {\r\n                        z.image.currentX = z.image.maxX - 1 + Math.pow((z.image.currentX - z.image.maxX + 1), 0.8);\r\n                    }\r\n            \r\n                    if (z.image.currentY < z.image.minY) {\r\n                        z.image.currentY =  z.image.minY + 1 - Math.pow((z.image.minY - z.image.currentY + 1), 0.8);\r\n                    }\r\n                    if (z.image.currentY > z.image.maxY) {\r\n                        z.image.currentY = z.image.maxY - 1 + Math.pow((z.image.currentY - z.image.maxY + 1), 0.8);\r\n                    }\r\n            \r\n                    //Velocity\r\n                    if (!z.velocity.prevPositionX) z.velocity.prevPositionX = z.image.touchesCurrent.x;\r\n                    if (!z.velocity.prevPositionY) z.velocity.prevPositionY = z.image.touchesCurrent.y;\r\n                    if (!z.velocity.prevTime) z.velocity.prevTime = Date.now();\r\n                    z.velocity.x = (z.image.touchesCurrent.x - z.velocity.prevPositionX) / (Date.now() - z.velocity.prevTime) / 2;\r\n                    z.velocity.y = (z.image.touchesCurrent.y - z.velocity.prevPositionY) / (Date.now() - z.velocity.prevTime) / 2;\r\n                    if (Math.abs(z.image.touchesCurrent.x - z.velocity.prevPositionX) < 2) z.velocity.x = 0;\r\n                    if (Math.abs(z.image.touchesCurrent.y - z.velocity.prevPositionY) < 2) z.velocity.y = 0;\r\n                    z.velocity.prevPositionX = z.image.touchesCurrent.x;\r\n                    z.velocity.prevPositionY = z.image.touchesCurrent.y;\r\n                    z.velocity.prevTime = Date.now();\r\n            \r\n                    z.gesture.imageWrap.transform('translate3d(' + z.image.currentX + 'px, ' + z.image.currentY + 'px,0)');\r\n                },\r\n                onTouchEnd: function (s, e) {\r\n                    var z = s.zoom;\r\n                    if (!z.gesture.image || z.gesture.image.length === 0) return;\r\n                    if (!z.image.isTouched || !z.image.isMoved) {\r\n                        z.image.isTouched = false;\r\n                        z.image.isMoved = false;\r\n                        return;\r\n                    }\r\n                    z.image.isTouched = false;\r\n                    z.image.isMoved = false;\r\n                    var momentumDurationX = 300;\r\n                    var momentumDurationY = 300;\r\n                    var momentumDistanceX = z.velocity.x * momentumDurationX;\r\n                    var newPositionX = z.image.currentX + momentumDistanceX;\r\n                    var momentumDistanceY = z.velocity.y * momentumDurationY;\r\n                    var newPositionY = z.image.currentY + momentumDistanceY;\r\n            \r\n                    //Fix duration\r\n                    if (z.velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - z.image.currentX) / z.velocity.x);\r\n                    if (z.velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - z.image.currentY) / z.velocity.y);\r\n                    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\r\n            \r\n                    z.image.currentX = newPositionX;\r\n                    z.image.currentY = newPositionY;\r\n            \r\n                    // Define if we need image drag\r\n                    var scaledWidth = z.image.width * z.scale;\r\n                    var scaledHeight = z.image.height * z.scale;\r\n                    z.image.minX = Math.min((z.gesture.slideWidth / 2 - scaledWidth / 2), 0);\r\n                    z.image.maxX = -z.image.minX;\r\n                    z.image.minY = Math.min((z.gesture.slideHeight / 2 - scaledHeight / 2), 0);\r\n                    z.image.maxY = -z.image.minY;\r\n                    z.image.currentX = Math.max(Math.min(z.image.currentX, z.image.maxX), z.image.minX);\r\n                    z.image.currentY = Math.max(Math.min(z.image.currentY, z.image.maxY), z.image.minY);\r\n            \r\n                    z.gesture.imageWrap.transition(momentumDuration).transform('translate3d(' + z.image.currentX + 'px, ' + z.image.currentY + 'px,0)');\r\n                },\r\n                onTransitionEnd: function (s) {\r\n                    var z = s.zoom;\r\n                    if (z.gesture.slide && s.previousIndex !== s.activeIndex) {\r\n                        z.gesture.image.transform('translate3d(0,0,0) scale(1)');\r\n                        z.gesture.imageWrap.transform('translate3d(0,0,0)');\r\n                        z.gesture.slide = z.gesture.image = z.gesture.imageWrap = undefined;\r\n                        z.scale = z.currentScale = 1;\r\n                    }\r\n                },\r\n                // Toggle Zoom\r\n                toggleZoom: function (s, e) {\r\n                    var z = s.zoom;\r\n                    if (!z.gesture.slide) {\r\n                        z.gesture.slide = s.clickedSlide ? $(s.clickedSlide) : s.slides.eq(s.activeIndex);\r\n                        z.gesture.image = z.gesture.slide.find('img, svg, canvas');\r\n                        z.gesture.imageWrap = z.gesture.image.parent('.' + s.params.zoomContainerClass);\r\n                    }\r\n                    if (!z.gesture.image || z.gesture.image.length === 0) return;\r\n            \r\n                    var touchX, touchY, offsetX, offsetY, diffX, diffY, translateX, translateY, imageWidth, imageHeight, scaledWidth, scaledHeight, translateMinX, translateMinY, translateMaxX, translateMaxY, slideWidth, slideHeight;\r\n            \r\n                    if (typeof z.image.touchesStart.x === 'undefined' && e) {\r\n                        touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\r\n                        touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\r\n                    }\r\n                    else {\r\n                        touchX = z.image.touchesStart.x;\r\n                        touchY = z.image.touchesStart.y;\r\n                    }\r\n            \r\n                    if (z.scale && z.scale !== 1) {\r\n                        // Zoom Out\r\n                        z.scale = z.currentScale = 1;\r\n                        z.gesture.imageWrap.transition(300).transform('translate3d(0,0,0)');\r\n                        z.gesture.image.transition(300).transform('translate3d(0,0,0) scale(1)');\r\n                        z.gesture.slide = undefined;\r\n                    }\r\n                    else {\r\n                        // Zoom In\r\n                        z.scale = z.currentScale = z.gesture.imageWrap.attr('data-swiper-zoom') || s.params.zoomMax;\r\n                        if (e) {\r\n                            slideWidth = z.gesture.slide[0].offsetWidth;\r\n                            slideHeight = z.gesture.slide[0].offsetHeight;\r\n                            offsetX = z.gesture.slide.offset().left;\r\n                            offsetY = z.gesture.slide.offset().top;\r\n                            diffX = offsetX + slideWidth/2 - touchX;\r\n                            diffY = offsetY + slideHeight/2 - touchY;\r\n            \r\n                            imageWidth = z.gesture.image[0].offsetWidth;\r\n                            imageHeight = z.gesture.image[0].offsetHeight;\r\n                            scaledWidth = imageWidth * z.scale;\r\n                            scaledHeight = imageHeight * z.scale;\r\n            \r\n                            translateMinX = Math.min((slideWidth / 2 - scaledWidth / 2), 0);\r\n                            translateMinY = Math.min((slideHeight / 2 - scaledHeight / 2), 0);\r\n                            translateMaxX = -translateMinX;\r\n                            translateMaxY = -translateMinY;\r\n            \r\n                            translateX = diffX * z.scale;\r\n                            translateY = diffY * z.scale;\r\n            \r\n                            if (translateX < translateMinX) {\r\n                                translateX =  translateMinX;\r\n                            }\r\n                            if (translateX > translateMaxX) {\r\n                                translateX = translateMaxX;\r\n                            }\r\n            \r\n                            if (translateY < translateMinY) {\r\n                                translateY =  translateMinY;\r\n                            }\r\n                            if (translateY > translateMaxY) {\r\n                                translateY = translateMaxY;\r\n                            }\r\n                        }\r\n                        else {\r\n                            translateX = 0;\r\n                            translateY = 0;\r\n                        }\r\n                        z.gesture.imageWrap.transition(300).transform('translate3d(' + translateX + 'px, ' + translateY + 'px,0)');\r\n                        z.gesture.image.transition(300).transform('translate3d(0,0,0) scale(' + z.scale + ')');\r\n                    }\r\n                },\r\n                // Attach/Detach Events\r\n                attachEvents: function (detach) {\r\n                    var action = detach ? 'off' : 'on';\r\n            \r\n                    if (s.params.zoom) {\r\n                        var target = s.slides;\r\n                        var passiveListener = s.touchEvents.start === 'touchstart' && s.support.passiveListener && s.params.passiveListeners ? {passive: true, capture: false} : false;\r\n                        // Scale image\r\n                        if (s.support.gestures) {\r\n                            s.slides[action]('gesturestart', s.zoom.onGestureStart, passiveListener);\r\n                            s.slides[action]('gesturechange', s.zoom.onGestureChange, passiveListener);\r\n                            s.slides[action]('gestureend', s.zoom.onGestureEnd, passiveListener);\r\n                        }\r\n                        else if (s.touchEvents.start === 'touchstart') {\r\n                            s.slides[action](s.touchEvents.start, s.zoom.onGestureStart, passiveListener);\r\n                            s.slides[action](s.touchEvents.move, s.zoom.onGestureChange, passiveListener);\r\n                            s.slides[action](s.touchEvents.end, s.zoom.onGestureEnd, passiveListener);\r\n                        }\r\n            \r\n                        // Move image\r\n                        s[action]('touchStart', s.zoom.onTouchStart);\r\n                        s.slides.each(function (index, slide){\r\n                            if ($(slide).find('.' + s.params.zoomContainerClass).length > 0) {\r\n                                $(slide)[action](s.touchEvents.move, s.zoom.onTouchMove);\r\n                            }\r\n                        });\r\n                        s[action]('touchEnd', s.zoom.onTouchEnd);\r\n            \r\n                        // Scale Out\r\n                        s[action]('transitionEnd', s.zoom.onTransitionEnd);\r\n                        if (s.params.zoomToggle) {\r\n                            s.on('doubleTap', s.zoom.toggleZoom);\r\n                        }\r\n                    }\r\n                },\r\n                init: function () {\r\n                    s.zoom.attachEvents();\r\n                },\r\n                destroy: function () {\r\n                    s.zoom.attachEvents(true);\r\n                }\r\n            };\r\n        \r\n            /*=========================\r\n              Plugins API. Collect all and init all plugins\r\n              ===========================*/\r\n            s._plugins = [];\r\n            for (var plugin in s.plugins) {\r\n                var p = s.plugins[plugin](s, s.params[plugin]);\r\n                if (p) s._plugins.push(p);\r\n            }\r\n            // Method to call all plugins event/method\r\n            s.callPlugins = function (eventName) {\r\n                for (var i = 0; i < s._plugins.length; i++) {\r\n                    if (eventName in s._plugins[i]) {\r\n                        s._plugins[i][eventName](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\r\n                    }\r\n                }\r\n            };\r\n        \r\n            /*=========================\r\n              Events/Callbacks/Plugins Emitter\r\n              ===========================*/\r\n            function normalizeEventName (eventName) {\r\n                if (eventName.indexOf('on') !== 0) {\r\n                    if (eventName[0] !== eventName[0].toUpperCase()) {\r\n                        eventName = 'on' + eventName[0].toUpperCase() + eventName.substring(1);\r\n                    }\r\n                    else {\r\n                        eventName = 'on' + eventName;\r\n                    }\r\n                }\r\n                return eventName;\r\n            }\r\n            s.emitterEventListeners = {\r\n            \r\n            };\r\n            s.emit = function (eventName) {\r\n                // Trigger callbacks\r\n                if (s.params[eventName]) {\r\n                    s.params[eventName](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\r\n                }\r\n                var i;\r\n                // Trigger events\r\n                if (s.emitterEventListeners[eventName]) {\r\n                    for (i = 0; i < s.emitterEventListeners[eventName].length; i++) {\r\n                        s.emitterEventListeners[eventName][i](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\r\n                    }\r\n                }\r\n                // Trigger plugins\r\n                if (s.callPlugins) s.callPlugins(eventName, arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\r\n            };\r\n            s.on = function (eventName, handler) {\r\n                eventName = normalizeEventName(eventName);\r\n                if (!s.emitterEventListeners[eventName]) s.emitterEventListeners[eventName] = [];\r\n                s.emitterEventListeners[eventName].push(handler);\r\n                return s;\r\n            };\r\n            s.off = function (eventName, handler) {\r\n                var i;\r\n                eventName = normalizeEventName(eventName);\r\n                if (typeof handler === 'undefined') {\r\n                    // Remove all handlers for such event\r\n                    s.emitterEventListeners[eventName] = [];\r\n                    return s;\r\n                }\r\n                if (!s.emitterEventListeners[eventName] || s.emitterEventListeners[eventName].length === 0) return;\r\n                for (i = 0; i < s.emitterEventListeners[eventName].length; i++) {\r\n                    if(s.emitterEventListeners[eventName][i] === handler) s.emitterEventListeners[eventName].splice(i, 1);\r\n                }\r\n                return s;\r\n            };\r\n            s.once = function (eventName, handler) {\r\n                eventName = normalizeEventName(eventName);\r\n                var _handler = function () {\r\n                    handler(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);\r\n                    s.off(eventName, _handler);\r\n                };\r\n                s.on(eventName, _handler);\r\n                return s;\r\n            };\r\n        \r\n            // Accessibility tools\r\n            s.a11y = {\r\n                makeFocusable: function ($el) {\r\n                    $el.attr('tabIndex', '0');\r\n                    return $el;\r\n                },\r\n                addRole: function ($el, role) {\r\n                    $el.attr('role', role);\r\n                    return $el;\r\n                },\r\n            \r\n                addLabel: function ($el, label) {\r\n                    $el.attr('aria-label', label);\r\n                    return $el;\r\n                },\r\n            \r\n                disable: function ($el) {\r\n                    $el.attr('aria-disabled', true);\r\n                    return $el;\r\n                },\r\n            \r\n                enable: function ($el) {\r\n                    $el.attr('aria-disabled', false);\r\n                    return $el;\r\n                },\r\n            \r\n                onEnterKey: function (event) {\r\n                    if (event.keyCode !== 13) return;\r\n                    if ($(event.target).is(s.params.nextButton)) {\r\n                        s.onClickNext(event);\r\n                        if (s.isEnd) {\r\n                            s.a11y.notify(s.params.lastSlideMessage);\r\n                        }\r\n                        else {\r\n                            s.a11y.notify(s.params.nextSlideMessage);\r\n                        }\r\n                    }\r\n                    else if ($(event.target).is(s.params.prevButton)) {\r\n                        s.onClickPrev(event);\r\n                        if (s.isBeginning) {\r\n                            s.a11y.notify(s.params.firstSlideMessage);\r\n                        }\r\n                        else {\r\n                            s.a11y.notify(s.params.prevSlideMessage);\r\n                        }\r\n                    }\r\n                    if ($(event.target).is('.' + s.params.bulletClass)) {\r\n                        $(event.target)[0].click();\r\n                    }\r\n                },\r\n            \r\n                liveRegion: $('<span class=\"' + s.params.notificationClass + '\" aria-live=\"assertive\" aria-atomic=\"true\"></span>'),\r\n            \r\n                notify: function (message) {\r\n                    var notification = s.a11y.liveRegion;\r\n                    if (notification.length === 0) return;\r\n                    notification.html('');\r\n                    notification.html(message);\r\n                },\r\n                init: function () {\r\n                    // Setup accessibility\r\n                    if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\r\n                        s.a11y.makeFocusable(s.nextButton);\r\n                        s.a11y.addRole(s.nextButton, 'button');\r\n                        s.a11y.addLabel(s.nextButton, s.params.nextSlideMessage);\r\n                    }\r\n                    if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\r\n                        s.a11y.makeFocusable(s.prevButton);\r\n                        s.a11y.addRole(s.prevButton, 'button');\r\n                        s.a11y.addLabel(s.prevButton, s.params.prevSlideMessage);\r\n                    }\r\n            \r\n                    $(s.container).append(s.a11y.liveRegion);\r\n                },\r\n                initPagination: function () {\r\n                    if (s.params.pagination && s.params.paginationClickable && s.bullets && s.bullets.length) {\r\n                        s.bullets.each(function () {\r\n                            var bullet = $(this);\r\n                            s.a11y.makeFocusable(bullet);\r\n                            s.a11y.addRole(bullet, 'button');\r\n                            s.a11y.addLabel(bullet, s.params.paginationBulletMessage.replace(/{{index}}/, bullet.index() + 1));\r\n                        });\r\n                    }\r\n                },\r\n                destroy: function () {\r\n                    if (s.a11y.liveRegion && s.a11y.liveRegion.length > 0) s.a11y.liveRegion.remove();\r\n                }\r\n            };\r\n            \r\n        \r\n            /*=========================\r\n              Init/Destroy\r\n              ===========================*/\r\n            s.init = function () {\r\n                if (s.params.loop) s.createLoop();\r\n                s.updateContainerSize();\r\n                s.updateSlidesSize();\r\n                s.updatePagination();\r\n                if (s.params.scrollbar && s.scrollbar) {\r\n                    s.scrollbar.set();\r\n                    if (s.params.scrollbarDraggable) {\r\n                        s.scrollbar.enableDraggable();\r\n                    }\r\n                }\r\n                if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\r\n                    if (!s.params.loop) s.updateProgress();\r\n                    s.effects[s.params.effect].setTranslate();\r\n                }\r\n                if (s.params.loop) {\r\n                    s.slideTo(s.params.initialSlide + s.loopedSlides, 0, s.params.runCallbacksOnInit);\r\n                }\r\n                else {\r\n                    s.slideTo(s.params.initialSlide, 0, s.params.runCallbacksOnInit);\r\n                    if (s.params.initialSlide === 0) {\r\n                        if (s.parallax && s.params.parallax) s.parallax.setTranslate();\r\n                        if (s.lazy && s.params.lazyLoading) {\r\n                            s.lazy.load();\r\n                            s.lazy.initialImageLoaded = true;\r\n                        }\r\n                    }\r\n                }\r\n                s.attachEvents();\r\n                if (s.params.observer && s.support.observer) {\r\n                    s.initObservers();\r\n                }\r\n                if (s.params.preloadImages && !s.params.lazyLoading) {\r\n                    s.preloadImages();\r\n                }\r\n                if (s.params.zoom && s.zoom) {\r\n                    s.zoom.init();\r\n                }\r\n                if (s.params.autoplay) {\r\n                    s.startAutoplay();\r\n                }\r\n                if (s.params.keyboardControl) {\r\n                    if (s.enableKeyboardControl) s.enableKeyboardControl();\r\n                }\r\n                if (s.params.mousewheelControl) {\r\n                    if (s.enableMousewheelControl) s.enableMousewheelControl();\r\n                }\r\n                // Deprecated hashnavReplaceState changed to replaceState for use in hashnav and history\r\n                if (s.params.hashnavReplaceState) {\r\n                    s.params.replaceState = s.params.hashnavReplaceState;\r\n                }\r\n                if (s.params.history) {\r\n                    if (s.history) s.history.init();\r\n                }\r\n                if (s.params.hashnav) {\r\n                    if (s.hashnav) s.hashnav.init();\r\n                }\r\n                if (s.params.a11y && s.a11y) s.a11y.init();\r\n                s.emit('onInit', s);\r\n            };\r\n            \r\n            // Cleanup dynamic styles\r\n            s.cleanupStyles = function () {\r\n                // Container\r\n                s.container.removeClass(s.classNames.join(' ')).removeAttr('style');\r\n            \r\n                // Wrapper\r\n                s.wrapper.removeAttr('style');\r\n            \r\n                // Slides\r\n                if (s.slides && s.slides.length) {\r\n                    s.slides\r\n                        .removeClass([\r\n                          s.params.slideVisibleClass,\r\n                          s.params.slideActiveClass,\r\n                          s.params.slideNextClass,\r\n                          s.params.slidePrevClass\r\n                        ].join(' '))\r\n                        .removeAttr('style')\r\n                        .removeAttr('data-swiper-column')\r\n                        .removeAttr('data-swiper-row');\r\n                }\r\n            \r\n                // Pagination/Bullets\r\n                if (s.paginationContainer && s.paginationContainer.length) {\r\n                    s.paginationContainer.removeClass(s.params.paginationHiddenClass);\r\n                }\r\n                if (s.bullets && s.bullets.length) {\r\n                    s.bullets.removeClass(s.params.bulletActiveClass);\r\n                }\r\n            \r\n                // Buttons\r\n                if (s.params.prevButton) $(s.params.prevButton).removeClass(s.params.buttonDisabledClass);\r\n                if (s.params.nextButton) $(s.params.nextButton).removeClass(s.params.buttonDisabledClass);\r\n            \r\n                // Scrollbar\r\n                if (s.params.scrollbar && s.scrollbar) {\r\n                    if (s.scrollbar.track && s.scrollbar.track.length) s.scrollbar.track.removeAttr('style');\r\n                    if (s.scrollbar.drag && s.scrollbar.drag.length) s.scrollbar.drag.removeAttr('style');\r\n                }\r\n            };\r\n            \r\n            // Destroy\r\n            s.destroy = function (deleteInstance, cleanupStyles) {\r\n                // Detach evebts\r\n                s.detachEvents();\r\n                // Stop autoplay\r\n                s.stopAutoplay();\r\n                // Disable draggable\r\n                if (s.params.scrollbar && s.scrollbar) {\r\n                    if (s.params.scrollbarDraggable) {\r\n                        s.scrollbar.disableDraggable();\r\n                    }\r\n                }\r\n                // Destroy loop\r\n                if (s.params.loop) {\r\n                    s.destroyLoop();\r\n                }\r\n                // Cleanup styles\r\n                if (cleanupStyles) {\r\n                    s.cleanupStyles();\r\n                }\r\n                // Disconnect observer\r\n                s.disconnectObservers();\r\n            \r\n                // Destroy zoom\r\n                if (s.params.zoom && s.zoom) {\r\n                    s.zoom.destroy();\r\n                }\r\n                // Disable keyboard/mousewheel\r\n                if (s.params.keyboardControl) {\r\n                    if (s.disableKeyboardControl) s.disableKeyboardControl();\r\n                }\r\n                if (s.params.mousewheelControl) {\r\n                    if (s.disableMousewheelControl) s.disableMousewheelControl();\r\n                }\r\n                // Disable a11y\r\n                if (s.params.a11y && s.a11y) s.a11y.destroy();\r\n                // Delete history popstate\r\n                if (s.params.history && !s.params.replaceState) {\r\n                    window.removeEventListener('popstate', s.history.setHistoryPopState);\r\n                }\r\n                if (s.params.hashnav && s.hashnav)  {\r\n                    s.hashnav.destroy();\r\n                }\r\n                // Destroy callback\r\n                s.emit('onDestroy');\r\n                // Delete instance\r\n                if (deleteInstance !== false) s = null;\r\n            };\r\n            \r\n            s.init();\r\n            \r\n        \r\n        \r\n            // Return swiper instance\r\n            return s;\r\n        };\r\n        \r\n        /*==================================================\r\n            Prototype\r\n        ====================================================*/\r\n        Swiper.prototype = {\r\n            isSafari: (function () {\r\n                var ua = window.navigator.userAgent.toLowerCase();\r\n                return (ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0);\r\n            })(),\r\n            isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),\r\n            isArray: function (arr) {\r\n                return Object.prototype.toString.apply(arr) === '[object Array]';\r\n            },\r\n            /*==================================================\r\n            Browser\r\n            ====================================================*/\r\n            browser: {\r\n                ie: window.navigator.pointerEnabled || window.navigator.msPointerEnabled,\r\n                ieTouch: (window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints > 1) || (window.navigator.pointerEnabled && window.navigator.maxTouchPoints > 1),\r\n                lteIE9: (function() {\r\n                    // create temporary DIV\r\n                    var div = document.createElement('div');\r\n                    // add content to tmp DIV which is wrapped into the IE HTML conditional statement\r\n                    div.innerHTML = '<!--[if lte IE 9]><i></i><![endif]-->';\r\n                    // return true / false value based on what will browser render\r\n                    return div.getElementsByTagName('i').length === 1;\r\n                })()\r\n            },\r\n            /*==================================================\r\n            Devices\r\n            ====================================================*/\r\n            device: (function () {\r\n                var ua = window.navigator.userAgent;\r\n                var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\r\n                var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\r\n                var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\r\n                var iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\r\n                return {\r\n                    ios: ipad || iphone || ipod,\r\n                    android: android\r\n                };\r\n            })(),\r\n            /*==================================================\r\n            Feature Detection\r\n            ====================================================*/\r\n            support: {\r\n                touch : (window.Modernizr && Modernizr.touch === true) || (function () {\r\n                    return !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch);\r\n                })(),\r\n        \r\n                transforms3d : (window.Modernizr && Modernizr.csstransforms3d === true) || (function () {\r\n                    var div = document.createElement('div').style;\r\n                    return ('webkitPerspective' in div || 'MozPerspective' in div || 'OPerspective' in div || 'MsPerspective' in div || 'perspective' in div);\r\n                })(),\r\n        \r\n                flexbox: (function () {\r\n                    var div = document.createElement('div').style;\r\n                    var styles = ('alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient').split(' ');\r\n                    for (var i = 0; i < styles.length; i++) {\r\n                        if (styles[i] in div) return true;\r\n                    }\r\n                })(),\r\n        \r\n                observer: (function () {\r\n                    return ('MutationObserver' in window || 'WebkitMutationObserver' in window);\r\n                })(),\r\n        \r\n                passiveListener: (function () {\r\n                    var supportsPassive = false;\r\n                    try {\r\n                        var opts = Object.defineProperty({}, 'passive', {\r\n                            get: function() {\r\n                                supportsPassive = true;\r\n                            }\r\n                        });\r\n                        window.addEventListener('testPassiveListener', null, opts);\r\n                    } catch (e) {}\r\n                    return supportsPassive;\r\n                })(),\r\n        \r\n                gestures: (function () {\r\n                    return 'ongesturestart' in window;\r\n                })()\r\n            },\r\n            /*==================================================\r\n            Plugins\r\n            ====================================================*/\r\n            plugins: {}\r\n        };\n\n        })();\r\n        \n\r\n//# sourceMappingURL=framework7.js.map\r\n"]}